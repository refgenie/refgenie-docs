
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../usage/">
      
      
        <link rel="next" href="../../notebooks/refgenconf_usage/">
      
      
      <link rel="icon" href="../../../img/refgenie_bug.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>Python API - Refgenie: next-generation reference genome management</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.e53b48f4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#refgenconf-python-api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Refgenie: next-generation reference genome management" class="md-header__button md-logo" aria-label="Refgenie: next-generation reference genome management" data-md-component="logo">
      
  <img src="../../../img/refgenie_bug_light.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Refgenie: next-generation reference genome management
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Python API
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
    
  
  Refgenie

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../refgenieserver/" class="md-tabs__link">
          
  
  
    
  
  Refgenie server

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../refgenie1/" class="md-tabs__link">
          
  
  
    
  
  Refgenie 1

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../refgenieserver1/" class="md-tabs__link">
          
  
  
    
  
  Refgenie server 1

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../refget/" class="md-tabs__link">
          
  
  
    
  
  Refget

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Refgenie: next-generation reference genome management" class="md-nav__button md-logo" aria-label="Refgenie: next-generation reference genome management" data-md-component="logo">
      
  <img src="../../../img/refgenie_bug_light.svg" alt="logo">

    </a>
    Refgenie: next-generation reference genome management
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Refgenie
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Refgenie
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_1" id="__nav_1_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_1">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../demo_videos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Demo videos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install and configure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic tutorial
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../manuscripts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Citing refgenie
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2" >
        
          
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    How-to guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            How-to guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../asset_registry_paths/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Refer to assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pull/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Download pre-built assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../build/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custom_assets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Add custom assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../seek/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Retrieve paths to assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use asset tags
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/aliases/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use aliases
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../populate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Populate refgenie paths
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../compare/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Compare genomes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenieserver/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Run my own asset server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenconf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use refgenie from Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../code_snippets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use refgenie in your pipeline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../remote/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use refgenie on the cloud
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../igenomes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use refgenie with iGenomes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/config_upgrade_03_to_04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Upgrade from config 0.3 to 0.4
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" checked>
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../uses_refgenie/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Studies using refgenie
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../genome_config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Genome configuration file
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../recipe_specification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Recipe
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../asset_class_specification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Asset class
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../available_assets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Buildable assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Python API
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Python API
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#package-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Package Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Package Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-features" class="md-nav__link">
    <span class="md-ellipsis">
      Key Features
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quick-example" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-reference" class="md-nav__link">
    <span class="md-ellipsis">
      API Reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="API Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#refgenconf-class" class="md-nav__link">
    <span class="md-ellipsis">
      RefGenConf Class
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RefGenConf
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" RefGenConf">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.alias_dir" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;alias_dir
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.data_dir" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;data_dir
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.file_path" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;file_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.genome_aliases" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;genome_aliases
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.genome_aliases_table" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;genome_aliases_table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.plugins" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;plugins
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.add" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.assets_str" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;assets_str
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.cfg_remove_assets" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;cfg_remove_assets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.cfg_tag_asset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;cfg_tag_asset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.chk_digest_update_child" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;chk_digest_update_child
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.compare" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compare
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.filepath" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;filepath
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.genomes_list" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;genomes_list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.genomes_str" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;genomes_str
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.get_asds_path" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_asds_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.get_asset_table" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_asset_table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.get_default_tag" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_default_tag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.get_genome_alias" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_genome_alias
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.get_genome_alias_digest" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_genome_alias_digest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.get_genome_attributes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_genome_attributes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.get_local_data_str" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_local_data_str
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.get_remote_data_str" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_remote_data_str
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.get_symlink_paths" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_symlink_paths
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.getseq" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;getseq
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.id" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.initialize_config_file" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;initialize_config_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.initialize_genome" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;initialize_genome
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.is_asset_complete" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;is_asset_complete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.list" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.list_assets_by_genome" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;list_assets_by_genome
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.list_genomes_by_asset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;list_genomes_by_asset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.list_seek_keys_values" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;list_seek_keys_values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.listr" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;listr
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.populate" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;populate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.populater" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;populater
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.pull" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;pull
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.remove" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;remove
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.remove_asset_from_relatives" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;remove_asset_from_relatives
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.remove_genome_aliases" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;remove_genome_aliases
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.run_plugins" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;run_plugins
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.seek" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;seek
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.seek_src" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;seek_src
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.seekr" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;seekr
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.set_default_pointer" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_default_pointer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.set_genome_alias" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_genome_alias
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.subscribe" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;subscribe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.tag" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;tag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.unsubscribe" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;unsubscribe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.update_assets" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_assets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.update_genomes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_genomes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.update_relatives_assets" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_relatives_assets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.update_seek_keys" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_seek_keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.update_tags" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_tags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.write" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;write
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      Exceptions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#refgenconf.MissingGenomeError" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MissingGenomeError
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#refgenconf.MissingAssetError" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MissingAssetError
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#refgenconf.RefgenconfError" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RefgenconfError
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" RefgenconfError">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utility-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Utility Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#refgenconf.select_genome_config" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;select_genome_config
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/refgenconf_usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Refgenconf usage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/databio/refgenie/issues" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Support
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../refgenieserver/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Refgenie server
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Refgenie server
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Refgenie 1
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Refgenie 1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../refgenie1/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenie1/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenie1/install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenie1/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenie1/manuscripts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Citing refgenie
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    How-to guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            How-to guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenie1/asset_registry_paths/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Refer to assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenie1/pull/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Download pre-built assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenie1/notebooks/refgenie/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use refgenie from Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenie1/data_channels/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use data channels
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenie1/build/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenie1/pull/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Download pre-built assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenie1/seek/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Retrieve paths to assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenie1/naming_assets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Managing asset groups and naming
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenie1/populate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Populate refgenie paths
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenie1/set_up_data_channel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Set up your own data channel
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenie1/glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenie1/uses_refgenie/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Studies using refgenie
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenie1/recipe_specification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Recipe
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenie1/asset_class_specification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Asset class
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../refgenieserver1/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Refgenie server 1
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Refgenie server 1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenieserver1/archive_with_snakemake/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Preparing servable assets at scale
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenieserver1/data_channels/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data channels
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenieserver1/remotes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Remotes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenieserver1/endpoint_hits_collector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persisting asset download stats
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refgenieserver1/pagination_and_search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pagination and search
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Refget
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Refget
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../refget/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Getting started
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Getting started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    How-to guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            How-to guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refget/introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refget/notebooks/digests/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Computing digests
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refget/notebooks/refgetstore/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GlobalRefgetStore
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refget/notebooks/sequence-client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sequences Client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refget/notebooks/seqcol-client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sequence Collections Client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refget/notebooks/agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RefgetDB Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refget/fastapi_router/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Adding a fastAPI router
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refget/compliance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Compliance testing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refget/cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Command-line interface
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refget/changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refget/reference_docs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Refget Python API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../refget/models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pydantic models
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#package-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Package Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Package Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-features" class="md-nav__link">
    <span class="md-ellipsis">
      Key Features
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quick-example" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-reference" class="md-nav__link">
    <span class="md-ellipsis">
      API Reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="API Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#refgenconf-class" class="md-nav__link">
    <span class="md-ellipsis">
      RefGenConf Class
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RefGenConf
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" RefGenConf">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.alias_dir" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;alias_dir
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.data_dir" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;data_dir
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.file_path" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;file_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.genome_aliases" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;genome_aliases
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.genome_aliases_table" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;genome_aliases_table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.plugins" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;plugins
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.add" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.assets_str" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;assets_str
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.cfg_remove_assets" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;cfg_remove_assets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.cfg_tag_asset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;cfg_tag_asset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.chk_digest_update_child" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;chk_digest_update_child
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.compare" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compare
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.filepath" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;filepath
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.genomes_list" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;genomes_list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.genomes_str" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;genomes_str
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.get_asds_path" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_asds_path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.get_asset_table" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_asset_table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.get_default_tag" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_default_tag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.get_genome_alias" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_genome_alias
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.get_genome_alias_digest" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_genome_alias_digest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.get_genome_attributes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_genome_attributes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.get_local_data_str" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_local_data_str
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.get_remote_data_str" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_remote_data_str
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.get_symlink_paths" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_symlink_paths
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.getseq" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;getseq
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.id" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.initialize_config_file" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;initialize_config_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.initialize_genome" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;initialize_genome
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.is_asset_complete" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;is_asset_complete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.list" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.list_assets_by_genome" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;list_assets_by_genome
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.list_genomes_by_asset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;list_genomes_by_asset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.list_seek_keys_values" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;list_seek_keys_values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.listr" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;listr
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.populate" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;populate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.populater" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;populater
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.pull" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;pull
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.remove" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;remove
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.remove_asset_from_relatives" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;remove_asset_from_relatives
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.remove_genome_aliases" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;remove_genome_aliases
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.run_plugins" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;run_plugins
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.seek" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;seek
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.seek_src" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;seek_src
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.seekr" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;seekr
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.set_default_pointer" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_default_pointer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.set_genome_alias" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;set_genome_alias
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.subscribe" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;subscribe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.tag" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;tag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.unsubscribe" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;unsubscribe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.update_assets" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_assets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.update_genomes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_genomes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.update_relatives_assets" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_relatives_assets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.update_seek_keys" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_seek_keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.update_tags" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_tags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refgenconf.RefGenConf.write" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;write
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      Exceptions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#refgenconf.MissingGenomeError" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MissingGenomeError
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#refgenconf.MissingAssetError" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MissingAssetError
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#refgenconf.RefgenconfError" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RefgenconfError
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" RefgenconfError">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utility-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Utility Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#refgenconf.select_genome_config" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;select_genome_config
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="refgenconf-python-api">RefGenConf Python API</h1>
<h2 id="package-overview">Package Overview</h2>
<p>The <code>refgenconf</code> package provides a Python interface for managing reference genome resources. It offers a centralized configuration object (<code>RefGenConf</code>) that handles local and remote genome assets, enabling seamless integration with bioinformatics pipelines.</p>
<h3 id="key-features">Key Features</h3>
<ul>
<li><strong>Asset Management</strong>: Download, build, and organize reference genome assets</li>
<li><strong>Path Resolution</strong>: Retrieve paths to genome resources without hardcoding</li>
<li><strong>Remote Servers</strong>: Connect to refgenie servers to pull pre-built assets</li>
<li><strong>Aliases</strong>: Use human-readable genome names instead of digests</li>
<li><strong>Seek Keys</strong>: Access specific sub-assets within larger asset packages</li>
</ul>
<h3 id="installation">Installation</h3>
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>refgenconf
</code></pre></div>
<h3 id="quick-example">Quick Example</h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">refgenconf</span>

<span class="c1"># Initialize with a genome configuration file</span>
<span class="n">rgc</span> <span class="o">=</span> <span class="n">refgenconf</span><span class="o">.</span><span class="n">RefGenConf</span><span class="p">(</span><span class="s2">&quot;genome_config.yaml&quot;</span><span class="p">)</span>

<span class="c1"># Get path to a genome asset</span>
<span class="n">bowtie2_index</span> <span class="o">=</span> <span class="n">rgc</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="s2">&quot;hg38&quot;</span><span class="p">,</span> <span class="s2">&quot;bowtie2_index&quot;</span><span class="p">)</span>
</code></pre></div>
<h2 id="api-reference">API Reference</h2>
<h3 id="refgenconf-class">RefGenConf Class</h3>
<p>The main class for interacting with refgenie-managed assets:</p>


<div class="doc doc-object doc-class">



<h2 id="refgenconf.RefGenConf" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">RefGenConf</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">RefGenConf</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">entries</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">writable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">wait_max</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">skip_read_lock</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">genome_exact</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">schema_source</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="yacman.YacAttMap">YacAttMap</span></code></p>


        <p>A sort of oracle of available reference genome assembly assets</p>

        <p>Create the config instance by with a filepath or key-value pairs.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filepath</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a path to the YAML file to read</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>entries</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>config filepath or collection of key-value pairs</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>writable</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to create the object with write capabilities</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>wait_max</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how long to wait for creating an object when the file that data will be read from is locked</p>
              </div>
            </td>
            <td>
                  <code>60</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>skip_read_lock</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether the file should not be locked for reading when object is created in read only mode</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>refgenconf.MissingConfigDataError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if a required configuration item is missing</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if entries is given as a string and is not a file</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








                  <details class="quote">
                    <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">filepath</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">entries</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">writable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">wait_max</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span>
    <span class="n">skip_read_lock</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">genome_exact</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">schema_source</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create the config instance by with a filepath or key-value pairs.</span>

<span class="sd">    :param str filepath: a path to the YAML file to read</span>
<span class="sd">    :param Iterable[(str, object)] | Mapping[str, object] entries:</span>
<span class="sd">        config filepath or collection of key-value pairs</span>
<span class="sd">    :param bool writable: whether to create the object with write capabilities</span>
<span class="sd">    :param int wait_max: how long to wait for creating an object when the</span>
<span class="sd">        file that data will be read from is locked</span>
<span class="sd">    :param bool skip_read_lock: whether the file should not be locked for</span>
<span class="sd">        reading when object is created in read only mode</span>
<span class="sd">    :raise refgenconf.MissingConfigDataError: if a required configuration</span>
<span class="sd">        item is missing</span>
<span class="sd">    :raise ValueError: if entries is given as a string and is not a file</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_missing_key_msg</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Config lacks &#39;</span><span class="si">{}</span><span class="s2">&#39; key. Setting to: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>

    <span class="nb">super</span><span class="p">(</span><span class="n">RefGenConf</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
        <span class="n">filepath</span><span class="o">=</span><span class="n">filepath</span><span class="p">,</span>
        <span class="n">entries</span><span class="o">=</span><span class="n">entries</span><span class="p">,</span>
        <span class="n">writable</span><span class="o">=</span><span class="n">writable</span><span class="p">,</span>
        <span class="n">wait_max</span><span class="o">=</span><span class="n">wait_max</span><span class="p">,</span>
        <span class="n">skip_read_lock</span><span class="o">=</span><span class="n">skip_read_lock</span><span class="p">,</span>
        <span class="n">schema_source</span><span class="o">=</span><span class="n">schema_source</span> <span class="ow">or</span> <span class="n">DEFAULT_CONFIG_SCHEMA</span><span class="p">,</span>
        <span class="n">write_validate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="c1"># assert correct config version</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">version</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_VERSION_KEY</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="n">_missing_key_msg</span><span class="p">(</span><span class="n">CFG_VERSION_KEY</span><span class="p">,</span> <span class="n">REQ_CFG_VERSION</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">[</span><span class="n">CFG_VERSION_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">REQ_CFG_VERSION</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">version</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">version</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Cannot parse config version as numeric: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">version</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">version</span> <span class="o">&lt;</span> <span class="n">REQ_CFG_VERSION</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="s2">&quot;This genome config (v</span><span class="si">{}</span><span class="s2">) is not compliant with v</span><span class="si">{}</span><span class="s2"> standards. </span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;To use current refgenconf, please use upgrade_config function to upgrade, or&quot;</span>
                    <span class="s2">&quot;downgrade refgenconf: &#39;pip install </span><span class="se">\&quot;</span><span class="s2">refgenconf&gt;=</span><span class="si">{}</span><span class="s2">,&lt;</span><span class="si">{}</span><span class="se">\&quot;</span><span class="s2">&#39;. </span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="s2">&quot;If refgenie is installed, you can use &#39;refgenie upgrade --target-version </span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="bp">self</span><span class="p">[</span><span class="n">CFG_VERSION_KEY</span><span class="p">],</span>
                        <span class="nb">str</span><span class="p">(</span><span class="n">REQ_CFG_VERSION</span><span class="p">),</span>
                        <span class="n">REFGENIE_BY_CFG</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">version</span><span class="p">)],</span>
                        <span class="n">REFGENIE_BY_CFG</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">REQ_CFG_VERSION</span><span class="p">)],</span>
                        <span class="nb">str</span><span class="p">(</span><span class="n">REQ_CFG_VERSION</span><span class="p">),</span>
                    <span class="p">)</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="n">ConfigNotCompliantError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Config version is compliant: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">version</span><span class="p">))</span>

    <span class="c1"># initialize &quot;genomes_folder&quot;</span>
    <span class="k">if</span> <span class="n">CFG_FOLDER_KEY</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="bp">self</span><span class="p">[</span><span class="n">CFG_FOLDER_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span> <span class="k">if</span> <span class="n">filepath</span> <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="n">_missing_key_msg</span><span class="p">(</span><span class="n">CFG_FOLDER_KEY</span><span class="p">,</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_FOLDER_KEY</span><span class="p">])</span>
    <span class="c1"># initialize &quot;genome_servers&quot;</span>
    <span class="k">if</span> <span class="n">CFG_SERVERS_KEY</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span> <span class="ow">and</span> <span class="n">CFG_SERVER_KEY</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="c1"># backwards compatibility after server config key change</span>
        <span class="bp">self</span><span class="p">[</span><span class="n">CFG_SERVERS_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_SERVER_KEY</span><span class="p">]</span>
        <span class="k">del</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_SERVER_KEY</span><span class="p">]</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Moved servers list from &#39;</span><span class="si">{</span><span class="n">CFG_SERVER_KEY</span><span class="si">}</span><span class="s2">&#39; to &#39;</span><span class="si">{</span><span class="n">CFG_SERVERS_KEY</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">CFG_SERVERS_KEY</span><span class="p">],</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">tmp_list</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">server_url</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">server_url</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_SERVERS_KEY</span><span class="p">]</span>
            <span class="p">]</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">CFG_SERVERS_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp_list</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># Logic in pull_asset expects a list, even for a single server</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">CFG_SERVERS_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_SERVERS_KEY</span><span class="p">]</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">CFG_SERVERS_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">[</span><span class="n">CFG_SERVERS_KEY</span><span class="p">]]</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="n">_missing_key_msg</span><span class="p">(</span><span class="n">CFG_SERVERS_KEY</span><span class="p">,</span> <span class="nb">str</span><span class="p">([</span><span class="n">DEFAULT_SERVER</span><span class="p">]))</span>
        <span class="bp">self</span><span class="p">[</span><span class="n">CFG_SERVERS_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">DEFAULT_SERVER</span><span class="p">]</span>

    <span class="c1"># initialize &quot;genomes&quot; mapping</span>
    <span class="k">if</span> <span class="n">CFG_GENOMES_KEY</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">],</span> <span class="n">PXAM</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">]:</span>
                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;&#39;</span><span class="si">{k}</span><span class="s2">&#39; value is a </span><span class="si">{t_old}</span><span class="s2">, not a </span><span class="si">{t_new}</span><span class="s2">; setting to empty </span><span class="si">{t_new}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="n">k</span><span class="o">=</span><span class="n">CFG_GENOMES_KEY</span><span class="p">,</span>
                        <span class="n">t_old</span><span class="o">=</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">])</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                        <span class="n">t_new</span><span class="o">=</span><span class="n">PXAM</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">PXAM</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">PXAM</span><span class="p">()</span>

    <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">yacman</span><span class="o">.</span><span class="n">AliasedYacAttMap</span><span class="p">(</span>
        <span class="n">entries</span><span class="o">=</span><span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">],</span>
        <span class="n">aliases</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="n">CFG_ALIASES_KEY</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">items</span><span class="p">()},</span>
        <span class="n">aliases_strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">exact</span><span class="o">=</span><span class="n">genome_exact</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="refgenconf.RefGenConf.alias_dir" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">alias_dir</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">alias_dir</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Path to the genome alias directory</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to the directory where the assets are stored</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="refgenconf.RefGenConf.data_dir" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">data_dir</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">data_dir</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Path to the genome data directory</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to the directory where the assets are stored</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="refgenconf.RefGenConf.file_path" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">file_path</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">file_path</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Path to the genome configuration file</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to the genome configuration file</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="refgenconf.RefGenConf.genome_aliases" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">genome_aliases</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">genome_aliases</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Mapping of human-readable genome identifiers to genome identifiers</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>mapping of human-readable genome identifiers to genome identifiers</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="refgenconf.RefGenConf.genome_aliases_table" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">genome_aliases_table</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">genome_aliases_table</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Mapping of human-readable genome identifiers to genome identifiers</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>mapping of human-readable genome identifiers to genome identifiers</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="refgenconf.RefGenConf.plugins" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">plugins</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">plugins</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Plugins registered by entry points in the current Python env</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dict which keys are names of all possible hooks and values are dicts mapping registered functions names to their values</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>




<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.add" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">add</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">add</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">seek_keys</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Add an external asset to the config</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a path to the asset to add; must exist and be relative to the genome_folder</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>genome name</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>asset name</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tag</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>tag name</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>seek_keys</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>seek keys to add</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>force</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to force existing asset overwrite</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">seek_keys</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add an external asset to the config</span>

<span class="sd">    :param str path: a path to the asset to add; must exist and be relative</span>
<span class="sd">        to the genome_folder</span>
<span class="sd">    :param str genome: genome name</span>
<span class="sd">    :param str asset: asset name</span>
<span class="sd">    :param str tag: tag name</span>
<span class="sd">    :param dict seek_keys: seek keys to add</span>
<span class="sd">    :param bool force: whether to force existing asset overwrite</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">genome</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_genome_alias_digest</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">genome</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">yacman</span><span class="o">.</span><span class="n">UndefinedAliasError</span><span class="p">:</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="s2">&quot;No digest defined for &#39;</span><span class="si">{}</span><span class="s2">&#39;. Set an alias or pull an&quot;</span>
            <span class="s2">&quot; asset to initialize.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">genome</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="n">tag</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_default_tag</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">)</span>
    <span class="n">abspath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">CFG_FOLDER_KEY</span><span class="p">],</span> <span class="n">path</span><span class="p">)</span>
    <span class="n">remove</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">abspath</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="n">abspath</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span>
            <span class="s2">&quot;Provided path must exist and be relative to the&quot;</span>
            <span class="s2">&quot; genome_folder: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">CFG_FOLDER_KEY</span><span class="p">])</span>
        <span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">_assert_gat_exists</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">],</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">force</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">query_yes_no</span><span class="p">(</span>
            <span class="s2">&quot;&#39;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2">&#39; exists. Do you want to overwrite?&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span>
            <span class="p">)</span>
        <span class="p">):</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Aborted by a user, asset no added&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="n">remove</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Will remove existing to overwrite&quot;</span><span class="p">)</span>
    <span class="n">tag_data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">CFG_ASSET_PATH_KEY</span><span class="p">:</span> <span class="n">path</span><span class="p">,</span>
        <span class="n">CFG_ASSET_CHECKSUM_KEY</span><span class="p">:</span> <span class="n">get_dir_digest</span><span class="p">(</span><span class="n">abspath</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Added asset: </span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">genome</span><span class="p">,</span>
        <span class="n">asset</span><span class="p">,</span>
        <span class="n">tag</span><span class="p">,</span>
        <span class="s2">&quot;&quot;</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">seek_keys</span> <span class="k">else</span> <span class="s2">&quot;with seek keys: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">seek_keys</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">remove</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cfg_remove_assets</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_tags</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">tag_data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_seek_keys</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">seek_keys</span> <span class="ow">or</span> <span class="p">{</span><span class="n">asset</span><span class="p">:</span> <span class="s2">&quot;.&quot;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_default_pointer</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">with</span> <span class="bp">self</span> <span class="k">as</span> <span class="n">rgc</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">remove</span><span class="p">:</span>
                <span class="n">rgc</span><span class="o">.</span><span class="n">cfg_remove_assets</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
            <span class="n">rgc</span><span class="o">.</span><span class="n">update_tags</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">tag_data</span><span class="p">)</span>
            <span class="n">rgc</span><span class="o">.</span><span class="n">update_seek_keys</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">seek_keys</span> <span class="ow">or</span> <span class="p">{</span><span class="n">asset</span><span class="p">:</span> <span class="s2">&quot;.&quot;</span><span class="p">})</span>
            <span class="n">rgc</span><span class="o">.</span><span class="n">set_default_pointer</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_symlink_alias</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.assets_str" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">assets_str</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">assets_str</span><span class="p">(</span><span class="n">offset_text</span><span class="o">=</span><span class="s1">&#39;  &#39;</span><span class="p">,</span> <span class="n">asset_sep</span><span class="o">=</span><span class="s1">&#39;, &#39;</span><span class="p">,</span> <span class="n">genome_assets_delim</span><span class="o">=</span><span class="s1">&#39;/ &#39;</span><span class="p">,</span> <span class="n">genome</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create a block of text representing genome-to-asset mapping.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>offset_text</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>text that begins each line of the text representation that's produced</p>
              </div>
            </td>
            <td>
                  <code>&#39;  &#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset_sep</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the delimiter between names of types of assets, within each genome line</p>
              </div>
            </td>
            <td>
                  <code>&#39;, &#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>genome_assets_delim</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the delimiter to place between reference genome assembly name and its list of asset names</p>
              </div>
            </td>
            <td>
                  <code>&#39;/ &#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>genomes that the assets should be found for</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>order</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to key genome IDs and asset names for sort</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>text representing genome-to-asset mapping</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">assets_str</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">offset_text</span><span class="o">=</span><span class="s2">&quot;  &quot;</span><span class="p">,</span>
    <span class="n">asset_sep</span><span class="o">=</span><span class="s2">&quot;, &quot;</span><span class="p">,</span>
    <span class="n">genome_assets_delim</span><span class="o">=</span><span class="s2">&quot;/ &quot;</span><span class="p">,</span>
    <span class="n">genome</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">order</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a block of text representing genome-to-asset mapping.</span>

<span class="sd">    :param str offset_text: text that begins each line of the text</span>
<span class="sd">        representation that&#39;s produced</span>
<span class="sd">    :param str asset_sep: the delimiter between names of types of assets,</span>
<span class="sd">        within each genome line</span>
<span class="sd">    :param str genome_assets_delim: the delimiter to place between</span>
<span class="sd">        reference genome assembly name and its list of asset names</span>
<span class="sd">    :param list[str] | str genome: genomes that the assets should be found for</span>
<span class="sd">    :param function(str) -&gt; object order: how to key genome IDs and asset</span>
<span class="sd">        names for sort</span>
<span class="sd">    :return str: text representing genome-to-asset mapping</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">refgens</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_select_genomes</span><span class="p">(</span><span class="n">genome</span><span class="o">=</span><span class="n">genome</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="n">order</span><span class="p">)</span>
    <span class="n">make_line</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span>
        <span class="n">_make_genome_assets_line</span><span class="p">,</span>
        <span class="n">offset_text</span><span class="o">=</span><span class="n">offset_text</span><span class="p">,</span>
        <span class="n">genome_assets_delim</span><span class="o">=</span><span class="n">genome_assets_delim</span><span class="p">,</span>
        <span class="n">asset_sep</span><span class="o">=</span><span class="n">asset_sep</span><span class="p">,</span>
        <span class="n">order</span><span class="o">=</span><span class="n">order</span><span class="p">,</span>
        <span class="n">rjust</span><span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">refgens</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="p">[</span><span class="n">make_line</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">g</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">])</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">refgens</span><span class="p">]</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.cfg_remove_assets" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">cfg_remove_assets</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">cfg_remove_assets</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">relationships</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Remove data associated with a specified genome:asset:tag combination.
If no tags are specified, the entire asset is removed from the genome.</p>
<p>If no more tags are defined for the selected genome:asset after tag removal,
the parent asset will be removed as well
If no more assets are defined for the selected genome after asset removal,
the parent genome will be removed as well</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>genome to be removed</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>asset package to be removed</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tag</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>tag to be removed</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>relationships</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether the asset being removed should be removed from its relatives as well</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>updated object</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>TypeError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if genome argument type is not a list or str</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2240</span>
<span class="normal">2241</span>
<span class="normal">2242</span>
<span class="normal">2243</span>
<span class="normal">2244</span>
<span class="normal">2245</span>
<span class="normal">2246</span>
<span class="normal">2247</span>
<span class="normal">2248</span>
<span class="normal">2249</span>
<span class="normal">2250</span>
<span class="normal">2251</span>
<span class="normal">2252</span>
<span class="normal">2253</span>
<span class="normal">2254</span>
<span class="normal">2255</span>
<span class="normal">2256</span>
<span class="normal">2257</span>
<span class="normal">2258</span>
<span class="normal">2259</span>
<span class="normal">2260</span>
<span class="normal">2261</span>
<span class="normal">2262</span>
<span class="normal">2263</span>
<span class="normal">2264</span>
<span class="normal">2265</span>
<span class="normal">2266</span>
<span class="normal">2267</span>
<span class="normal">2268</span>
<span class="normal">2269</span>
<span class="normal">2270</span>
<span class="normal">2271</span>
<span class="normal">2272</span>
<span class="normal">2273</span>
<span class="normal">2274</span>
<span class="normal">2275</span>
<span class="normal">2276</span>
<span class="normal">2277</span>
<span class="normal">2278</span>
<span class="normal">2279</span>
<span class="normal">2280</span>
<span class="normal">2281</span>
<span class="normal">2282</span>
<span class="normal">2283</span>
<span class="normal">2284</span>
<span class="normal">2285</span>
<span class="normal">2286</span>
<span class="normal">2287</span>
<span class="normal">2288</span>
<span class="normal">2289</span>
<span class="normal">2290</span>
<span class="normal">2291</span>
<span class="normal">2292</span>
<span class="normal">2293</span>
<span class="normal">2294</span>
<span class="normal">2295</span>
<span class="normal">2296</span>
<span class="normal">2297</span>
<span class="normal">2298</span>
<span class="normal">2299</span>
<span class="normal">2300</span>
<span class="normal">2301</span>
<span class="normal">2302</span>
<span class="normal">2303</span>
<span class="normal">2304</span>
<span class="normal">2305</span>
<span class="normal">2306</span>
<span class="normal">2307</span>
<span class="normal">2308</span>
<span class="normal">2309</span>
<span class="normal">2310</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">cfg_remove_assets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">relationships</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Remove data associated with a specified genome:asset:tag combination.</span>
<span class="sd">    If no tags are specified, the entire asset is removed from the genome.</span>

<span class="sd">    If no more tags are defined for the selected genome:asset after tag removal,</span>
<span class="sd">    the parent asset will be removed as well</span>
<span class="sd">    If no more assets are defined for the selected genome after asset removal,</span>
<span class="sd">    the parent genome will be removed as well</span>

<span class="sd">    :param str genome: genome to be removed</span>
<span class="sd">    :param str asset: asset package to be removed</span>
<span class="sd">    :param str tag: tag to be removed</span>
<span class="sd">    :param bool relationships: whether the asset being removed should</span>
<span class="sd">        be removed from its relatives as well</span>
<span class="sd">    :raise TypeError: if genome argument type is not a list or str</span>
<span class="sd">    :return RefGenConf: updated object</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_del_if_empty</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="n">alt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Internal function for Mapping attribute deleting.</span>
<span class="sd">        Check if attribute exists and delete it if its length is zero.</span>

<span class="sd">        :param Mapping obj: an object to check</span>
<span class="sd">        :param str attr: Mapping attribute of interest</span>
<span class="sd">        :param list[Mapping, str] alt: a list of length 2 that indicates alternative</span>
<span class="sd">        Mapping-attribute combination to remove</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">obj</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">obj</span><span class="p">[</span><span class="n">attr</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">alt</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">obj</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">alt</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">alt</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="k">del</span> <span class="n">alt</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">alt</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>

    <span class="n">tag</span> <span class="o">=</span> <span class="n">tag</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_default_tag</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">_check_insert_data</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;genome&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">_check_insert_data</span><span class="p">(</span><span class="n">asset</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;asset&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">_check_insert_data</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;tag&quot;</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">relationships</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">remove_asset_from_relatives</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
                <span class="k">del</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span><span class="n">asset</span><span class="p">][</span>
                    <span class="n">CFG_ASSET_TAGS_KEY</span>
                <span class="p">][</span><span class="n">tag</span><span class="p">]</span>
                <span class="n">_del_if_empty</span><span class="p">(</span>
                    <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span><span class="n">asset</span><span class="p">],</span>
                    <span class="n">CFG_ASSET_TAGS_KEY</span><span class="p">,</span>
                    <span class="p">[</span><span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">],</span> <span class="n">asset</span><span class="p">],</span>
                <span class="p">)</span>
                <span class="n">_del_if_empty</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">],</span> <span class="n">asset</span><span class="p">)</span>
                <span class="n">_del_if_empty</span><span class="p">(</span>
                    <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">],</span>
                    <span class="n">CFG_ASSETS_KEY</span><span class="p">,</span>
                    <span class="p">[</span><span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">],</span> <span class="n">genome</span><span class="p">],</span>
                <span class="p">)</span>
                <span class="n">_del_if_empty</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">],</span> <span class="n">genome</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">default_tag</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span>
                        <span class="n">asset</span>
                    <span class="p">][</span><span class="n">CFG_ASSET_DEFAULT_TAG_KEY</span><span class="p">]</span>
                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">default_tag</span> <span class="o">==</span> <span class="n">tag</span><span class="p">:</span>
                        <span class="k">del</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span><span class="n">asset</span><span class="p">][</span>
                            <span class="n">CFG_ASSET_DEFAULT_TAG_KEY</span>
                        <span class="p">]</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.cfg_tag_asset" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">cfg_tag_asset</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">cfg_tag_asset</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">new_tag</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Retags the asset selected by the tag with the new_tag.
Prompts if default already exists and overrides upon confirmation.</p>
<p>This method does not override the original asset entry in the
RefGenConf object. It creates its copy and tags it with the new_tag.
Additionally, if the retagged asset has any children their parent will
 be retagged as new_tag that was introduced upon this method execution.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of a reference genome assembly of interest</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of particular asset of interest</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tag</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the tag that identifies the asset of interest</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>new_tag</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of particular the new tag</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>force</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>force any actions that require approval</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a logical indicating whether the tagging was successful</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>when the original tag is not specified</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">cfg_tag_asset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">new_tag</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retags the asset selected by the tag with the new_tag.</span>
<span class="sd">    Prompts if default already exists and overrides upon confirmation.</span>

<span class="sd">    This method does not override the original asset entry in the</span>
<span class="sd">    RefGenConf object. It creates its copy and tags it with the new_tag.</span>
<span class="sd">    Additionally, if the retagged asset has any children their parent will</span>
<span class="sd">     be retagged as new_tag that was introduced upon this method execution.</span>

<span class="sd">    :param str genome: name of a reference genome assembly of interest</span>
<span class="sd">    :param str asset: name of particular asset of interest</span>
<span class="sd">    :param str tag: name of the tag that identifies the asset of interest</span>
<span class="sd">    :param str new_tag: name of particular the new tag</span>
<span class="sd">    :param bool force: force any actions that require approval</span>
<span class="sd">    :raise ValueError: when the original tag is not specified</span>
<span class="sd">    :return bool: a logical indicating whether the tagging was successful</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_assert_gat_exists</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
    <span class="n">asset_mapping</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span><span class="n">asset</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">tag</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">ts</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">get_asset_tags</span><span class="p">(</span><span class="n">asset_mapping</span><span class="p">))</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;You must explicitly specify the tag of the asset&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; you want to reassign. Currently defined tags &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;for &#39;</span><span class="si">{</span><span class="n">genome</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">asset</span><span class="si">}</span><span class="s2">&#39; are: </span><span class="si">{</span><span class="n">ts</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">new_tag</span> <span class="ow">in</span> <span class="n">asset_mapping</span><span class="p">[</span><span class="n">CFG_ASSET_TAGS_KEY</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">force</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">query_yes_no</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;You already have a &#39;</span><span class="si">{</span><span class="n">asset</span><span class="si">}</span><span class="s2">&#39; asset tagged as &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">new_tag</span><span class="si">}</span><span class="s2">&#39;, do you wish to override?&quot;</span>
        <span class="p">):</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Tag action aborted by the user&quot;</span><span class="p">)</span>
            <span class="k">return</span>
    <span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">parents</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">CFG_ASSET_CHILDREN_KEY</span> <span class="ow">in</span> <span class="n">asset_mapping</span><span class="p">[</span><span class="n">CFG_ASSET_TAGS_KEY</span><span class="p">][</span><span class="n">tag</span><span class="p">]:</span>
        <span class="n">children</span> <span class="o">=</span> <span class="n">asset_mapping</span><span class="p">[</span><span class="n">CFG_ASSET_TAGS_KEY</span><span class="p">][</span><span class="n">tag</span><span class="p">][</span><span class="n">CFG_ASSET_CHILDREN_KEY</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">CFG_ASSET_PARENTS_KEY</span> <span class="ow">in</span> <span class="n">asset_mapping</span><span class="p">[</span><span class="n">CFG_ASSET_TAGS_KEY</span><span class="p">][</span><span class="n">tag</span><span class="p">]:</span>
        <span class="n">parents</span> <span class="o">=</span> <span class="n">asset_mapping</span><span class="p">[</span><span class="n">CFG_ASSET_TAGS_KEY</span><span class="p">][</span><span class="n">tag</span><span class="p">][</span><span class="n">CFG_ASSET_PARENTS_KEY</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">children</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">parents</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">force</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">query_yes_no</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The asset &#39;</span><span class="si">{</span><span class="n">genome</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">asset</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s2">&#39; has </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">children</span><span class="p">)</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;children and </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">parents</span><span class="p">)</span><span class="si">}</span><span class="s2"> parents. Refgenie will update&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; the relationship data. Do you want to proceed?&quot;</span>
        <span class="p">):</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Tag action aborted by the user&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="c1"># updates children&#39;s parents</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_relatives_tags</span><span class="p">(</span>
            <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">new_tag</span><span class="p">,</span> <span class="n">children</span><span class="p">,</span> <span class="n">update_children</span><span class="o">=</span><span class="kc">False</span>
        <span class="p">)</span>
        <span class="c1"># updates parents&#39; children</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_relatives_tags</span><span class="p">(</span>
            <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">new_tag</span><span class="p">,</span> <span class="n">parents</span><span class="p">,</span> <span class="n">update_children</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
    <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span><span class="n">asset</span><span class="p">][</span><span class="n">CFG_ASSET_TAGS_KEY</span><span class="p">][</span>
        <span class="n">new_tag</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">asset_mapping</span><span class="p">[</span><span class="n">CFG_ASSET_TAGS_KEY</span><span class="p">][</span><span class="n">tag</span><span class="p">]</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="n">CFG_ASSET_DEFAULT_TAG_KEY</span> <span class="ow">in</span> <span class="n">asset_mapping</span>
        <span class="ow">and</span> <span class="n">asset_mapping</span><span class="p">[</span><span class="n">CFG_ASSET_DEFAULT_TAG_KEY</span><span class="p">]</span> <span class="o">==</span> <span class="n">tag</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_default_pointer</span><span class="p">(</span>
            <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">new_tag</span><span class="p">,</span> <span class="n">force_exists</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">force_fasta</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cfg_remove_assets</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.chk_digest_update_child" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">chk_digest_update_child</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">chk_digest_update_child</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">remote_asset_name</span><span class="p">,</span> <span class="n">child_name</span><span class="p">,</span> <span class="n">server_url</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Check local asset digest against the remote one and populate children of the
asset with the provided asset:tag.</p>
<p>In case the local asset does not exist, the config is populated with the remote
 asset digest and children data</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the genome to check the asset digests for</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>remote_asset_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>asset and tag names, formatted like: asset:tag</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>child_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name to be appended to the children of the parent</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>server_url</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>address of the server to query for the digests</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>RefgenconfError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the local digest does not match its remote counterpart</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2496</span>
<span class="normal">2497</span>
<span class="normal">2498</span>
<span class="normal">2499</span>
<span class="normal">2500</span>
<span class="normal">2501</span>
<span class="normal">2502</span>
<span class="normal">2503</span>
<span class="normal">2504</span>
<span class="normal">2505</span>
<span class="normal">2506</span>
<span class="normal">2507</span>
<span class="normal">2508</span>
<span class="normal">2509</span>
<span class="normal">2510</span>
<span class="normal">2511</span>
<span class="normal">2512</span>
<span class="normal">2513</span>
<span class="normal">2514</span>
<span class="normal">2515</span>
<span class="normal">2516</span>
<span class="normal">2517</span>
<span class="normal">2518</span>
<span class="normal">2519</span>
<span class="normal">2520</span>
<span class="normal">2521</span>
<span class="normal">2522</span>
<span class="normal">2523</span>
<span class="normal">2524</span>
<span class="normal">2525</span>
<span class="normal">2526</span>
<span class="normal">2527</span>
<span class="normal">2528</span>
<span class="normal">2529</span>
<span class="normal">2530</span>
<span class="normal">2531</span>
<span class="normal">2532</span>
<span class="normal">2533</span>
<span class="normal">2534</span>
<span class="normal">2535</span>
<span class="normal">2536</span>
<span class="normal">2537</span>
<span class="normal">2538</span>
<span class="normal">2539</span>
<span class="normal">2540</span>
<span class="normal">2541</span>
<span class="normal">2542</span>
<span class="normal">2543</span>
<span class="normal">2544</span>
<span class="normal">2545</span>
<span class="normal">2546</span>
<span class="normal">2547</span>
<span class="normal">2548</span>
<span class="normal">2549</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">chk_digest_update_child</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">remote_asset_name</span><span class="p">,</span> <span class="n">child_name</span><span class="p">,</span> <span class="n">server_url</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check local asset digest against the remote one and populate children of the</span>
<span class="sd">    asset with the provided asset:tag.</span>

<span class="sd">    In case the local asset does not exist, the config is populated with the remote</span>
<span class="sd">     asset digest and children data</span>

<span class="sd">    :param str genome: name of the genome to check the asset digests for</span>
<span class="sd">    :param str remote_asset_name: asset and tag names, formatted like: asset:tag</span>
<span class="sd">    :param str child_name: name to be appended to the children of the parent</span>
<span class="sd">    :param str server_url: address of the server to query for the digests</span>
<span class="sd">    :raise RefgenconfError: if the local digest does not match its remote counterpart</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">remote_asset_data</span> <span class="o">=</span> <span class="n">prp</span><span class="p">(</span><span class="n">remote_asset_name</span><span class="p">)</span>
    <span class="n">asset</span> <span class="o">=</span> <span class="n">remote_asset_data</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">]</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="n">remote_asset_data</span><span class="p">[</span><span class="s2">&quot;tag&quot;</span><span class="p">]</span>
    <span class="n">asset_digest_url</span> <span class="o">=</span> <span class="n">construct_request_url</span><span class="p">(</span><span class="n">server_url</span><span class="p">,</span> <span class="n">API_ID_DIGEST</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">genome</span><span class="o">=</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="o">=</span><span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="n">tag</span>
    <span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">remote_digest</span> <span class="o">=</span> <span class="n">send_data_request</span><span class="p">(</span><span class="n">asset_digest_url</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">DownloadJsonError</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># we need to allow for missing seek_keys section so that the digest is</span>
        <span class="c1"># respected even from the previously populated &#39;incomplete asset&#39; from</span>
        <span class="c1"># the server</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_assert_gat_exists</span><span class="p">(</span>
            <span class="n">genome</span><span class="p">,</span>
            <span class="n">asset</span><span class="p">,</span>
            <span class="n">tag</span><span class="p">,</span>
            <span class="n">allow_incomplete</span><span class="o">=</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_asset_complete</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="n">MissingAssetError</span><span class="p">,</span> <span class="n">MissingGenomeError</span><span class="p">,</span> <span class="n">MissingSeekKeyError</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_tags</span><span class="p">(</span>
            <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="p">{</span><span class="n">CFG_ASSET_CHECKSUM_KEY</span><span class="p">:</span> <span class="n">remote_digest</span><span class="p">}</span>
        <span class="p">)</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Could not find &#39;</span><span class="si">{</span><span class="n">genome</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">asset</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s2">&#39; digest. &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Populating with server data&quot;</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">local_digest</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span><span class="n">asset</span><span class="p">][</span>
            <span class="n">CFG_ASSET_TAGS_KEY</span>
        <span class="p">][</span><span class="n">tag</span><span class="p">][</span><span class="n">CFG_ASSET_CHECKSUM_KEY</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">remote_digest</span> <span class="o">!=</span> <span class="n">local_digest</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">RemoteDigestMismatchError</span><span class="p">(</span><span class="n">asset</span><span class="p">,</span> <span class="n">local_digest</span><span class="p">,</span> <span class="n">remote_digest</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_relatives_assets</span><span class="p">(</span>
            <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="p">[</span><span class="n">child_name</span><span class="p">],</span> <span class="n">children</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.compare" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">compare</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">compare</span><span class="p">(</span><span class="n">genome1</span><span class="p">,</span> <span class="n">genome2</span><span class="p">,</span> <span class="n">explain</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Check genomes compatibility level.
Compares Annotated Sequence Digests (ASDs) -- digested sequences and
metadata</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome1</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the first genome to compare</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>genome2</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the first genome to compare</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>explain</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether the returned code explanation should be displayed</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>compatibility code</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2570</span>
<span class="normal">2571</span>
<span class="normal">2572</span>
<span class="normal">2573</span>
<span class="normal">2574</span>
<span class="normal">2575</span>
<span class="normal">2576</span>
<span class="normal">2577</span>
<span class="normal">2578</span>
<span class="normal">2579</span>
<span class="normal">2580</span>
<span class="normal">2581</span>
<span class="normal">2582</span>
<span class="normal">2583</span>
<span class="normal">2584</span>
<span class="normal">2585</span>
<span class="normal">2586</span>
<span class="normal">2587</span>
<span class="normal">2588</span>
<span class="normal">2589</span>
<span class="normal">2590</span>
<span class="normal">2591</span>
<span class="normal">2592</span>
<span class="normal">2593</span>
<span class="normal">2594</span>
<span class="normal">2595</span>
<span class="normal">2596</span>
<span class="normal">2597</span>
<span class="normal">2598</span>
<span class="normal">2599</span>
<span class="normal">2600</span>
<span class="normal">2601</span>
<span class="normal">2602</span>
<span class="normal">2603</span>
<span class="normal">2604</span>
<span class="normal">2605</span>
<span class="normal">2606</span>
<span class="normal">2607</span>
<span class="normal">2608</span>
<span class="normal">2609</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">compare</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genome1</span><span class="p">,</span> <span class="n">genome2</span><span class="p">,</span> <span class="n">explain</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check genomes compatibility level.</span>
<span class="sd">    Compares Annotated Sequence Digests (ASDs) -- digested sequences and</span>
<span class="sd">    metadata</span>
<span class="sd">    :param str genome1: name of the first genome to compare</span>
<span class="sd">    :param str genome2: name of the first genome to compare</span>
<span class="sd">    :param bool explain: whether the returned code explanation should</span>
<span class="sd">        be displayed</span>
<span class="sd">    :return int: compatibility code</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_get_asds_for_genome</span><span class="p">(</span><span class="n">rgc</span><span class="p">,</span> <span class="n">genome</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Read JSON file containing ASDs for a specified genome</span>
<span class="sd">        :param refgenconf.RefGenConf rgc: object to find the genome for</span>
<span class="sd">        :param str genome: genome to find the file for</span>
<span class="sd">        :return list[dict]: list of ASDs, ready to compare</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">g</span> <span class="o">=</span> <span class="n">rgc</span><span class="o">.</span><span class="n">get_genome_alias</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">error_msg</span> <span class="o">=</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;File containing Annotated Sequence Digests (ASDs) not &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;found for genome: </span><span class="si">{</span><span class="n">g</span><span class="si">}</span><span class="s2">. Must pull or build &#39;</span><span class="si">{</span><span class="n">g</span><span class="si">}</span><span class="s2">/fasta&#39; again to &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;check the compatibility.&quot;</span>
        <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">rgc</span><span class="o">.</span><span class="n">seek_src</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="s2">&quot;fasta&quot;</span><span class="p">,</span> <span class="n">strict_exists</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">MissingSeekKeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MissingSeekKeyError</span><span class="p">(</span><span class="n">error_msg</span><span class="p">)</span>
        <span class="n">json_file</span> <span class="o">=</span> <span class="n">rgc</span><span class="o">.</span><span class="n">get_asds_path</span><span class="p">(</span><span class="n">genome</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">json_file</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="n">error_msg</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">json_file</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">jfp</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">jfp</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">SeqColClient</span><span class="p">({})</span><span class="o">.</span><span class="n">compare_asds</span><span class="p">(</span>
        <span class="n">_get_asds_for_genome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_genome_alias_digest</span><span class="p">(</span><span class="n">genome1</span><span class="p">,</span> <span class="kc">True</span><span class="p">)),</span>
        <span class="n">_get_asds_for_genome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_genome_alias_digest</span><span class="p">(</span><span class="n">genome2</span><span class="p">,</span> <span class="kc">True</span><span class="p">)),</span>
        <span class="n">explain</span><span class="o">=</span><span class="n">explain</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.filepath" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">filepath</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">filepath</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">ext</span><span class="o">=</span><span class="s1">&#39;.tgz&#39;</span><span class="p">,</span> <span class="nb">dir</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Determine path to a particular asset for a particular genome.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>reference genome ID</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>asset name</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tag</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>tag name</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ext</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>file extension</p>
              </div>
            </td>
            <td>
                  <code>&#39;.tgz&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dir</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to return the enclosing directory instead of the file</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to asset for given genome and asset kind/name</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">filepath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">ext</span><span class="o">=</span><span class="s2">&quot;.tgz&quot;</span><span class="p">,</span> <span class="nb">dir</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Determine path to a particular asset for a particular genome.</span>

<span class="sd">    :param str genome: reference genome ID</span>
<span class="sd">    :param str asset: asset name</span>
<span class="sd">    :param str tag: tag name</span>
<span class="sd">    :param str ext: file extension</span>
<span class="sd">    :param bool dir: whether to return the enclosing directory instead of the file</span>
<span class="sd">    :return str: path to asset for given genome and asset kind/name</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tag_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_dir</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tag_dir</span><span class="p">,</span> <span class="n">asset</span> <span class="o">+</span> <span class="s2">&quot;__&quot;</span> <span class="o">+</span> <span class="n">tag</span> <span class="o">+</span> <span class="n">ext</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">dir</span> <span class="k">else</span> <span class="n">tag_dir</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.genomes_list" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">genomes_list</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">genomes_list</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get a list of this configuration's reference genome assembly IDs.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list of this configuration's reference genome assembly IDs</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">genomes_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get a list of this configuration&#39;s reference genome assembly IDs.</span>

<span class="sd">    :return Iterable[str]: list of this configuration&#39;s reference genome</span>
<span class="sd">        assembly IDs</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_genome_alias</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="p">],</span>
        <span class="n">key</span><span class="o">=</span><span class="n">order</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.genomes_str" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">genomes_str</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">genomes_str</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get as single string this configuration's reference genome assembly IDs.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>order</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to key genome IDs for sort</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>single string that lists this configuration's known reference genome assembly IDs</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">genomes_str</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get as single string this configuration&#39;s reference genome assembly IDs.</span>

<span class="sd">    :param function(str) -&gt; object order: how to key genome IDs for sort</span>
<span class="sd">    :return str: single string that lists this configuration&#39;s known</span>
<span class="sd">        reference genome assembly IDs</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">genomes_list</span><span class="p">(</span><span class="n">order</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.get_asds_path" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_asds_path</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get_asds_path</span><span class="p">(</span><span class="n">genome</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get path to the Annotated Sequence Digests JSON file for a given genome.
Note that the path and/or genome may not exist.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>genome name</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ASDs path</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1970</span>
<span class="normal">1971</span>
<span class="normal">1972</span>
<span class="normal">1973</span>
<span class="normal">1974</span>
<span class="normal">1975</span>
<span class="normal">1976</span>
<span class="normal">1977</span>
<span class="normal">1978</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_asds_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get path to the Annotated Sequence Digests JSON file for a given genome.</span>
<span class="sd">    Note that the path and/or genome may not exist.</span>

<span class="sd">    :param str genome: genome name</span>
<span class="sd">    :return str: ASDs path</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_dir</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">genome</span><span class="si">}</span><span class="s2">__ASDs.json&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.get_asset_table" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_asset_table</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get_asset_table</span><span class="p">(</span><span class="n">genomes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">server_url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_json_url</span><span class="o">=</span><span class="k">lambda</span> <span class="n">s</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="n">construct_request_url</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">PRIVATE_API</span><span class="p">))</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get a rich.Table object representing assets available locally</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genomes</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            list (refgenconf.refgenconf.RefGenConf.list)" href="#refgenconf.RefGenConf.list">list</a>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>genomes to restrict the results with</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>server_url</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>server URL to query for the remote genome data</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>get_json_url</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to build URL from genome server URL base, genome, and asset</p>
              </div>
            </td>
            <td>
                  <code>lambda s, i: <span title="refgenconf.refgenconf.construct_request_url">construct_request_url</span>(<span title="s">s</span>, <span title="i">i</span>, <span title="refgenconf.const.PRIVATE_API">PRIVATE_API</span>)</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>table of assets available locally</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_asset_table</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">genomes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">server_url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">get_json_url</span><span class="o">=</span><span class="k">lambda</span> <span class="n">s</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="n">construct_request_url</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">PRIVATE_API</span><span class="p">),</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get a rich.Table object representing assets available locally</span>

<span class="sd">    :param list[str] genomes: genomes to restrict the results with</span>
<span class="sd">    :param str server_url: server URL to query for the remote genome data</span>
<span class="sd">    :param function(str, str) -&gt; str get_json_url: how to build URL from</span>
<span class="sd">        genome server URL base, genome, and asset</span>
<span class="sd">    :return rich.table.Table: table of assets available locally</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_fill_table_with_genomes_data</span><span class="p">(</span><span class="n">rgc</span><span class="p">,</span> <span class="n">genomes_data</span><span class="p">,</span> <span class="n">table</span><span class="p">,</span> <span class="n">genomes</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">it</span> <span class="o">=</span> <span class="s2">&quot;([italic]</span><span class="si">{}</span><span class="s2">[/italic])&quot;</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;genome&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">genomes</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;asset &quot;</span> <span class="o">+</span> <span class="n">it</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;seek_keys&quot;</span><span class="p">))</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;tags&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">genomes</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">genome</span> <span class="o">=</span> <span class="n">rgc</span><span class="o">.</span><span class="n">get_genome_alias_digest</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">g</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">except</span> <span class="n">yacman</span><span class="o">.</span><span class="n">UndefinedAliasError</span><span class="p">:</span>
                    <span class="n">rgc</span><span class="o">.</span><span class="n">set_genome_alias</span><span class="p">(</span>
                        <span class="n">genome</span><span class="o">=</span><span class="n">g</span><span class="p">,</span> <span class="n">create_genome</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">no_write</span><span class="o">=</span><span class="kc">True</span>
                    <span class="p">)</span>
                    <span class="n">genome</span> <span class="o">=</span> <span class="n">rgc</span><span class="o">.</span><span class="n">get_genome_alias_digest</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">g</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">genome</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">genomes_data</span><span class="p">:</span>
                    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Genome </span><span class="si">{</span><span class="n">g</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">genome</span><span class="si">}</span><span class="s2">) not found&quot;</span><span class="p">)</span>
                    <span class="k">continue</span>
                <span class="n">genome_dict</span> <span class="o">=</span> <span class="n">genomes_data</span><span class="p">[</span><span class="n">genome</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">CFG_ASSETS_KEY</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">genome_dict</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">for</span> <span class="n">asset</span><span class="p">,</span> <span class="n">asset_dict</span> <span class="ow">in</span> <span class="n">genome_dict</span><span class="p">[</span><span class="n">CFG_ASSETS_KEY</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">tags</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">asset_dict</span><span class="p">[</span><span class="n">CFG_ASSET_TAGS_KEY</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
                    <span class="k">if</span> <span class="p">(</span>
                        <span class="n">CFG_SEEK_KEYS_KEY</span>
                        <span class="ow">not</span> <span class="ow">in</span> <span class="n">asset_dict</span><span class="p">[</span><span class="n">CFG_ASSET_TAGS_KEY</span><span class="p">][</span><span class="n">tags</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
                    <span class="p">):</span>
                        <span class="k">continue</span>
                    <span class="n">seek_keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
                        <span class="n">asset_dict</span><span class="p">[</span><span class="n">CFG_ASSET_TAGS_KEY</span><span class="p">][</span><span class="n">tags</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span>
                            <span class="n">CFG_SEEK_KEYS_KEY</span>
                        <span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
                    <span class="p">)</span>
                    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
                        <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">genome_dict</span><span class="p">[</span><span class="n">CFG_ALIASES_KEY</span><span class="p">]),</span>
                        <span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> &quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">asset</span><span class="p">)</span> <span class="o">+</span> <span class="n">it</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">seek_keys</span><span class="p">)),</span>
                        <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tags</span><span class="p">),</span>
                    <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;assets&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">genome</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">genomes_data</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                <span class="n">genome_dict</span> <span class="o">=</span> <span class="n">genomes_data</span><span class="p">[</span><span class="n">genome</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">CFG_ASSETS_KEY</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">genome_dict</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
                    <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">genome_dict</span><span class="p">[</span><span class="n">CFG_ALIASES_KEY</span><span class="p">]),</span>
                    <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">genome_dict</span><span class="p">[</span><span class="n">CFG_ASSETS_KEY</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())),</span>
                <span class="p">)</span>
        <span class="k">return</span> <span class="n">table</span>

    <span class="k">if</span> <span class="n">server_url</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">genomes_data</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">]</span>
        <span class="n">title</span> <span class="o">=</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Local refgenie assets</span><span class="se">\n</span><span class="s2">Server subscriptions: &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">CFG_SERVERS_KEY</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">genomes_data</span> <span class="o">=</span> <span class="n">send_data_request</span><span class="p">(</span>
            <span class="n">get_json_url</span><span class="p">(</span><span class="n">server_url</span><span class="p">,</span> <span class="n">API_ID_GENOMES_DICT</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Remote refgenie assets</span><span class="se">\n</span><span class="s2">Server URL: </span><span class="si">{</span><span class="n">server_url</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">c</span> <span class="o">=</span> <span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;use refgenie list</span><span class="si">{</span><span class="s1">&#39;r&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">server_url</span><span class="w"> </span><span class="ow">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="kc">None</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2"> &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;-g &lt;genome&gt; for more detailed view&quot;</span>
        <span class="k">if</span> <span class="n">genomes</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">_fill_table_with_genomes_data</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">genomes_data</span><span class="p">,</span> <span class="n">Table</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">min_width</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">caption</span><span class="o">=</span><span class="n">c</span><span class="p">),</span> <span class="n">genomes</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.get_default_tag" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_default_tag</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get_default_tag</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">use_existing</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Determine the asset tag to use as default. The one indicated by
the 'default_tag' key in the asset section is returned.
If no 'default_tag' key is found, by default the first listed tag is returned
with a RuntimeWarning. This behavior can be turned off with use_existing=False</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of a reference genome assembly of interest</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the particular asset of interest</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>use_existing</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether the first tag in the config should be returned in case there is no default tag defined for an asset</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the tag to use as the default one</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_default_tag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">use_existing</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Determine the asset tag to use as default. The one indicated by</span>
<span class="sd">    the &#39;default_tag&#39; key in the asset section is returned.</span>
<span class="sd">    If no &#39;default_tag&#39; key is found, by default the first listed tag is returned</span>
<span class="sd">    with a RuntimeWarning. This behavior can be turned off with use_existing=False</span>

<span class="sd">    :param str genome: name of a reference genome assembly of interest</span>
<span class="sd">    :param str asset: name of the particular asset of interest</span>
<span class="sd">    :param bool use_existing: whether the first tag in the config should be</span>
<span class="sd">        returned in case there is no default tag defined for an asset</span>
<span class="sd">    :return str: name of the tag to use as the default one</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_assert_gat_exists</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">RefgenconfError</span><span class="p">:</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Using &#39;</span><span class="si">{}</span><span class="s2">&#39; as the default tag for &#39;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">DEFAULT_TAG</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">DEFAULT_TAG</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span><span class="n">asset</span><span class="p">][</span>
            <span class="n">CFG_ASSET_DEFAULT_TAG_KEY</span>
        <span class="p">]</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="n">alt</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span><span class="n">asset</span><span class="p">][</span>
                <span class="n">CFG_ASSET_TAGS_KEY</span>
            <span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">use_existing</span>
            <span class="k">else</span> <span class="n">DEFAULT_TAG</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">alt</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">alt</span> <span class="o">!=</span> <span class="n">DEFAULT_TAG</span><span class="p">:</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                    <span class="s2">&quot;Could not find the &#39;</span><span class="si">{}</span><span class="s2">&#39; key for asset &#39;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">&#39;. &quot;</span>
                    <span class="s2">&quot;Used the first one in the config instead: &#39;</span><span class="si">{}</span><span class="s2">&#39;. &quot;</span>
                    <span class="s2">&quot;Make sure it does not corrupt your workflow.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="n">CFG_ASSET_DEFAULT_TAG_KEY</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">alt</span>
                    <span class="p">),</span>
                    <span class="ne">RuntimeWarning</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                    <span class="s2">&quot;Could not find the &#39;</span><span class="si">{}</span><span class="s2">&#39; key for asset &#39;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">&#39;. Returning &#39;</span><span class="si">{}</span><span class="s2">&#39; &quot;</span>
                    <span class="s2">&quot;instead. Make sure it does not corrupt your workflow.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="n">CFG_ASSET_DEFAULT_TAG_KEY</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">alt</span>
                    <span class="p">),</span>
                    <span class="ne">RuntimeWarning</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="n">alt</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="n">_raise_not_mapping</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span><span class="n">asset</span><span class="p">],</span> <span class="s2">&quot;Asset section &quot;</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.get_genome_alias" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_genome_alias</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get_genome_alias</span><span class="p">(</span><span class="n">digest</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">all_aliases</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get the human readable alias for a genome digest</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>digest</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>digest to find human-readable alias for</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fallback</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to return the query digest in case of failure</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>all_aliases</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to return all aliases instead of just the first one</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>human-readable aliases</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>GenomeConfigFormatError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if "genome_digests" section does not exist in the config</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>UndefinedAliasError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if a no alias has been defined for the requested digest</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span>
<span class="normal">1778</span>
<span class="normal">1779</span>
<span class="normal">1780</span>
<span class="normal">1781</span>
<span class="normal">1782</span>
<span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_genome_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">digest</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">all_aliases</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the human readable alias for a genome digest</span>

<span class="sd">    :param str digest: digest to find human-readable alias for</span>
<span class="sd">    :param bool fallback: whether to return the query digest in case</span>
<span class="sd">        of failure</span>
<span class="sd">    :param bool all_aliases: whether to return all aliases instead of just</span>
<span class="sd">        the first one</span>
<span class="sd">    :return str | list[str]: human-readable aliases</span>
<span class="sd">    :raise GenomeConfigFormatError: if &quot;genome_digests&quot; section does</span>
<span class="sd">        not exist in the config</span>
<span class="sd">    :raise UndefinedAliasError: if a no alias has been defined for the</span>
<span class="sd">        requested digest</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">]</span><span class="o">.</span><span class="n">get_aliases</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">digest</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span> <span class="k">if</span> <span class="n">all_aliases</span> <span class="k">else</span> <span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">except</span> <span class="p">(</span><span class="n">yacman</span><span class="o">.</span><span class="n">UndefinedAliasError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">fallback</span><span class="p">:</span>
            <span class="k">raise</span>
        <span class="k">if</span> <span class="n">digest</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">genome_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">digest</span>
        <span class="k">raise</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.get_genome_alias_digest" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_genome_alias_digest</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get_genome_alias_digest</span><span class="p">(</span><span class="n">alias</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get the human readable alias for a genome digest</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>alias</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>alias to find digest for</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fallback</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to return the query alias in case of failure and in case it is one of the digests</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>genome digest</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>UndefinedAliasError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the specified alias has been assigned to any digests</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span>
<span class="normal">1758</span>
<span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_genome_alias_digest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the human readable alias for a genome digest</span>

<span class="sd">    :param str alias: alias to find digest for</span>
<span class="sd">    :param bool fallback: whether to return the query alias in case</span>
<span class="sd">        of failure and in case it is one of the digests</span>
<span class="sd">    :return str: genome digest</span>
<span class="sd">    :raise UndefinedAliasError: if the specified alias has been assigned to</span>
<span class="sd">        any digests</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">]</span><span class="o">.</span><span class="n">get_key</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">alias</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="n">yacman</span><span class="o">.</span><span class="n">UndefinedAliasError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">fallback</span><span class="p">:</span>
            <span class="k">raise</span>
        <span class="k">if</span> <span class="n">alias</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">genome_aliases</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">alias</span>
        <span class="k">raise</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.get_genome_attributes" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_genome_attributes</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get_genome_attributes</span><span class="p">(</span><span class="n">genome</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get the dictionary attributes, like checksum, contents, description.
Does not return the assets.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>genome to get the attributes dict for</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>available genome attributes</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2418</span>
<span class="normal">2419</span>
<span class="normal">2420</span>
<span class="normal">2421</span>
<span class="normal">2422</span>
<span class="normal">2423</span>
<span class="normal">2424</span>
<span class="normal">2425</span>
<span class="normal">2426</span>
<span class="normal">2427</span>
<span class="normal">2428</span>
<span class="normal">2429</span>
<span class="normal">2430</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_genome_attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the dictionary attributes, like checksum, contents, description.</span>
<span class="sd">    Does not return the assets.</span>

<span class="sd">    :param str genome: genome to get the attributes dict for</span>
<span class="sd">    :return Mapping[str, str]: available genome attributes</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="n">k</span><span class="p">:</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">k</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">CFG_GENOME_ATTRS_KEYS</span>
        <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">]</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.get_local_data_str" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_local_data_str</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get_local_data_str</span><span class="p">(</span><span class="n">genome</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>List locally available reference genome IDs and assets by ID.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>genomes that the assets should be found for</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>order</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to key genome IDs and asset names for sort</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>text reps of locally available genomes and assets</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_local_data_str</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    List locally available reference genome IDs and assets by ID.</span>

<span class="sd">    :param list[str] | str genome: genomes that the assets should be found for</span>
<span class="sd">    :param function(str) -&gt; object order: how to key genome IDs and asset</span>
<span class="sd">        names for sort</span>
<span class="sd">    :return str, str: text reps of locally available genomes and assets</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">exceptions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">genome</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">genome</span> <span class="o">=</span> <span class="n">_make_list_of_str</span><span class="p">(</span><span class="n">genome</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">genome</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_assert_gat_exists</span><span class="p">(</span><span class="n">gname</span><span class="o">=</span><span class="n">g</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">MissingGenomeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">exceptions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">exceptions</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MissingGenomeError</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">exceptions</span><span class="p">)))</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_select_genomes</span><span class="p">(</span><span class="n">genome</span><span class="o">=</span><span class="n">genome</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="n">order</span><span class="p">)),</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assets_str</span><span class="p">(</span><span class="n">genome</span><span class="o">=</span><span class="n">genome</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="n">order</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.get_remote_data_str" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_remote_data_str</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get_remote_data_str</span><span class="p">(</span><span class="n">genome</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_url</span><span class="o">=</span><span class="k">lambda</span> <span class="n">server</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="n">construct_request_url</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="nb">id</span><span class="p">))</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>List genomes and assets available remotely.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>get_url</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to determine URL request, given server URL and endpoint operationID</p>
              </div>
            </td>
            <td>
                  <code>lambda server, id: <span title="refgenconf.refgenconf.construct_request_url">construct_request_url</span>(<span title="server">server</span>, <a class="autorefs autorefs-internal" title="            id (refgenconf.refgenconf.RefGenConf.id)" href="#refgenconf.RefGenConf.id">id</a>)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>genomes that the assets should be found for</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>order</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to key genome IDs and asset names for sort</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>text reps of remotely available genomes and assets</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_remote_data_str</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">genome</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">order</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">get_url</span><span class="o">=</span><span class="k">lambda</span> <span class="n">server</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="n">construct_request_url</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="nb">id</span><span class="p">),</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    List genomes and assets available remotely.</span>

<span class="sd">    :param function(serverUrl, operationId) -&gt; str get_url: how to determine</span>
<span class="sd">        URL request, given server URL and endpoint operationID</span>
<span class="sd">    :param list[str] | str genome: genomes that the assets should be found for</span>
<span class="sd">    :param function(str) -&gt; object order: how to key genome IDs and asset</span>
<span class="sd">        names for sort</span>
<span class="sd">    :return str, str: text reps of remotely available genomes and assets</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
        <span class="s2">&quot;Please use listr method instead; get_remote_data_str will be &quot;</span>
        <span class="s2">&quot;removed in the next release.&quot;</span><span class="p">,</span>
        <span class="n">category</span><span class="o">=</span><span class="ne">DeprecationWarning</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">listr</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">get_url</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.get_symlink_paths" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_symlink_paths</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get_symlink_paths</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">all_aliases</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get path to the alias directory for the selected genome-asset-tag</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>reference genome ID</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>asset name</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tag</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>tag name</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>all_aliases</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to return a collection of symbolic links or just the first one from the alias list</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_symlink_paths</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">all_aliases</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get path to the alias directory for the selected genome-asset-tag</span>

<span class="sd">    :param str genome: reference genome ID</span>
<span class="sd">    :param str asset: asset name</span>
<span class="sd">    :param str tag: tag name</span>
<span class="sd">    :param bool all_aliases: whether to return a collection of symbolic</span>
<span class="sd">        links or just the first one from the alias list</span>
<span class="sd">    :return dict:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">defined_aliases</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_genome_alias</span><span class="p">(</span>
            <span class="n">genome</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">all_aliases</span><span class="o">=</span><span class="n">all_aliases</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">yacman</span><span class="o">.</span><span class="n">UndefinedAliasError</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{}</span>
    <span class="n">alias</span> <span class="o">=</span> <span class="n">_make_list_of_str</span><span class="p">(</span><span class="n">defined_aliases</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">asset</span><span class="p">:</span>
        <span class="n">tag</span> <span class="o">=</span> <span class="n">tag</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_default_tag</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="n">a</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">alias_dir</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">asset</span>
        <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">alias_dir</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">alias</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.getseq" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">getseq</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">getseq</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">locus</span><span class="p">,</span> <span class="n">as_str</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Return the sequence found in a selected range and chromosome.
Something like the refget protocol.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the sequence identifier</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>locus</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>coordinates of desired sequence, e.g. 'chr1:1-10'</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>as_str</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to convert the resurned object to string and return just the sequence</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>selected sequence</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2394</span>
<span class="normal">2395</span>
<span class="normal">2396</span>
<span class="normal">2397</span>
<span class="normal">2398</span>
<span class="normal">2399</span>
<span class="normal">2400</span>
<span class="normal">2401</span>
<span class="normal">2402</span>
<span class="normal">2403</span>
<span class="normal">2404</span>
<span class="normal">2405</span>
<span class="normal">2406</span>
<span class="normal">2407</span>
<span class="normal">2408</span>
<span class="normal">2409</span>
<span class="normal">2410</span>
<span class="normal">2411</span>
<span class="normal">2412</span>
<span class="normal">2413</span>
<span class="normal">2414</span>
<span class="normal">2415</span>
<span class="normal">2416</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">getseq</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">locus</span><span class="p">,</span> <span class="n">as_str</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return the sequence found in a selected range and chromosome.</span>
<span class="sd">    Something like the refget protocol.</span>

<span class="sd">    :param str genome: name of the sequence identifier</span>
<span class="sd">    :param str locus: coordinates of desired sequence, e.g. &#39;chr1:1-10&#39;</span>
<span class="sd">    :param bool as_str: whether to convert the resurned object to string</span>
<span class="sd">        and return just the sequence</span>
<span class="sd">    :return str | pyfaidx.FastaRecord | pyfaidx.Sequence: selected sequence</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">pyfaidx</span>

    <span class="n">fa</span> <span class="o">=</span> <span class="n">pyfaidx</span><span class="o">.</span><span class="n">Fasta</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">seek_src</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="s2">&quot;fasta&quot;</span><span class="p">,</span> <span class="n">strict_exists</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
    <span class="n">locus_split</span> <span class="o">=</span> <span class="n">locus</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
    <span class="nb">chr</span> <span class="o">=</span> <span class="n">fa</span><span class="p">[</span><span class="n">locus_split</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">locus_split</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="nb">chr</span><span class="p">)</span> <span class="k">if</span> <span class="n">as_str</span> <span class="k">else</span> <span class="nb">chr</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="n">locus_split</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;chr: &#39;</span><span class="si">{}</span><span class="s2">&#39;, start: &#39;</span><span class="si">{}</span><span class="s2">&#39;, end: &#39;</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">locus_split</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="nb">chr</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">start</span><span class="p">)</span> <span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">end</span><span class="p">)])</span> <span class="k">if</span> <span class="n">as_str</span> <span class="k">else</span> <span class="nb">chr</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">start</span><span class="p">)</span> <span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">end</span><span class="p">)]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.id" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">id</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">id</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns the digest for the specified asset.
The defined default tag will be used if not provided as an argument</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>genome identifier</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>asset identifier</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tag</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>tag identifier</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>asset digest for the tag</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2551</span>
<span class="normal">2552</span>
<span class="normal">2553</span>
<span class="normal">2554</span>
<span class="normal">2555</span>
<span class="normal">2556</span>
<span class="normal">2557</span>
<span class="normal">2558</span>
<span class="normal">2559</span>
<span class="normal">2560</span>
<span class="normal">2561</span>
<span class="normal">2562</span>
<span class="normal">2563</span>
<span class="normal">2564</span>
<span class="normal">2565</span>
<span class="normal">2566</span>
<span class="normal">2567</span>
<span class="normal">2568</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the digest for the specified asset.</span>
<span class="sd">    The defined default tag will be used if not provided as an argument</span>

<span class="sd">    :param str genome: genome identifier</span>
<span class="sd">    :param str asset: asset identifier</span>
<span class="sd">    :param str tag: tag identifier</span>
<span class="sd">    :return str: asset digest for the tag</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_assert_gat_exists</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="n">tag</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_default_tag</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">)</span>
    <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span><span class="n">asset</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">CFG_ASSET_CHECKSUM_KEY</span> <span class="ow">in</span> <span class="n">a</span><span class="p">[</span><span class="n">CFG_ASSET_TAGS_KEY</span><span class="p">][</span><span class="n">tag</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">a</span><span class="p">[</span><span class="n">CFG_ASSET_TAGS_KEY</span><span class="p">][</span><span class="n">tag</span><span class="p">][</span><span class="n">CFG_ASSET_CHECKSUM_KEY</span><span class="p">]</span>
    <span class="k">raise</span> <span class="n">MissingConfigDataError</span><span class="p">(</span>
        <span class="s2">&quot;Digest does not exist for: </span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.initialize_config_file" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">initialize_config_file</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">initialize_config_file</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Initialize genome configuration file on disk</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filepath</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a valid path where the configuration file should be initialized</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the filepath the file was initialized at</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>OSError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>in case the file could not be initialized due to insufficient permissions or pre-existence</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>TypeError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if no valid filepath cat be determined</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">initialize_config_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize genome configuration file on disk</span>

<span class="sd">    :param str filepath: a valid path where the configuration file should be initialized</span>
<span class="sd">    :return str: the filepath the file was initialized at</span>
<span class="sd">    :raise OSError: in case the file could not be initialized due to insufficient permissions or pre-existence</span>
<span class="sd">    :raise TypeError: if no valid filepath cat be determined</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_write_fail_err</span><span class="p">(</span><span class="n">reason</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t initialize, </span><span class="si">{}</span><span class="s2">: </span><span class="si">{}</span><span class="s2"> &quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">reason</span><span class="p">,</span> <span class="n">filepath</span><span class="p">))</span>

    <span class="n">filepath</span> <span class="o">=</span> <span class="n">select_genome_config</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">check_exist</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Could not determine a valid path to initialize a &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;configuration file: </span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
        <span class="n">_write_fail_err</span><span class="p">(</span><span class="s2">&quot;file exists&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">is_writable</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">check_exist</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="n">_write_fail_err</span><span class="p">(</span><span class="s2">&quot;insufficient permissions&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">make_writable</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">make_readonly</span><span class="p">()</span>
    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Initialized genome configuration file: </span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">alias_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Created directories:</span><span class="si">{</span><span class="n">block_iter_repr</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">data_dir</span><span class="p">,</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">alias_dir</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">filepath</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.initialize_genome" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">initialize_genome</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">initialize_genome</span><span class="p">(</span><span class="n">fasta_path</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">fasta_unzipped</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">skip_alias_write</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Initialize a genome</p>
<p>Create a JSON file with Annotated Sequence Digests (ASDs)
for the FASTA file in the genome directory.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>fasta_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to a FASTA file to initialize genome with</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>alias</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>alias to set for the genome</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>skip_alias_write</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to skip writing the alias to the file</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>human-readable name for the genome</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1932</span>
<span class="normal">1933</span>
<span class="normal">1934</span>
<span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span>
<span class="normal">1947</span>
<span class="normal">1948</span>
<span class="normal">1949</span>
<span class="normal">1950</span>
<span class="normal">1951</span>
<span class="normal">1952</span>
<span class="normal">1953</span>
<span class="normal">1954</span>
<span class="normal">1955</span>
<span class="normal">1956</span>
<span class="normal">1957</span>
<span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span>
<span class="normal">1966</span>
<span class="normal">1967</span>
<span class="normal">1968</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">initialize_genome</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">fasta_path</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">fasta_unzipped</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">skip_alias_write</span><span class="o">=</span><span class="kc">False</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize a genome</span>

<span class="sd">    Create a JSON file with Annotated Sequence Digests (ASDs)</span>
<span class="sd">    for the FASTA file in the genome directory.</span>

<span class="sd">    :param str fasta_path: path to a FASTA file to initialize genome with</span>
<span class="sd">    :param str alias: alias to set for the genome</span>
<span class="sd">    :param bool skip_alias_write: whether to skip writing the alias to the file</span>
<span class="sd">    :return str, list[dict[]]: human-readable name for the genome</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Initializing genome: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">alias</span><span class="p">))</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">fasta_path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span>
            <span class="s2">&quot;Can&#39;t initialize genome; FASTA file does &quot;</span>
            <span class="s2">&quot;not exist: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fasta_path</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="n">ssc</span> <span class="o">=</span> <span class="n">SeqColClient</span><span class="p">({})</span>
    <span class="n">d</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">ssc</span><span class="o">.</span><span class="n">load_fasta</span><span class="p">(</span><span class="n">fasta_path</span><span class="p">,</span> <span class="n">gzipped</span><span class="o">=</span><span class="ow">not</span> <span class="n">fasta_unzipped</span><span class="p">)</span>
    <span class="c1"># retrieve annotated sequence digests list to save in a JSON file</span>
    <span class="n">asdl</span> <span class="o">=</span> <span class="n">ssc</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="n">druid</span><span class="o">=</span><span class="n">d</span><span class="p">)</span>
    <span class="n">pth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_asds_path</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">pth</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pth</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">jfp</span><span class="p">:</span>
        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">asdl</span><span class="p">,</span> <span class="n">jfp</span><span class="p">)</span>
    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Saved ASDs to JSON: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pth</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_genome_alias</span><span class="p">(</span>
        <span class="n">genome</span><span class="o">=</span><span class="n">alias</span><span class="p">,</span>
        <span class="n">digest</span><span class="o">=</span><span class="n">d</span><span class="p">,</span>
        <span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">create_genome</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">no_write</span><span class="o">=</span><span class="n">skip_alias_write</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">d</span><span class="p">,</span> <span class="n">asdl</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.is_asset_complete" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">is_asset_complete</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">is_asset_complete</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Check whether all required tag attributes are defined in the RefGenConf object.
This is the way we determine tag completeness.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>genome to be checked</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>asset package to be checked</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tag</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>tag to be checked</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the decision</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2432</span>
<span class="normal">2433</span>
<span class="normal">2434</span>
<span class="normal">2435</span>
<span class="normal">2436</span>
<span class="normal">2437</span>
<span class="normal">2438</span>
<span class="normal">2439</span>
<span class="normal">2440</span>
<span class="normal">2441</span>
<span class="normal">2442</span>
<span class="normal">2443</span>
<span class="normal">2444</span>
<span class="normal">2445</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_asset_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check whether all required tag attributes are defined in the RefGenConf object.</span>
<span class="sd">    This is the way we determine tag completeness.</span>

<span class="sd">    :param str genome: genome to be checked</span>
<span class="sd">    :param str asset: asset package to be checked</span>
<span class="sd">    :param str tag: tag to be checked</span>
<span class="sd">    :return bool: the decision</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tag_data</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span><span class="n">asset</span><span class="p">][</span>
        <span class="n">CFG_ASSET_TAGS_KEY</span>
    <span class="p">][</span><span class="n">tag</span><span class="p">]</span>
    <span class="k">return</span> <span class="nb">all</span><span class="p">([</span><span class="n">r</span> <span class="ow">in</span> <span class="n">tag_data</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">REQ_TAG_ATTRS</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.list" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">list</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">list</span><span class="p">(</span><span class="n">genome</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include_tags</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>List local assets; map each namespace to a list of available asset names</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>order</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to key genome IDs for sort</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>genomes that the assets should be found for</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_tags</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether asset tags should be included in the returned dict</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>mapping from assembly name to collection of available asset names.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include_tags</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    List local assets; map each namespace to a list of available asset names</span>

<span class="sd">    :param callable(str) -&gt; object order: how to key genome IDs for sort</span>
<span class="sd">    :param list[str] | str genome: genomes that the assets should be found for</span>
<span class="sd">    :param bool include_tags: whether asset tags should be included in the returned dict</span>
<span class="sd">    :return Mapping[str, Iterable[str]]: mapping from assembly name to</span>
<span class="sd">        collection of available asset names.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run_plugins</span><span class="p">(</span><span class="n">PRE_LIST_HOOK</span><span class="p">)</span>
    <span class="n">refgens</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_select_genomes</span><span class="p">(</span><span class="n">genome</span><span class="o">=</span><span class="n">genome</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="n">order</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">include_tags</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_plugins</span><span class="p">(</span><span class="n">POST_LIST_HOOK</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">OrderedDict</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="p">(</span>
                    <span class="n">g</span><span class="p">,</span>
                    <span class="nb">sorted</span><span class="p">(</span>
                        <span class="n">_make_asset_tags_product</span><span class="p">(</span>
                            <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">g</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">],</span> <span class="s2">&quot;:&quot;</span>
                        <span class="p">),</span>
                        <span class="n">key</span><span class="o">=</span><span class="n">order</span><span class="p">,</span>
                    <span class="p">),</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">refgens</span>
                <span class="k">if</span> <span class="n">CFG_ASSETS_KEY</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">g</span><span class="p">]</span>
            <span class="p">]</span>
        <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run_plugins</span><span class="p">(</span><span class="n">POST_LIST_HOOK</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">OrderedDict</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="p">(</span>
                <span class="n">g</span><span class="p">,</span>
                <span class="nb">sorted</span><span class="p">(</span>
                    <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">g</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="n">key</span><span class="o">=</span><span class="n">order</span>
                <span class="p">),</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">refgens</span>
            <span class="k">if</span> <span class="n">CFG_ASSETS_KEY</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">g</span><span class="p">]</span>
        <span class="p">]</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.list_assets_by_genome" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">list_assets_by_genome</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">list_assets_by_genome</span><span class="p">(</span><span class="n">genome</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include_tags</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>List types/names of assets that are available for one--or all--genomes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>reference genome assembly ID, optional; if omitted, the full mapping from genome to asset names</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>order</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to key genome IDs and asset names for sort</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>include_tags</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether asset tags should be included in the returned dict</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>collection of asset type names available for particular reference assembly if one is provided, else the full mapping between assembly ID and collection available asset type names</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_assets_by_genome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include_tags</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    List types/names of assets that are available for one--or all--genomes.</span>

<span class="sd">    :param str | NoneType genome: reference genome assembly ID, optional;</span>
<span class="sd">        if omitted, the full mapping from genome to asset names</span>
<span class="sd">    :param function(str) -&gt; object order: how to key genome IDs and asset</span>
<span class="sd">        names for sort</span>
<span class="sd">    :param bool include_tags: whether asset tags should be included in the</span>
<span class="sd">        returned dict</span>
<span class="sd">    :return Iterable[str] | Mapping[str, Iterable[str]]: collection of</span>
<span class="sd">        asset type names available for particular reference assembly if</span>
<span class="sd">        one is provided, else the full mapping between assembly ID and</span>
<span class="sd">        collection available asset type names</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">genome</span><span class="p">:</span>
        <span class="n">genome</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_genome_alias</span><span class="p">(</span><span class="n">digest</span><span class="o">=</span><span class="n">genome</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">include_tags</span><span class="o">=</span><span class="n">include_tags</span><span class="p">)[</span><span class="n">genome</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">genome</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">include_tags</span><span class="o">=</span><span class="n">include_tags</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.list_genomes_by_asset" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">list_genomes_by_asset</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">list_genomes_by_asset</span><span class="p">(</span><span class="n">asset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>List assemblies for which a particular asset is available.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>asset</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of type of asset of interest, optional</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>order</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to key genome IDs and asset names for sort</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>collection of assemblies for which the given asset is available; if asset argument is omitted, the full mapping from name of asset type to collection of assembly names for which the asset key is available will be returned.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_genomes_by_asset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">asset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    List assemblies for which a particular asset is available.</span>

<span class="sd">    :param str | NoneType asset: name of type of asset of interest, optional</span>
<span class="sd">    :param function(str) -&gt; object order: how to key genome IDs and asset</span>
<span class="sd">        names for sort</span>
<span class="sd">    :return Iterable[str] | Mapping[str, Iterable[str]]: collection of</span>
<span class="sd">        assemblies for which the given asset is available; if asset</span>
<span class="sd">        argument is omitted, the full mapping from name of asset type to</span>
<span class="sd">        collection of assembly names for which the asset key is available</span>
<span class="sd">        will be returned.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_invert_genomes</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">asset</span>
        <span class="k">else</span> <span class="nb">sorted</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">get_genome_alias</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">g</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">asset</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">CFG_ASSETS_KEY</span><span class="p">)</span>
            <span class="p">],</span>
            <span class="n">key</span><span class="o">=</span><span class="n">order</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.list_seek_keys_values" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">list_seek_keys_values</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">list_seek_keys_values</span><span class="p">(</span><span class="n">genomes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">assets</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>List values for all seek keys for the specified genome and asset.
Leave the arguments out to get all seek keys values managed by refgenie.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome_names</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional list of genomes to include</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset_names</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>optional list of assets to include</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a nested dictionary with the seek key values</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_seek_keys_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genomes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">assets</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    List values for all seek keys for the specified genome and asset.</span>
<span class="sd">    Leave the arguments out to get all seek keys values managed by refgenie.</span>

<span class="sd">    :param str | List[str] genome_names: optional list of genomes to include</span>
<span class="sd">    :param str | List[str] asset_names: optional list of assets to include</span>
<span class="sd">    :return dict: a nested dictionary with the seek key values</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="n">genomes</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">genome_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">genomes_list</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">genome_names</span> <span class="o">=</span> <span class="n">_make_list_of_str</span><span class="p">(</span><span class="n">genomes</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">genome_name</span> <span class="ow">in</span> <span class="n">genome_names</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_assert_gat_exists</span><span class="p">(</span><span class="n">genome_name</span><span class="p">)</span>
        <span class="n">ret</span><span class="p">[</span><span class="n">genome_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">assets</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">asset_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_assets_by_genome</span><span class="p">(</span><span class="n">genome_name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">asset_names</span> <span class="o">=</span> <span class="n">_make_list_of_str</span><span class="p">(</span><span class="n">assets</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">asset_name</span> <span class="ow">in</span> <span class="n">asset_names</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_assert_gat_exists</span><span class="p">(</span><span class="n">genome_name</span><span class="p">,</span> <span class="n">asset_name</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">MissingAssetError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Skipping </span><span class="si">{</span><span class="n">asset_name</span><span class="si">}</span><span class="s2"> asset: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="n">asset_mapping</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome_name</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span>
                <span class="n">asset_name</span>
            <span class="p">]</span>
            <span class="n">ret</span><span class="p">[</span><span class="n">genome_name</span><span class="p">][</span><span class="n">asset_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">tag_name</span> <span class="ow">in</span> <span class="n">get_asset_tags</span><span class="p">(</span><span class="n">asset_mapping</span><span class="p">):</span>
                <span class="n">tag_mapping</span> <span class="o">=</span> <span class="n">asset_mapping</span><span class="p">[</span><span class="n">CFG_ASSET_TAGS_KEY</span><span class="p">][</span><span class="n">tag_name</span><span class="p">]</span>
                <span class="n">ret</span><span class="p">[</span><span class="n">genome_name</span><span class="p">][</span><span class="n">asset_name</span><span class="p">][</span><span class="n">tag_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="k">for</span> <span class="n">seek_key_name</span> <span class="ow">in</span> <span class="n">get_tag_seek_keys</span><span class="p">(</span><span class="n">tag_mapping</span><span class="p">):</span>
                    <span class="n">ret</span><span class="p">[</span><span class="n">genome_name</span><span class="p">][</span><span class="n">asset_name</span><span class="p">][</span><span class="n">tag_name</span><span class="p">][</span>
                        <span class="n">seek_key_name</span>
                    <span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">genome_name</span><span class="p">,</span> <span class="n">asset_name</span><span class="p">,</span> <span class="n">tag_name</span><span class="p">,</span> <span class="n">seek_key_name</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ret</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.listr" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">listr</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">listr</span><span class="p">(</span><span class="n">genome</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">get_url</span><span class="o">=</span><span class="k">lambda</span> <span class="n">server</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="n">construct_request_url</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="nb">id</span><span class="p">),</span> <span class="n">as_digests</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>List genomes and assets available remotely on all servers the object
subscribes to</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>get_url</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to determine URL request, given server URL and endpoint operationID</p>
              </div>
            </td>
            <td>
                  <code>lambda server, id: <span title="refgenconf.refgenconf.construct_request_url">construct_request_url</span>(<span title="server">server</span>, <a class="autorefs autorefs-internal" title="            id (refgenconf.refgenconf.RefGenConf.id)" href="#refgenconf.RefGenConf.id">id</a>)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>genomes that the assets should be found for</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>order</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to key genome IDs and asset names for sort</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>remotely available genomes and assets keyed by genome keyed by source server endpoint</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">listr</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">genome</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">get_url</span><span class="o">=</span><span class="k">lambda</span> <span class="n">server</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="n">construct_request_url</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="nb">id</span><span class="p">),</span>
    <span class="n">as_digests</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    List genomes and assets available remotely on all servers the object</span>
<span class="sd">    subscribes to</span>

<span class="sd">    :param function(serverUrl, operationId) -&gt; str get_url: how to determine</span>
<span class="sd">        URL request, given server URL and endpoint operationID</span>
<span class="sd">    :param list[str] | str genome: genomes that the assets should be found for</span>
<span class="sd">    :param function(str) -&gt; object order: how to key genome IDs and asset</span>
<span class="sd">        names for sort</span>
<span class="sd">    :return dict[OrderedDict[list]]: remotely available genomes and assets</span>
<span class="sd">        keyed by genome keyed by source server endpoint</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data_by_server</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_SERVERS_KEY</span><span class="p">]:</span>
        <span class="n">aliases_url</span> <span class="o">=</span> <span class="n">get_url</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">API_ID_ALIASES_DICT</span><span class="p">)</span>
        <span class="n">assets_url</span> <span class="o">=</span> <span class="n">get_url</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">API_ID_ASSETS</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">assets_url</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">aliases_url</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="n">aliases_by_digest</span> <span class="o">=</span> <span class="n">send_data_request</span><span class="p">(</span><span class="n">aliases_url</span><span class="p">)</span>
        <span class="c1"># convert the original, condensed mapping to a data structure with optimal time complexity</span>
        <span class="n">digests_by_alias</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">aliases_by_digest</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">alias</span> <span class="ow">in</span> <span class="n">v</span><span class="p">:</span>
                <span class="n">digests_by_alias</span><span class="p">[</span><span class="n">alias</span><span class="p">]</span> <span class="o">=</span> <span class="n">k</span>

        <span class="n">genome_digests</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">genomes</span> <span class="o">=</span> <span class="n">genome</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="p">[</span><span class="n">genome</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">genome</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">genome_digests</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">g</span>
                <span class="k">if</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">aliases_by_digest</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
                <span class="k">else</span> <span class="n">digests_by_alias</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">genomes</span>
            <span class="p">]</span>
            <span class="k">if</span> <span class="n">genome_digests</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">genome</span><span class="si">}</span><span class="s2"> not found on server: </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">continue</span>

        <span class="n">server_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_remote</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="n">assets_url</span><span class="p">,</span>
            <span class="n">genome</span><span class="o">=</span><span class="n">genome_digests</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">data_by_server</span><span class="p">[</span><span class="n">assets_url</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">server_data</span>
            <span class="k">if</span> <span class="n">as_digests</span>
            <span class="k">else</span> <span class="p">{</span><span class="n">aliases_by_digest</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">server_data</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">data_by_server</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.populate" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">populate</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">populate</span><span class="p">(</span><span class="n">glob</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Populates <em>local</em> refgenie references from
refgenie://genome/asset.seek_key:tag registry paths</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>glob</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>String which may contain refgenie registry paths as values; or a dict, for which values may contain refgenie registry paths. Dict include nested dicts.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>modified input dict with refgenie paths populated</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2611</span>
<span class="normal">2612</span>
<span class="normal">2613</span>
<span class="normal">2614</span>
<span class="normal">2615</span>
<span class="normal">2616</span>
<span class="normal">2617</span>
<span class="normal">2618</span>
<span class="normal">2619</span>
<span class="normal">2620</span>
<span class="normal">2621</span>
<span class="normal">2622</span>
<span class="normal">2623</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">populate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">glob</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Populates *local* refgenie references from</span>
<span class="sd">    refgenie://genome/asset.seek_key:tag registry paths</span>

<span class="sd">    :param dict | str | list glob: String which may contain refgenie registry paths as</span>
<span class="sd">        values; or a dict, for which values may contain refgenie registry</span>
<span class="sd">        paths. Dict include nested dicts.</span>
<span class="sd">    :return dict | str | list: modified input dict with refgenie paths populated</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_populate_refgenie_registry_path</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">glob</span><span class="o">=</span><span class="n">glob</span><span class="p">,</span> <span class="n">seek_method_name</span><span class="o">=</span><span class="s2">&quot;seek&quot;</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.populater" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">populater</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">populater</span><span class="p">(</span><span class="n">glob</span><span class="p">,</span> <span class="n">remote_class</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Populates <em>remote</em> refgenie references from
refgenie://genome/asset:tag registry paths</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>glob</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>String which may contain refgenie registry paths as values; or a dict, for which values may contain refgenie registry paths. Dict include nested dicts.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>remote_class</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>remote data provider class, e.g. 'http' or 's3'</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>modified input dict with refgenie paths populated</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2625</span>
<span class="normal">2626</span>
<span class="normal">2627</span>
<span class="normal">2628</span>
<span class="normal">2629</span>
<span class="normal">2630</span>
<span class="normal">2631</span>
<span class="normal">2632</span>
<span class="normal">2633</span>
<span class="normal">2634</span>
<span class="normal">2635</span>
<span class="normal">2636</span>
<span class="normal">2637</span>
<span class="normal">2638</span>
<span class="normal">2639</span>
<span class="normal">2640</span>
<span class="normal">2641</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">populater</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">glob</span><span class="p">,</span> <span class="n">remote_class</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Populates *remote* refgenie references from</span>
<span class="sd">    refgenie://genome/asset:tag registry paths</span>

<span class="sd">    :param dict | str | list glob: String which may contain refgenie registry paths as</span>
<span class="sd">        values; or a dict, for which values may contain refgenie registry</span>
<span class="sd">        paths. Dict include nested dicts.</span>
<span class="sd">    :param str remote_class: remote data provider class, e.g. &#39;http&#39; or &#39;s3&#39;</span>
<span class="sd">    :return dict | str | list: modified input dict with refgenie paths populated</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_populate_refgenie_registry_path</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">glob</span><span class="o">=</span><span class="n">glob</span><span class="p">,</span>
        <span class="n">seek_method_name</span><span class="o">=</span><span class="s2">&quot;seekr&quot;</span><span class="p">,</span>
        <span class="n">remote_class</span><span class="o">=</span><span class="n">remote_class</span> <span class="ow">or</span> <span class="s2">&quot;http&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.pull" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">pull</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">pull</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">unpack</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force_large</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">size_cutoff</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">get_json_url</span><span class="o">=</span><span class="k">lambda</span> <span class="n">server</span><span class="p">,</span> <span class="n">operation_id</span><span class="p">:</span> <span class="n">construct_request_url</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="n">operation_id</span><span class="p">),</span> <span class="n">build_signal_handler</span><span class="o">=</span><span class="n">_handle_sigint</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Download and possibly unpack one or more assets for a given ref gen.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of a reference genome assembly of interest</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of particular asset to fetch</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tag</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of particular tag to fetch</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>unpack</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to unpack a tarball</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>force</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to handle case in which asset path already exists; null for prompt (on a per-asset basis), False to effectively auto-reply No to the prompt to replace existing file, and True to auto-replay Yes for existing asset replacement.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>force_large</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to handle case in large (&gt; 5GB) asset is to be pulled; null for prompt (on a per-asset basis), False to effectively auto-reply No to the prompt, and True to auto-replay Yes</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>size_cutoff</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>maximum archive file size to download with no prompt</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>get_json_url</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to build URL from genome server URL base, genome, and asset</p>
              </div>
            </td>
            <td>
                  <code>lambda server, operation_id: <span title="refgenconf.refgenconf.construct_request_url">construct_request_url</span>(<span title="server">server</span>, <span title="operation_id">operation_id</span>)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>build_signal_handler</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to create a signal handler to use during the download; the single argument to this function factory is the download filepath</p>
              </div>
            </td>
            <td>
                  <code><span title="refgenconf.refgenconf._handle_sigint">_handle_sigint</span></code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of genome, asset, tag names and a key-value pair with which genome config file should be updated if pull succeeds, else asset key and a null value</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>refgenconf.UnboundEnvironmentVariablesError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if genome folder path contains any env. var. that's unbound</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>refgenconf.RefGenConfError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the object update is requested in a non-writable state</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span>
<span class="normal">1607</span>
<span class="normal">1608</span>
<span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span>
<span class="normal">1621</span>
<span class="normal">1622</span>
<span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span>
<span class="normal">1628</span>
<span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span>
<span class="normal">1643</span>
<span class="normal">1644</span>
<span class="normal">1645</span>
<span class="normal">1646</span>
<span class="normal">1647</span>
<span class="normal">1648</span>
<span class="normal">1649</span>
<span class="normal">1650</span>
<span class="normal">1651</span>
<span class="normal">1652</span>
<span class="normal">1653</span>
<span class="normal">1654</span>
<span class="normal">1655</span>
<span class="normal">1656</span>
<span class="normal">1657</span>
<span class="normal">1658</span>
<span class="normal">1659</span>
<span class="normal">1660</span>
<span class="normal">1661</span>
<span class="normal">1662</span>
<span class="normal">1663</span>
<span class="normal">1664</span>
<span class="normal">1665</span>
<span class="normal">1666</span>
<span class="normal">1667</span>
<span class="normal">1668</span>
<span class="normal">1669</span>
<span class="normal">1670</span>
<span class="normal">1671</span>
<span class="normal">1672</span>
<span class="normal">1673</span>
<span class="normal">1674</span>
<span class="normal">1675</span>
<span class="normal">1676</span>
<span class="normal">1677</span>
<span class="normal">1678</span>
<span class="normal">1679</span>
<span class="normal">1680</span>
<span class="normal">1681</span>
<span class="normal">1682</span>
<span class="normal">1683</span>
<span class="normal">1684</span>
<span class="normal">1685</span>
<span class="normal">1686</span>
<span class="normal">1687</span>
<span class="normal">1688</span>
<span class="normal">1689</span>
<span class="normal">1690</span>
<span class="normal">1691</span>
<span class="normal">1692</span>
<span class="normal">1693</span>
<span class="normal">1694</span>
<span class="normal">1695</span>
<span class="normal">1696</span>
<span class="normal">1697</span>
<span class="normal">1698</span>
<span class="normal">1699</span>
<span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span>
<span class="normal">1705</span>
<span class="normal">1706</span>
<span class="normal">1707</span>
<span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span>
<span class="normal">1724</span>
<span class="normal">1725</span>
<span class="normal">1726</span>
<span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span>
<span class="normal">1740</span>
<span class="normal">1741</span>
<span class="normal">1742</span>
<span class="normal">1743</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">pull</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">genome</span><span class="p">,</span>
    <span class="n">asset</span><span class="p">,</span>
    <span class="n">tag</span><span class="p">,</span>
    <span class="n">unpack</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">force</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">force_large</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">size_cutoff</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">get_json_url</span><span class="o">=</span><span class="k">lambda</span> <span class="n">server</span><span class="p">,</span> <span class="n">operation_id</span><span class="p">:</span> <span class="n">construct_request_url</span><span class="p">(</span>
        <span class="n">server</span><span class="p">,</span> <span class="n">operation_id</span>
    <span class="p">),</span>
    <span class="n">build_signal_handler</span><span class="o">=</span><span class="n">_handle_sigint</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Download and possibly unpack one or more assets for a given ref gen.</span>

<span class="sd">    :param str genome: name of a reference genome assembly of interest</span>
<span class="sd">    :param str asset: name of particular asset to fetch</span>
<span class="sd">    :param str tag: name of particular tag to fetch</span>
<span class="sd">    :param bool unpack: whether to unpack a tarball</span>
<span class="sd">    :param bool | NoneType force: how to handle case in which asset path</span>
<span class="sd">        already exists; null for prompt (on a per-asset basis), False to</span>
<span class="sd">        effectively auto-reply No to the prompt to replace existing file,</span>
<span class="sd">        and True to auto-replay Yes for existing asset replacement.</span>
<span class="sd">    :param bool | NoneType force_large: how to handle case in large (&gt; 5GB)</span>
<span class="sd">        asset is to be pulled; null for prompt (on a per-asset basis), False</span>
<span class="sd">        to effectively auto-reply No to the prompt,</span>
<span class="sd">        and True to auto-replay Yes</span>
<span class="sd">    :param float size_cutoff: maximum archive file size to download with</span>
<span class="sd">        no prompt</span>
<span class="sd">    :param function(str, str) -&gt; str get_json_url: how to build URL from</span>
<span class="sd">        genome server URL base, genome, and asset</span>
<span class="sd">    :param function(str) -&gt; function build_signal_handler: how to create</span>
<span class="sd">        a signal handler to use during the download; the single argument</span>
<span class="sd">        to this function factory is the download filepath</span>
<span class="sd">    :return (list[str], dict, str): a list of genome, asset, tag names</span>
<span class="sd">        and a key-value pair with which genome config file should be updated</span>
<span class="sd">        if pull succeeds, else asset key and a null value</span>
<span class="sd">    :raise refgenconf.UnboundEnvironmentVariablesError: if genome folder</span>
<span class="sd">        path contains any env. var. that&#39;s unbound</span>
<span class="sd">    :raise refgenconf.RefGenConfError: if the object update is requested in</span>
<span class="sd">        a non-writable state</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run_plugins</span><span class="p">(</span><span class="n">PRE_PULL_HOOK</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_null_return</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_plugins</span><span class="p">(</span><span class="n">POST_PULL_HOOK</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">gat</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_raise_unpack_error</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="s2">&quot;Option to not extract tarballs is not yet supported.&quot;</span>
        <span class="p">)</span>

    <span class="n">num_servers</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">bad_servers</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">no_asset_json</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">alias</span> <span class="o">=</span> <span class="n">genome</span>
    <span class="n">gat</span> <span class="o">=</span> <span class="p">[</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">CFG_SERVERS_KEY</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span> <span class="ow">or</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_SERVERS_KEY</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;You are not subscribed to any asset servers&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_null_return</span><span class="p">()</span>

    <span class="n">good_servers</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_SERVERS_KEY</span><span class="p">]</span> <span class="k">if</span> <span class="n">get_json_url</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">API_ID_DIGEST</span><span class="p">)</span>
    <span class="p">]</span>

    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Compatible refgenieserver instances: </span><span class="si">{</span><span class="n">good_servers</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">server_url</span> <span class="ow">in</span> <span class="n">good_servers</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">genome</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_genome_alias_digest</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">alias</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">yacman</span><span class="o">.</span><span class="n">UndefinedAliasError</span><span class="p">:</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No local digest for genome alias: </span><span class="si">{</span><span class="n">genome</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_genome_alias</span><span class="p">(</span>
                <span class="n">genome</span><span class="o">=</span><span class="n">alias</span><span class="p">,</span> <span class="n">servers</span><span class="o">=</span><span class="p">[</span><span class="n">server_url</span><span class="p">],</span> <span class="n">create_genome</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">):</span>
                <span class="k">continue</span>
            <span class="n">genome</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_genome_alias_digest</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">alias</span><span class="p">)</span>

        <span class="n">num_servers</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">determined_tag</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">send_data_request</span><span class="p">(</span>
                    <span class="n">get_json_url</span><span class="p">(</span><span class="n">server_url</span><span class="p">,</span> <span class="n">API_ID_DEFAULT_TAG</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="n">genome</span><span class="o">=</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="o">=</span><span class="n">asset</span>
                    <span class="p">)</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="n">tag</span> <span class="ow">is</span> <span class="kc">None</span>
                <span class="k">else</span> <span class="n">tag</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">DownloadJsonError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Could not retrieve tag from: </span><span class="si">{</span><span class="n">server_url</span><span class="si">}</span><span class="s2">. Caught exception: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="n">bad_servers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">server_url</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">determined_tag</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">determined_tag</span><span class="p">)</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Determined tag: </span><span class="si">{</span><span class="n">determined_tag</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">unpack</span> <span class="ow">or</span> <span class="n">_raise_unpack_error</span><span class="p">()</span>
        <span class="n">gat</span> <span class="o">=</span> <span class="p">[</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">determined_tag</span><span class="p">]</span>
        <span class="n">url_asset_attrs</span> <span class="o">=</span> <span class="n">get_json_url</span><span class="p">(</span><span class="n">server_url</span><span class="p">,</span> <span class="n">API_ID_ASSET_ATTRS</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">genome</span><span class="o">=</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="o">=</span><span class="n">asset</span>
        <span class="p">)</span>
        <span class="n">url_genome_attrs</span> <span class="o">=</span> <span class="n">get_json_url</span><span class="p">(</span><span class="n">server_url</span><span class="p">,</span> <span class="n">API_ID_GENOME_ATTRS</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">genome</span><span class="o">=</span><span class="n">genome</span>
        <span class="p">)</span>
        <span class="n">url_archive</span> <span class="o">=</span> <span class="n">get_json_url</span><span class="p">(</span><span class="n">server_url</span><span class="p">,</span> <span class="n">API_ID_ARCHIVE</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">genome</span><span class="o">=</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="o">=</span><span class="n">asset</span>
        <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">archive_data</span> <span class="o">=</span> <span class="n">send_data_request</span><span class="p">(</span>
                <span class="n">url_asset_attrs</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="n">determined_tag</span><span class="p">}</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">DownloadJsonError</span><span class="p">:</span>
            <span class="n">no_asset_json</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">server_url</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">num_servers</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">good_servers</span><span class="p">):</span>
                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">genome</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">asset</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">determined_tag</span><span class="si">}</span><span class="s2">&#39; not &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;available on any of the following servers: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">CFG_SERVERS_KEY</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
                <span class="k">return</span> <span class="n">_null_return</span><span class="p">()</span>
            <span class="k">continue</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Determined server URL: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">server_url</span><span class="p">))</span>
            <span class="n">genome_archive_data</span> <span class="o">=</span> <span class="n">send_data_request</span><span class="p">(</span><span class="n">url_genome_attrs</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">archive_data</span> <span class="o">=</span> <span class="n">asciify_json_dict</span><span class="p">(</span><span class="n">archive_data</span><span class="p">)</span>

        <span class="c1"># local directory that the asset data will be stored in</span>
        <span class="n">tag_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">(</span><span class="o">*</span><span class="n">gat</span><span class="p">))</span>
        <span class="c1"># local target path for the saved archive</span>
        <span class="n">tardir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_dir</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">)</span>
        <span class="n">tarpath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tardir</span><span class="p">,</span> <span class="n">asset</span> <span class="o">+</span> <span class="s2">&quot;__&quot;</span> <span class="o">+</span> <span class="n">determined_tag</span> <span class="o">+</span> <span class="s2">&quot;.tgz&quot;</span><span class="p">)</span>
        <span class="c1"># check if the genome/asset:tag exists and get request user decision</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">tag_dir</span><span class="p">):</span>

            <span class="k">def</span><span class="w"> </span><span class="nf">preserve</span><span class="p">():</span>
                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Preserving existing: </span><span class="si">{</span><span class="n">tag_dir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">_null_return</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">force</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">preserve</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">force</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">query_yes_no</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Replace existing (</span><span class="si">{</span><span class="n">tag_dir</span><span class="si">}</span><span class="s2">)?&quot;</span><span class="p">,</span> <span class="s2">&quot;no&quot;</span><span class="p">):</span>
                    <span class="k">return</span> <span class="n">preserve</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Overwriting: </span><span class="si">{</span><span class="n">tag_dir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Overwriting: </span><span class="si">{</span><span class="n">tag_dir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># check asset digests local-server match for each parent</span>
        <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_chk_digest_if_avail</span><span class="p">(</span>
                <span class="n">genome</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">archive_data</span><span class="p">[</span><span class="n">CFG_ASSET_CHECKSUM_KEY</span><span class="p">]</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">archive_data</span><span class="p">[</span><span class="n">CFG_ASSET_PARENTS_KEY</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">CFG_ASSET_PARENTS_KEY</span> <span class="ow">in</span> <span class="n">archive_data</span>
        <span class="p">]</span>

        <span class="n">bundle_name</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">gat</span><span class="p">)</span>
        <span class="n">archsize</span> <span class="o">=</span> <span class="n">archive_data</span><span class="p">[</span><span class="n">CFG_ARCHIVE_SIZE_KEY</span><span class="p">]</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">bundle_name</span><span class="si">}</span><span class="s2">&#39; archive size: </span><span class="si">{</span><span class="n">archsize</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">force_large</span> <span class="ow">and</span> <span class="n">_is_large_archive</span><span class="p">(</span><span class="n">archsize</span><span class="p">,</span> <span class="n">size_cutoff</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">force_large</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;Skipping pull of </span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2">; size: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">gat</span><span class="p">,</span> <span class="n">archsize</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="k">return</span> <span class="n">_null_return</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">query_yes_no</span><span class="p">(</span>
                <span class="s2">&quot;This archive exceeds the size cutoff (</span><span class="si">{}</span><span class="s2"> &gt; </span><span class="si">{:.1f}</span><span class="s2">GB). &quot;</span>
                <span class="s2">&quot;Do you want to proceed?&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">archsize</span><span class="p">,</span> <span class="n">size_cutoff</span><span class="p">)</span>
            <span class="p">):</span>
                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;Skipping pull of </span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2">; size: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">gat</span><span class="p">,</span> <span class="n">archsize</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="k">return</span> <span class="n">_null_return</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">tardir</span><span class="p">):</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating directory: </span><span class="si">{</span><span class="n">tardir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">tardir</span><span class="p">)</span>

        <span class="c1"># Download the file from `url` and save it locally under `filepath`:</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Downloading URL: </span><span class="si">{</span><span class="n">url_archive</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">signal</span><span class="o">.</span><span class="n">signal</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">SIGINT</span><span class="p">,</span> <span class="n">build_signal_handler</span><span class="p">(</span><span class="n">tarpath</span><span class="p">))</span>
            <span class="n">_download_url_progress</span><span class="p">(</span>
                <span class="n">url_archive</span><span class="p">,</span> <span class="n">tarpath</span><span class="p">,</span> <span class="n">bundle_name</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="n">determined_tag</span><span class="p">}</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">HTTPError</span><span class="p">:</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Asset archive &#39;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2">&#39; is missing on the &quot;</span>
                <span class="s2">&quot;server: </span><span class="si">{s}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">gat</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">server_url</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">server_url</span> <span class="o">==</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_SERVERS_KEY</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                <span class="c1"># it this was the last server on the list, return</span>
                <span class="k">return</span> <span class="n">_null_return</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Trying next server&quot;</span><span class="p">)</span>
                <span class="c1"># set the tag value back to what user requested</span>
                <span class="n">determined_tag</span> <span class="o">=</span> <span class="n">tag</span>
                <span class="k">continue</span>
        <span class="k">except</span> <span class="ne">ConnectionRefusedError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Server </span><span class="si">{</span><span class="n">server_url</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">API_VERSION</span><span class="si">}</span><span class="s2"> refused &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;download. Check your internet settings&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">_null_return</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">ContentTooShortError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">bundle_name</span><span class="si">}</span><span class="s2">&#39; download incomplete&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">_null_return</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Download complete: </span><span class="si">{</span><span class="n">tarpath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">new_checksum</span> <span class="o">=</span> <span class="n">checksum</span><span class="p">(</span><span class="n">tarpath</span><span class="p">)</span>
        <span class="n">old_checksum</span> <span class="o">=</span> <span class="n">archive_data</span> <span class="ow">and</span> <span class="n">archive_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">CFG_ARCHIVE_CHECKSUM_KEY</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">old_checksum</span> <span class="ow">and</span> <span class="n">new_checksum</span> <span class="o">!=</span> <span class="n">old_checksum</span><span class="p">:</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Downloaded archive (&#39;</span><span class="si">{</span><span class="n">tarpath</span><span class="si">}</span><span class="s2">&#39;) checksum &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;mismatch: (</span><span class="si">{</span><span class="n">new_checksum</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">old_checksum</span><span class="si">}</span><span class="s2">)&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">_null_return</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Matched checksum: &#39;</span><span class="si">{</span><span class="n">old_checksum</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
        <span class="c1"># successfully downloaded tarball; untar it</span>
        <span class="k">if</span> <span class="n">unpack</span> <span class="ow">and</span> <span class="n">tarpath</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.tgz&quot;</span><span class="p">):</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Extracting asset tarball: </span><span class="si">{</span><span class="n">tarpath</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">untar</span><span class="p">(</span><span class="n">tarpath</span><span class="p">,</span> <span class="n">tardir</span><span class="p">)</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">tarpath</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path</span><span class="p">:</span>
            <span class="k">with</span> <span class="bp">self</span> <span class="k">as</span> <span class="n">rgc</span><span class="p">:</span>
                <span class="p">[</span>
                    <span class="n">rgc</span><span class="o">.</span><span class="n">chk_digest_update_child</span><span class="p">(</span>
                        <span class="n">gat</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">x</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">gat</span><span class="p">),</span> <span class="n">server_url</span>
                    <span class="p">)</span>
                    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">archive_data</span><span class="p">[</span><span class="n">CFG_ASSET_PARENTS_KEY</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">CFG_ASSET_PARENTS_KEY</span> <span class="ow">in</span> <span class="n">archive_data</span>
                <span class="p">]</span>
                <span class="n">rgc</span><span class="o">.</span><span class="n">update_tags</span><span class="p">(</span>
                    <span class="o">*</span><span class="n">gat</span><span class="p">,</span>
                    <span class="n">data</span><span class="o">=</span><span class="p">{</span>
                        <span class="n">attr</span><span class="p">:</span> <span class="n">archive_data</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span>
                        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">ATTRS_COPY_PULL</span>
                        <span class="k">if</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">archive_data</span>
                    <span class="p">},</span>
                <span class="p">)</span>
                <span class="n">rgc</span><span class="o">.</span><span class="n">set_default_pointer</span><span class="p">(</span><span class="o">*</span><span class="n">gat</span><span class="p">)</span>
                <span class="n">rgc</span><span class="o">.</span><span class="n">update_genomes</span><span class="p">(</span><span class="n">genome</span><span class="o">=</span><span class="n">genome</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">genome_archive_data</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">chk_digest_update_child</span><span class="p">(</span>
                    <span class="n">gat</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">x</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">gat</span><span class="p">),</span> <span class="n">server_url</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">archive_data</span><span class="p">[</span><span class="n">CFG_ASSET_PARENTS_KEY</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">CFG_ASSET_PARENTS_KEY</span> <span class="ow">in</span> <span class="n">archive_data</span>
            <span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_tags</span><span class="p">(</span>
                <span class="o">*</span><span class="n">gat</span><span class="p">,</span>
                <span class="n">data</span><span class="o">=</span><span class="p">{</span>
                    <span class="n">attr</span><span class="p">:</span> <span class="n">archive_data</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span>
                    <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">ATTRS_COPY_PULL</span>
                    <span class="k">if</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">archive_data</span>
                <span class="p">},</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_default_pointer</span><span class="p">(</span><span class="o">*</span><span class="n">gat</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_genomes</span><span class="p">(</span><span class="n">genome</span><span class="o">=</span><span class="n">genome</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">genome_archive_data</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">asset</span> <span class="o">==</span> <span class="s2">&quot;fasta&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">initialize_genome</span><span class="p">(</span>
                <span class="n">fasta_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">seek_src</span><span class="p">(</span><span class="o">*</span><span class="n">gat</span><span class="p">),</span> <span class="n">alias</span><span class="o">=</span><span class="n">alias</span><span class="p">,</span> <span class="n">fasta_unzipped</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_plugins</span><span class="p">(</span><span class="n">POST_PULL_HOOK</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_symlink_alias</span><span class="p">(</span><span class="o">*</span><span class="n">gat</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">gat</span><span class="p">,</span> <span class="n">archive_data</span><span class="p">,</span> <span class="n">server_url</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.remove" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">remove</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">remove</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">relationships</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Remove data associated with a specified genome:asset:tag combination.
If no tags are specified, the entire asset is removed from the genome.</p>
<p>If no more tags are defined for the selected genome:asset after tag removal,
the parent asset will be removed as well
If no more assets are defined for the selected genome after asset removal,
the parent genome will be removed as well</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>genome to be removed</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>asset package to be removed</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tag</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>tag to be removed</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>relationships</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether the asset being removed should be removed from its relatives as well</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>files</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether the asset files from disk should be removed</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>force</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether the removal prompts should be skipped</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>updated object</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>TypeError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if genome argument type is not a list or str</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2132</span>
<span class="normal">2133</span>
<span class="normal">2134</span>
<span class="normal">2135</span>
<span class="normal">2136</span>
<span class="normal">2137</span>
<span class="normal">2138</span>
<span class="normal">2139</span>
<span class="normal">2140</span>
<span class="normal">2141</span>
<span class="normal">2142</span>
<span class="normal">2143</span>
<span class="normal">2144</span>
<span class="normal">2145</span>
<span class="normal">2146</span>
<span class="normal">2147</span>
<span class="normal">2148</span>
<span class="normal">2149</span>
<span class="normal">2150</span>
<span class="normal">2151</span>
<span class="normal">2152</span>
<span class="normal">2153</span>
<span class="normal">2154</span>
<span class="normal">2155</span>
<span class="normal">2156</span>
<span class="normal">2157</span>
<span class="normal">2158</span>
<span class="normal">2159</span>
<span class="normal">2160</span>
<span class="normal">2161</span>
<span class="normal">2162</span>
<span class="normal">2163</span>
<span class="normal">2164</span>
<span class="normal">2165</span>
<span class="normal">2166</span>
<span class="normal">2167</span>
<span class="normal">2168</span>
<span class="normal">2169</span>
<span class="normal">2170</span>
<span class="normal">2171</span>
<span class="normal">2172</span>
<span class="normal">2173</span>
<span class="normal">2174</span>
<span class="normal">2175</span>
<span class="normal">2176</span>
<span class="normal">2177</span>
<span class="normal">2178</span>
<span class="normal">2179</span>
<span class="normal">2180</span>
<span class="normal">2181</span>
<span class="normal">2182</span>
<span class="normal">2183</span>
<span class="normal">2184</span>
<span class="normal">2185</span>
<span class="normal">2186</span>
<span class="normal">2187</span>
<span class="normal">2188</span>
<span class="normal">2189</span>
<span class="normal">2190</span>
<span class="normal">2191</span>
<span class="normal">2192</span>
<span class="normal">2193</span>
<span class="normal">2194</span>
<span class="normal">2195</span>
<span class="normal">2196</span>
<span class="normal">2197</span>
<span class="normal">2198</span>
<span class="normal">2199</span>
<span class="normal">2200</span>
<span class="normal">2201</span>
<span class="normal">2202</span>
<span class="normal">2203</span>
<span class="normal">2204</span>
<span class="normal">2205</span>
<span class="normal">2206</span>
<span class="normal">2207</span>
<span class="normal">2208</span>
<span class="normal">2209</span>
<span class="normal">2210</span>
<span class="normal">2211</span>
<span class="normal">2212</span>
<span class="normal">2213</span>
<span class="normal">2214</span>
<span class="normal">2215</span>
<span class="normal">2216</span>
<span class="normal">2217</span>
<span class="normal">2218</span>
<span class="normal">2219</span>
<span class="normal">2220</span>
<span class="normal">2221</span>
<span class="normal">2222</span>
<span class="normal">2223</span>
<span class="normal">2224</span>
<span class="normal">2225</span>
<span class="normal">2226</span>
<span class="normal">2227</span>
<span class="normal">2228</span>
<span class="normal">2229</span>
<span class="normal">2230</span>
<span class="normal">2231</span>
<span class="normal">2232</span>
<span class="normal">2233</span>
<span class="normal">2234</span>
<span class="normal">2235</span>
<span class="normal">2236</span>
<span class="normal">2237</span>
<span class="normal">2238</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">relationships</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Remove data associated with a specified genome:asset:tag combination.</span>
<span class="sd">    If no tags are specified, the entire asset is removed from the genome.</span>

<span class="sd">    If no more tags are defined for the selected genome:asset after tag removal,</span>
<span class="sd">    the parent asset will be removed as well</span>
<span class="sd">    If no more assets are defined for the selected genome after asset removal,</span>
<span class="sd">    the parent genome will be removed as well</span>

<span class="sd">    :param str genome: genome to be removed</span>
<span class="sd">    :param str asset: asset package to be removed</span>
<span class="sd">    :param str tag: tag to be removed</span>
<span class="sd">    :param bool relationships: whether the asset being removed should</span>
<span class="sd">        be removed from its relatives as well</span>
<span class="sd">    :param bool files: whether the asset files from disk should be removed</span>
<span class="sd">    :param bool force: whether the removal prompts should be skipped</span>
<span class="sd">    :raise TypeError: if genome argument type is not a list or str</span>
<span class="sd">    :return RefGenConf: updated object</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="n">tag</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_default_tag</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">use_existing</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">files</span><span class="p">:</span>
        <span class="n">req_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;genome&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_genome_alias_digest</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
            <span class="s2">&quot;asset&quot;</span><span class="p">:</span> <span class="n">asset</span><span class="p">,</span>
            <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="n">tag</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Attempting removal: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">req_dict</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">force</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">query_yes_no</span><span class="p">(</span>
            <span class="s2">&quot;Remove &#39;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2">&#39;?&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Action aborted by the user&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">removed</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">asset_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seek_src</span><span class="p">(</span>
            <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">enclosing_dir</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">strict_exists</span><span class="o">=</span><span class="kc">False</span>
        <span class="p">)</span>
        <span class="n">alias_asset_paths</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span>
            <span class="n">genome</span><span class="p">,</span>
            <span class="n">asset</span><span class="p">,</span>
            <span class="n">tag</span><span class="p">,</span>
            <span class="n">enclosing_dir</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">strict_exists</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">all_aliases</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">asset_path</span><span class="p">):</span>
            <span class="n">removed</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_remove</span><span class="p">(</span><span class="n">asset_path</span><span class="p">))</span>
            <span class="n">removed</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">_remove</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">alias_asset_paths</span><span class="p">])</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path</span><span class="p">:</span>
                <span class="k">with</span> <span class="bp">self</span> <span class="k">as</span> <span class="n">r</span><span class="p">:</span>
                    <span class="n">r</span><span class="o">.</span><span class="n">cfg_remove_assets</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">relationships</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cfg_remove_assets</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">relationships</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Selected asset does not exist on disk (</span><span class="si">{}</span><span class="s2">). &quot;</span>
                <span class="s2">&quot;Removing from genome config.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">asset_path</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path</span><span class="p">:</span>
                <span class="k">with</span> <span class="bp">self</span> <span class="k">as</span> <span class="n">r</span><span class="p">:</span>
                    <span class="n">r</span><span class="o">.</span><span class="n">cfg_remove_assets</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">relationships</span><span class="p">)</span>
                    <span class="k">return</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cfg_remove_assets</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">relationships</span><span class="p">)</span>
                <span class="k">return</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span><span class="n">asset</span><span class="p">]</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">asset_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">asset_path</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">pardir</span><span class="p">))</span>
            <span class="n">alias_asset_dirs</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">pardir</span><span class="p">))</span>
                <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">alias_asset_paths</span>
            <span class="p">]</span>
            <span class="n">_entity_dir_removal_log</span><span class="p">(</span><span class="n">asset_dir</span><span class="p">,</span> <span class="s2">&quot;asset&quot;</span><span class="p">,</span> <span class="n">req_dict</span><span class="p">,</span> <span class="n">removed</span><span class="p">)</span>
            <span class="n">removed</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">_remove</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">alias_asset_dirs</span><span class="p">])</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">]</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
                <span class="n">genome_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">asset_dir</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">pardir</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="n">alias_genome_dirs</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">pardir</span><span class="p">))</span>
                    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">alias_asset_dirs</span>
                <span class="p">]</span>
                <span class="n">_entity_dir_removal_log</span><span class="p">(</span><span class="n">genome_dir</span><span class="p">,</span> <span class="s2">&quot;genome&quot;</span><span class="p">,</span> <span class="n">req_dict</span><span class="p">,</span> <span class="n">removed</span><span class="p">)</span>
                <span class="n">removed</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">_remove</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">alias_genome_dirs</span><span class="p">])</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path</span><span class="p">:</span>
                        <span class="k">with</span> <span class="bp">self</span> <span class="k">as</span> <span class="n">r</span><span class="p">:</span>
                            <span class="k">del</span> <span class="n">r</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">del</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">]</span>
                <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
                    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                        <span class="s2">&quot;Could not remove genome &#39;</span><span class="si">{}</span><span class="s2">&#39; from the config; it &quot;</span>
                        <span class="s2">&quot;does not exist&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">genome</span><span class="p">)</span>
                    <span class="p">)</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Successfully removed entities:</span><span class="si">{</span><span class="n">block_iter_repr</span><span class="p">(</span><span class="n">removed</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path</span><span class="p">:</span>
            <span class="k">with</span> <span class="bp">self</span> <span class="k">as</span> <span class="n">r</span><span class="p">:</span>
                <span class="n">r</span><span class="o">.</span><span class="n">cfg_remove_assets</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">relationships</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cfg_remove_assets</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">relationships</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.remove_asset_from_relatives" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">remove_asset_from_relatives</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">remove_asset_from_relatives</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Remove any relationship links associated with the selected asset</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>genome to be removed from its relatives' relatives list</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>asset to be removed from its relatives' relatives list</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tag</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>tag to be removed from its relatives' relatives list</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1980</span>
<span class="normal">1981</span>
<span class="normal">1982</span>
<span class="normal">1983</span>
<span class="normal">1984</span>
<span class="normal">1985</span>
<span class="normal">1986</span>
<span class="normal">1987</span>
<span class="normal">1988</span>
<span class="normal">1989</span>
<span class="normal">1990</span>
<span class="normal">1991</span>
<span class="normal">1992</span>
<span class="normal">1993</span>
<span class="normal">1994</span>
<span class="normal">1995</span>
<span class="normal">1996</span>
<span class="normal">1997</span>
<span class="normal">1998</span>
<span class="normal">1999</span>
<span class="normal">2000</span>
<span class="normal">2001</span>
<span class="normal">2002</span>
<span class="normal">2003</span>
<span class="normal">2004</span>
<span class="normal">2005</span>
<span class="normal">2006</span>
<span class="normal">2007</span>
<span class="normal">2008</span>
<span class="normal">2009</span>
<span class="normal">2010</span>
<span class="normal">2011</span>
<span class="normal">2012</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_asset_from_relatives</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Remove any relationship links associated with the selected asset</span>

<span class="sd">    :param str genome: genome to be removed from its relatives&#39; relatives list</span>
<span class="sd">    :param str asset: asset to be removed from its relatives&#39; relatives list</span>
<span class="sd">    :param str tag: tag to be removed from its relatives&#39; relatives list</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">to_remove</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_genome_alias_digest</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">genome</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">rel_type</span> <span class="ow">in</span> <span class="n">CFG_ASSET_RELATIVES_KEYS</span><span class="p">:</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="n">CFG_ASSET_RELATIVES_KEYS</span><span class="p">[</span>
            <span class="nb">len</span><span class="p">(</span><span class="n">CFG_ASSET_RELATIVES_KEYS</span><span class="p">)</span>
            <span class="o">-</span> <span class="mi">1</span>
            <span class="o">-</span> <span class="n">CFG_ASSET_RELATIVES_KEYS</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">rel_type</span><span class="p">)</span>
        <span class="p">]</span>
        <span class="n">tag_data</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span><span class="n">asset</span><span class="p">][</span>
            <span class="n">CFG_ASSET_TAGS_KEY</span>
        <span class="p">][</span><span class="n">tag</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">rel_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">tag_data</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">for</span> <span class="n">rel</span> <span class="ow">in</span> <span class="n">tag_data</span><span class="p">[</span><span class="n">rel_type</span><span class="p">]:</span>
            <span class="n">parsed</span> <span class="o">=</span> <span class="n">prp</span><span class="p">(</span><span class="n">rel</span><span class="p">)</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Removing &#39;</span><span class="si">{}</span><span class="s2">&#39; from &#39;</span><span class="si">{}</span><span class="s2">&#39; </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">to_remove</span><span class="p">,</span> <span class="n">rel</span><span class="p">,</span> <span class="n">tmp</span><span class="p">))</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">parsed</span><span class="p">[</span><span class="s2">&quot;namespace&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="n">genome</span><span class="p">][</span>
                    <span class="n">CFG_ASSETS_KEY</span>
                <span class="p">][</span><span class="n">parsed</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">]][</span><span class="n">CFG_ASSET_TAGS_KEY</span><span class="p">][</span><span class="n">parsed</span><span class="p">[</span><span class="s2">&quot;tag&quot;</span><span class="p">]][</span><span class="n">tmp</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span>
                    <span class="n">to_remove</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">):</span>
                <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.remove_genome_aliases" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">remove_genome_aliases</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">remove_genome_aliases</span><span class="p">(</span><span class="n">digest</span><span class="p">,</span> <span class="n">aliases</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Remove alias for a specified genome digest. This method will remove the
digest both from the genomes object and from the aliases mapping
in tbe config</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>digest</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>genome digest to remove an alias for</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>aliases</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            list (refgenconf.refgenconf.RefGenConf.list)" href="#refgenconf.RefGenConf.list">list</a>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a collection to aliases to remove for the genome. If not provided, all aliases for the digest will be remove</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether the removal has been performed</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span>
<span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_genome_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">digest</span><span class="p">,</span> <span class="n">aliases</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Remove alias for a specified genome digest. This method will remove the</span>
<span class="sd">    digest both from the genomes object and from the aliases mapping</span>
<span class="sd">    in tbe config</span>

<span class="sd">    :param str digest: genome digest to remove an alias for</span>
<span class="sd">    :param list[str] aliases: a collection to aliases to remove for the</span>
<span class="sd">        genome. If not provided, all aliases for the digest will be remove</span>
<span class="sd">    :return bool: whether the removal has been performed</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_check_and_remove_alias</span><span class="p">(</span><span class="n">rgc</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Remove genome alias only if the alias can be remove successfully and</span>
<span class="sd">        genome exists</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">rgc</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">]:</span>
            <span class="n">rmd</span> <span class="o">=</span> <span class="n">rgc</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">]</span><span class="o">.</span><span class="n">remove_aliases</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">d</span><span class="p">,</span> <span class="n">aliases</span><span class="o">=</span><span class="n">a</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">rmd</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">rmd</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">rgc</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">d</span><span class="p">][</span><span class="n">CFG_ALIASES_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">rgc</span><span class="p">[</span>
                    <span class="n">CFG_GENOMES_KEY</span>
                <span class="p">]</span><span class="o">.</span><span class="n">get_aliases</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[]</span>
            <span class="k">except</span> <span class="n">yacman</span><span class="o">.</span><span class="n">UndefinedAliasError</span><span class="p">:</span>
                <span class="n">rgc</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">d</span><span class="p">][</span><span class="n">CFG_ALIASES_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">return</span> <span class="n">rmd</span>

    <span class="c1"># get the symlink mapping before the removal for _remove_symlink_alias</span>
    <span class="n">symlink_mapping</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_symlink_paths</span><span class="p">(</span><span class="n">genome</span><span class="o">=</span><span class="n">digest</span><span class="p">,</span> <span class="n">all_aliases</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path</span><span class="p">:</span>
        <span class="k">with</span> <span class="bp">self</span> <span class="k">as</span> <span class="n">r</span><span class="p">:</span>
            <span class="n">removed_aliases</span> <span class="o">=</span> <span class="n">_check_and_remove_alias</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">digest</span><span class="p">,</span> <span class="n">aliases</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">removed_aliases</span> <span class="o">=</span> <span class="n">_check_and_remove_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">digest</span><span class="p">,</span> <span class="n">aliases</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">removed_aliases</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[],</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_remove_symlink_alias</span><span class="p">(</span><span class="n">symlink_mapping</span><span class="p">,</span> <span class="n">removed_aliases</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">removed_aliases</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.run_plugins" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">run_plugins</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">run_plugins</span><span class="p">(</span><span class="n">hook</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Runs all installed plugins for the specified hook.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>hook</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>hook identifier</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2643</span>
<span class="normal">2644</span>
<span class="normal">2645</span>
<span class="normal">2646</span>
<span class="normal">2647</span>
<span class="normal">2648</span>
<span class="normal">2649</span>
<span class="normal">2650</span>
<span class="normal">2651</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">run_plugins</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hook</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Runs all installed plugins for the specified hook.</span>

<span class="sd">    :param str hook: hook identifier</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">func</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plugins</span><span class="p">[</span><span class="n">hook</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Running </span><span class="si">{}</span><span class="s2"> plugin: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">hook</span><span class="p">,</span> <span class="n">name</span><span class="p">))</span>
        <span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.seek" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">seek</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">seek</span><span class="p">(</span><span class="n">genome_name</span><span class="p">,</span> <span class="n">asset_name</span><span class="p">,</span> <span class="n">tag_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">seek_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">strict_exists</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">enclosing_dir</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">all_aliases</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">check_exist</span><span class="o">=</span><span class="k">lambda</span> <span class="n">p</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="ow">or</span> <span class="n">is_url</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Seek path to a specified genome-asset-tag alias</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of a reference genome assembly of interest</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the particular asset to fetch</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tag_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the particular asset tag to fetch</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>seek_key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the particular subasset to fetch</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>strict_exists</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to handle case in which path doesn't exist; True to raise IOError, False to raise RuntimeWarning, and None to do nothing at all. Default: None (do not check).</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>check_exist</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to check for asset/path existence</p>
              </div>
            </td>
            <td>
                  <code>lambda p: <span title="os.path.exists">exists</span>(<span title="p">p</span>) or <span title="ubiquerg.is_url">is_url</span>(<span title="p">p</span>)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>enclosing_dir</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether a path to the entire enclosing directory should be returned, e.g. for a fasta asset that has 3 seek_keys pointing to 3 files in an asset dir, that asset dir is returned</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>all_aliases</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to return paths to all asset aliases or just the one for the specified 'genome_name` argument</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to the asset</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>TypeError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the existence check is not a one-arg function</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>refgenconf.MissingGenomeError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the named assembly isn't known to this configuration instance</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>refgenconf.MissingAssetError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the names assembly is known to this configuration instance, but the requested asset is unknown</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">seek</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">genome_name</span><span class="p">,</span>
    <span class="n">asset_name</span><span class="p">,</span>
    <span class="n">tag_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">seek_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">strict_exists</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">enclosing_dir</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">all_aliases</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">check_exist</span><span class="o">=</span><span class="k">lambda</span> <span class="n">p</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="ow">or</span> <span class="n">is_url</span><span class="p">(</span><span class="n">p</span><span class="p">),</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Seek path to a specified genome-asset-tag alias</span>

<span class="sd">    :param str genome_name: name of a reference genome assembly of interest</span>
<span class="sd">    :param str asset_name: name of the particular asset to fetch</span>
<span class="sd">    :param str tag_name: name of the particular asset tag to fetch</span>
<span class="sd">    :param str seek_key: name of the particular subasset to fetch</span>
<span class="sd">    :param bool | NoneType strict_exists: how to handle case in which</span>
<span class="sd">        path doesn&#39;t exist; True to raise IOError, False to raise</span>
<span class="sd">        RuntimeWarning, and None to do nothing at all.</span>
<span class="sd">        Default: None (do not check).</span>
<span class="sd">    :param function(callable) -&gt; bool check_exist: how to check for</span>
<span class="sd">        asset/path existence</span>
<span class="sd">    :param bool enclosing_dir: whether a path to the entire enclosing</span>
<span class="sd">        directory should be returned, e.g. for a fasta asset that has 3</span>
<span class="sd">        seek_keys pointing to 3 files in an asset dir, that asset dir</span>
<span class="sd">        is returned</span>
<span class="sd">    :param bool all_aliases: whether to return paths to all asset aliases or</span>
<span class="sd">        just the one for the specified &#39;genome_name` argument</span>
<span class="sd">    :return str: path to the asset</span>
<span class="sd">    :raise TypeError: if the existence check is not a one-arg function</span>
<span class="sd">    :raise refgenconf.MissingGenomeError: if the named assembly isn&#39;t known</span>
<span class="sd">        to this configuration instance</span>
<span class="sd">    :raise refgenconf.MissingAssetError: if the names assembly is known to</span>
<span class="sd">        this configuration instance, but the requested asset is unknown</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tag_name</span> <span class="o">=</span> <span class="n">tag_name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_default_tag</span><span class="p">(</span><span class="n">genome_name</span><span class="p">,</span> <span class="n">asset_name</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">genome_digest</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_genome_alias_digest</span><span class="p">(</span><span class="n">genome_name</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">yacman</span><span class="o">.</span><span class="n">UndefinedAliasError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MissingGenomeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Your genomes do not include &#39;</span><span class="si">{</span><span class="n">genome_name</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
    <span class="n">genome_ids</span> <span class="o">=</span> <span class="n">_make_list_of_str</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_genome_alias</span><span class="p">(</span><span class="n">genome_digest</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">all_aliases</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">genome_name</span> <span class="ow">in</span> <span class="n">genome_ids</span><span class="p">:</span>
        <span class="n">idx</span> <span class="o">=</span> <span class="n">genome_ids</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">genome_name</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_assert_gat_exists</span><span class="p">(</span><span class="n">genome_name</span><span class="p">,</span> <span class="n">asset_name</span><span class="p">,</span> <span class="n">tag_name</span><span class="p">)</span>
    <span class="n">asset_tag_data</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome_name</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span><span class="n">asset_name</span><span class="p">][</span>
        <span class="n">CFG_ASSET_TAGS_KEY</span>
    <span class="p">][</span><span class="n">tag_name</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">seek_key</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">asset_name</span> <span class="ow">in</span> <span class="n">asset_tag_data</span><span class="p">[</span><span class="n">CFG_SEEK_KEYS_KEY</span><span class="p">]:</span>
            <span class="n">seek_val</span> <span class="o">=</span> <span class="n">asset_tag_data</span><span class="p">[</span><span class="n">CFG_SEEK_KEYS_KEY</span><span class="p">][</span><span class="n">asset_name</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">seek_val</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">seek_val</span> <span class="o">=</span> <span class="n">asset_tag_data</span><span class="p">[</span><span class="n">CFG_SEEK_KEYS_KEY</span><span class="p">][</span><span class="n">seek_key</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">seek_key</span> <span class="o">==</span> <span class="s2">&quot;dir&quot;</span><span class="p">:</span>
                <span class="n">seek_val</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">MissingSeekKeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Seek key &#39;</span><span class="si">{</span><span class="n">seek_key</span><span class="si">}</span><span class="s2">&#39; not defined for: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">genome_name</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">asset_name</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">tag_name</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
                <span class="p">)</span>
    <span class="k">if</span> <span class="n">enclosing_dir</span><span class="p">:</span>
        <span class="n">seek_val</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">fullpath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alias_dir</span><span class="p">,</span> <span class="n">genome_digest</span><span class="p">,</span> <span class="n">asset_name</span><span class="p">,</span> <span class="n">tag_name</span><span class="p">,</span> <span class="n">seek_val</span>
    <span class="p">)</span>
    <span class="n">fullpaths</span> <span class="o">=</span> <span class="p">[</span><span class="n">fullpath</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">genome_digest</span><span class="p">,</span> <span class="n">gid</span><span class="p">)</span> <span class="k">for</span> <span class="n">gid</span> <span class="ow">in</span> <span class="n">genome_ids</span><span class="p">]</span>
    <span class="n">paths_existence</span> <span class="o">=</span> <span class="p">[</span><span class="n">check_exist</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span> <span class="k">for</span> <span class="n">fp</span> <span class="ow">in</span> <span class="n">fullpaths</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">paths_existence</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">fullpaths</span> <span class="k">if</span> <span class="n">all_aliases</span> <span class="k">else</span> <span class="n">fullpaths</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
    <span class="n">nonexistent_pths</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">fullpaths</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">paths_existence</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">x</span><span class="p">]</span>
    <span class="p">]</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;For genome &#39;</span><span class="si">{}</span><span class="s2">&#39; path to the asset &#39;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2">&#39; doesn&#39;t exist: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">genome_name</span><span class="p">,</span>
        <span class="n">genome_name</span><span class="p">,</span>
        <span class="n">asset_name</span><span class="p">,</span>
        <span class="n">seek_key</span><span class="p">,</span>
        <span class="n">tag_name</span><span class="p">,</span>
        <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">nonexistent_pths</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">strict_exists</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">strict_exists</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="ne">RuntimeWarning</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">fullpaths</span> <span class="k">if</span> <span class="n">all_aliases</span> <span class="k">else</span> <span class="n">fullpaths</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.seek_src" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">seek_src</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">seek_src</span><span class="p">(</span><span class="n">genome_name</span><span class="p">,</span> <span class="n">asset_name</span><span class="p">,</span> <span class="n">tag_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">seek_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">strict_exists</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">enclosing_dir</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">check_exist</span><span class="o">=</span><span class="k">lambda</span> <span class="n">p</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="ow">or</span> <span class="n">is_url</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Seek path to a specified genome-asset-tag</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of a reference genome assembly of interest</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the particular asset to fetch</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tag_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the particular asset tag to fetch</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>seek_key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the particular subasset to fetch</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>strict_exists</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to handle case in which path doesn't exist; True to raise IOError, False to raise RuntimeWarning, and None to do nothing at all. Default: None (do not check).</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>check_exist</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to check for asset/path existence</p>
              </div>
            </td>
            <td>
                  <code>lambda p: <span title="os.path.exists">exists</span>(<span title="p">p</span>) or <span title="ubiquerg.is_url">is_url</span>(<span title="p">p</span>)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>enclosing_dir</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether a path to the entire enclosing directory should be returned, e.g. for a fasta asset that has 3 seek_keys pointing to 3 files in an asset dir, that asset dir is returned</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to the asset</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>TypeError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the existence check is not a one-arg function</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>refgenconf.MissingGenomeError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the named assembly isn't known to this configuration instance</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>refgenconf.MissingAssetError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the names assembly is known to this configuration instance, but the requested asset is unknown</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">seek_src</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">genome_name</span><span class="p">,</span>
    <span class="n">asset_name</span><span class="p">,</span>
    <span class="n">tag_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">seek_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">strict_exists</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">enclosing_dir</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">check_exist</span><span class="o">=</span><span class="k">lambda</span> <span class="n">p</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="ow">or</span> <span class="n">is_url</span><span class="p">(</span><span class="n">p</span><span class="p">),</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Seek path to a specified genome-asset-tag</span>

<span class="sd">    :param str genome_name: name of a reference genome assembly of interest</span>
<span class="sd">    :param str asset_name: name of the particular asset to fetch</span>
<span class="sd">    :param str tag_name: name of the particular asset tag to fetch</span>
<span class="sd">    :param str seek_key: name of the particular subasset to fetch</span>
<span class="sd">    :param bool | NoneType strict_exists: how to handle case in which</span>
<span class="sd">        path doesn&#39;t exist; True to raise IOError, False to raise</span>
<span class="sd">        RuntimeWarning, and None to do nothing at all.</span>
<span class="sd">        Default: None (do not check).</span>
<span class="sd">    :param function(callable) -&gt; bool check_exist: how to check for</span>
<span class="sd">        asset/path existence</span>
<span class="sd">    :param bool enclosing_dir: whether a path to the entire enclosing</span>
<span class="sd">        directory should be returned, e.g. for a fasta asset that has 3</span>
<span class="sd">        seek_keys pointing to 3 files in an asset dir, that asset dir</span>
<span class="sd">        is returned</span>
<span class="sd">    :return str: path to the asset</span>
<span class="sd">    :raise TypeError: if the existence check is not a one-arg function</span>
<span class="sd">    :raise refgenconf.MissingGenomeError: if the named assembly isn&#39;t known</span>
<span class="sd">        to this configuration instance</span>
<span class="sd">    :raise refgenconf.MissingAssetError: if the names assembly is known to</span>
<span class="sd">        this configuration instance, but the requested asset is unknown</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tag_name</span> <span class="o">=</span> <span class="n">tag_name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_default_tag</span><span class="p">(</span><span class="n">genome_name</span><span class="p">,</span> <span class="n">asset_name</span><span class="p">)</span>
    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;getting asset: &#39;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">genome_name</span><span class="p">,</span> <span class="n">asset_name</span><span class="p">,</span> <span class="n">seek_key</span><span class="p">,</span> <span class="n">tag_name</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">callable</span><span class="p">(</span><span class="n">check_exist</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">finspect</span><span class="p">(</span><span class="n">check_exist</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Asset existence check must be a one-arg function.&quot;</span><span class="p">)</span>
    <span class="c1"># 3 &#39;path&#39; key options supported</span>
    <span class="c1"># option1: absolute path</span>
    <span class="c1"># get just the saute path value from the config</span>
    <span class="n">path_val</span> <span class="o">=</span> <span class="n">_genome_asset_path</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">],</span>
        <span class="n">genome_name</span><span class="p">,</span>
        <span class="n">asset_name</span><span class="p">,</span>
        <span class="n">tag_name</span><span class="p">,</span>
        <span class="n">enclosing_dir</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">no_tag</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">seek_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Trying absolute path: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">path_val</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">seek_key</span><span class="p">:</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path_val</span><span class="p">,</span> <span class="n">seek_key</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">path_val</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="ow">and</span> <span class="n">check_exist</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">path</span>
    <span class="n">genome_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_genome_alias_digest</span><span class="p">(</span><span class="n">genome_name</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="c1"># option2: relative to genome_folder/{genome} (default, canonical)</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">_genome_asset_path</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">],</span>
        <span class="n">genome_name</span><span class="p">,</span>
        <span class="n">asset_name</span><span class="p">,</span>
        <span class="n">tag_name</span><span class="p">,</span>
        <span class="n">seek_key</span><span class="p">,</span>
        <span class="n">enclosing_dir</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">fullpath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_dir</span><span class="p">,</span> <span class="n">genome_name</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;Trying relative to genome_folder/genome/_data (</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">): </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">CFG_FOLDER_KEY</span><span class="p">],</span> <span class="n">genome_name</span><span class="p">,</span> <span class="n">DATA_DIR</span><span class="p">,</span> <span class="n">fullpath</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">check_exist</span><span class="p">(</span><span class="n">fullpath</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">fullpath</span>
    <span class="c1"># option3: relative to the genome_folder (if option2 does not exist)</span>
    <span class="n">gf_relpath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">[</span><span class="n">CFG_FOLDER_KEY</span><span class="p">],</span>
        <span class="n">_genome_asset_path</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">],</span>
            <span class="n">genome_name</span><span class="p">,</span>
            <span class="n">asset_name</span><span class="p">,</span>
            <span class="n">tag_name</span><span class="p">,</span>
            <span class="n">seek_key</span><span class="p">,</span>
            <span class="n">enclosing_dir</span><span class="p">,</span>
            <span class="n">no_tag</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;Trying path relative to genome_folder (</span><span class="si">{}</span><span class="s2">): </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">CFG_FOLDER_KEY</span><span class="p">],</span> <span class="n">gf_relpath</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">check_exist</span><span class="p">(</span><span class="n">gf_relpath</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">gf_relpath</span>

    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;For genome &#39;</span><span class="si">{}</span><span class="s2">&#39; the asset &#39;</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">:</span><span class="si">{}</span><span class="s2">&#39; doesn&#39;t exist; tried: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">genome_name</span><span class="p">,</span>
        <span class="n">asset_name</span><span class="p">,</span>
        <span class="n">seek_key</span><span class="p">,</span>
        <span class="n">tag_name</span><span class="p">,</span>
        <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">path</span><span class="p">,</span> <span class="n">gf_relpath</span><span class="p">,</span> <span class="n">fullpath</span><span class="p">]),</span>
    <span class="p">)</span>
    <span class="c1"># return option2 if existence not enforced</span>
    <span class="k">if</span> <span class="n">strict_exists</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">strict_exists</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="ne">RuntimeWarning</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">fullpath</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.seekr" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">seekr</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">seekr</span><span class="p">(</span><span class="n">genome_name</span><span class="p">,</span> <span class="n">asset_name</span><span class="p">,</span> <span class="n">tag_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">seek_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">remote_class</span><span class="o">=</span><span class="s1">&#39;http&#39;</span><span class="p">,</span> <span class="n">get_url</span><span class="o">=</span><span class="k">lambda</span> <span class="n">server</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="n">construct_request_url</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="nb">id</span><span class="p">))</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Seek a remote path to a specified genome/asset.seek_key:tag</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of a reference genome assembly of interest</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the particular asset to fetch</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tag_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the particular asset tag to fetch</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>seek_key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the particular subasset to fetch</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>remote_class</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>remote data provider class, e.g. 'http' or 's3'</p>
              </div>
            </td>
            <td>
                  <code>&#39;http&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>get_url</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to determine URL request, given server URL and endpoint operationID</p>
              </div>
            </td>
            <td>
                  <code>lambda server, id: <span title="refgenconf.refgenconf.construct_request_url">construct_request_url</span>(<span title="server">server</span>, <a class="autorefs autorefs-internal" title="            id (refgenconf.refgenconf.RefGenConf.id)" href="#refgenconf.RefGenConf.id">id</a>)</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to the asset</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">seekr</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">genome_name</span><span class="p">,</span>
    <span class="n">asset_name</span><span class="p">,</span>
    <span class="n">tag_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">seek_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">remote_class</span><span class="o">=</span><span class="s2">&quot;http&quot;</span><span class="p">,</span>
    <span class="n">get_url</span><span class="o">=</span><span class="k">lambda</span> <span class="n">server</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="n">construct_request_url</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="nb">id</span><span class="p">),</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Seek a remote path to a specified genome/asset.seek_key:tag</span>

<span class="sd">    :param str genome_name: name of a reference genome assembly of interest</span>
<span class="sd">    :param str asset_name: name of the particular asset to fetch</span>
<span class="sd">    :param str tag_name: name of the particular asset tag to fetch</span>
<span class="sd">    :param str seek_key: name of the particular subasset to fetch</span>
<span class="sd">    :param str remote_class: remote data provider class, e.g. &#39;http&#39; or &#39;s3&#39;</span>
<span class="sd">    :param function(serverUrl, operationId) -&gt; str get_url: how to determine</span>
<span class="sd">        URL request, given server URL and endpoint operationID</span>
<span class="sd">    :return str: path to the asset</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">good_servers</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_SERVERS_KEY</span><span class="p">]</span> <span class="k">if</span> <span class="n">get_url</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">API_ID_ASSET_PATH</span><span class="p">)</span>
    <span class="p">]</span>
    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Compatible refgenieserver instances: </span><span class="si">{</span><span class="n">good_servers</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">good_servers</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">genome_digest</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_genome_alias_digest</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">genome_name</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">yacman</span><span class="o">.</span><span class="n">UndefinedAliasError</span><span class="p">:</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No local digest for genome alias: </span><span class="si">{</span><span class="n">genome_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_genome_alias</span><span class="p">(</span>
                <span class="n">genome</span><span class="o">=</span><span class="n">genome_name</span><span class="p">,</span> <span class="n">servers</span><span class="o">=</span><span class="p">[</span><span class="n">url</span><span class="p">],</span> <span class="n">create_genome</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">):</span>
                <span class="k">continue</span>
            <span class="n">genome_digest</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_genome_alias_digest</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">genome_name</span><span class="p">)</span>

        <span class="n">asset_seek_key_url</span> <span class="o">=</span> <span class="n">get_url</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">API_ID_ASSET_PATH</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">genome</span><span class="o">=</span><span class="n">genome_digest</span><span class="p">,</span> <span class="n">asset</span><span class="o">=</span><span class="n">asset_name</span><span class="p">,</span> <span class="n">seek_key</span><span class="o">=</span><span class="n">seek_key</span> <span class="ow">or</span> <span class="n">asset_name</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">asset_seek_key_url</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">asset_seek_key_target</span> <span class="o">=</span> <span class="n">send_data_request</span><span class="p">(</span>
            <span class="n">asset_seek_key_url</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="n">tag_name</span><span class="p">,</span> <span class="s2">&quot;remoteClass&quot;</span><span class="p">:</span> <span class="n">remote_class</span><span class="p">},</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">asset_seek_key_target</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.set_default_pointer" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">set_default_pointer</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">set_default_pointer</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">force_exists</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">force_digest</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force_fasta</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Point to the selected tag by default</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of a reference genome assembly of interest</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the particular asset of interest</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tag</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the particular asset tag to point to by default</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>force_digest</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>digest to force update of. The alias will not be converted to the digest, even if provided.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>force_fasta</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether setting a default tag for a fasta asset should be forced. Beware: This could lead to genome identity issues</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>force_exists</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether the default tag change should be forced (even if it exists)</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_default_pointer</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">genome</span><span class="p">,</span>
    <span class="n">asset</span><span class="p">,</span>
    <span class="n">tag</span><span class="p">,</span>
    <span class="n">force_exists</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">force_digest</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">force_fasta</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Point to the selected tag by default</span>

<span class="sd">    :param str genome: name of a reference genome assembly of interest</span>
<span class="sd">    :param str asset: name of the particular asset of interest</span>
<span class="sd">    :param str tag: name of the particular asset tag to point to by default</span>
<span class="sd">    :param str force_digest: digest to force update of. The alias will</span>
<span class="sd">        not be converted to the digest, even if provided.</span>
<span class="sd">    :param bool force_fasta: whether setting a default tag for a fasta asset</span>
<span class="sd">        should be forced. Beware: This could lead to genome identity issues</span>
<span class="sd">    :param bool force_exists: whether the default tag change should be</span>
<span class="sd">        forced (even if it exists)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_assert_gat_exists</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
    <span class="n">asset_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span><span class="n">asset</span><span class="p">]</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="n">CFG_ASSET_DEFAULT_TAG_KEY</span> <span class="ow">in</span> <span class="n">asset_dict</span>
        <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">asset_dict</span><span class="p">[</span><span class="n">CFG_ASSET_DEFAULT_TAG_KEY</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">force_exists</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="n">asset</span> <span class="o">==</span> <span class="s2">&quot;fasta&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force_fasta</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
                <span class="s2">&quot;Can&#39;t change the default tag for fasta assets, &quot;</span>
                <span class="s2">&quot;this would lead to genome identity issues&quot;</span>
            <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_assets</span><span class="p">(</span>
        <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="p">{</span><span class="n">CFG_ASSET_DEFAULT_TAG_KEY</span><span class="p">:</span> <span class="n">tag</span><span class="p">},</span> <span class="n">force_digest</span><span class="o">=</span><span class="n">force_digest</span>
    <span class="p">)</span>
    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Default tag for &#39;</span><span class="si">{</span><span class="n">genome</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">asset</span><span class="si">}</span><span class="s2">&#39; set to: </span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.set_genome_alias" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">set_genome_alias</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">set_genome_alias</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">digest</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">servers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">reset_digest</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">create_genome</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">no_write</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">get_json_url</span><span class="o">=</span><span class="k">lambda</span> <span class="n">server</span><span class="p">:</span> <span class="n">construct_request_url</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="n">API_ID_ALIAS_DIGEST</span><span class="p">))</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Assign a human-readable alias to a genome identifier.</p>
<p>Genomes are identified by a unique identifier which is derived from the
FASTA file (part of fasta asset). This way we can ensure genome
provenance and compatibility with the server. This function maps a
human-readable identifier to make referring to the genomes easier.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the genome to assign to an identifier</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>digest</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>identifier to use</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>overwrite</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether all the previously set aliases should be removed and just the current one stored</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>no_write</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether to skip writing the alias to the file</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether the alias has been established</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span>
<span class="normal">1852</span>
<span class="normal">1853</span>
<span class="normal">1854</span>
<span class="normal">1855</span>
<span class="normal">1856</span>
<span class="normal">1857</span>
<span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span>
<span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span>
<span class="normal">1884</span>
<span class="normal">1885</span>
<span class="normal">1886</span>
<span class="normal">1887</span>
<span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span>
<span class="normal">1891</span>
<span class="normal">1892</span>
<span class="normal">1893</span>
<span class="normal">1894</span>
<span class="normal">1895</span>
<span class="normal">1896</span>
<span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span>
<span class="normal">1900</span>
<span class="normal">1901</span>
<span class="normal">1902</span>
<span class="normal">1903</span>
<span class="normal">1904</span>
<span class="normal">1905</span>
<span class="normal">1906</span>
<span class="normal">1907</span>
<span class="normal">1908</span>
<span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span>
<span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_genome_alias</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">genome</span><span class="p">,</span>
    <span class="n">digest</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">servers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">reset_digest</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">create_genome</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">no_write</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">get_json_url</span><span class="o">=</span><span class="k">lambda</span> <span class="n">server</span><span class="p">:</span> <span class="n">construct_request_url</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="n">API_ID_ALIAS_DIGEST</span><span class="p">),</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Assign a human-readable alias to a genome identifier.</span>

<span class="sd">    Genomes are identified by a unique identifier which is derived from the</span>
<span class="sd">    FASTA file (part of fasta asset). This way we can ensure genome</span>
<span class="sd">    provenance and compatibility with the server. This function maps a</span>
<span class="sd">    human-readable identifier to make referring to the genomes easier.</span>

<span class="sd">    :param str genome: name of the genome to assign to an identifier</span>
<span class="sd">    :param str digest: identifier to use</span>
<span class="sd">    :param bool overwrite: whether all the previously set aliases should be</span>
<span class="sd">        removed and just the current one stored</span>
<span class="sd">    :param bool no_write: whether to skip writing the alias to the file</span>
<span class="sd">    :return bool: whether the alias has been established</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_check_and_set_alias</span><span class="p">(</span><span class="n">rgc</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">create</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set genome alias only if the key alias can be set successfully and</span>
<span class="sd">        genome exists or genome creation is forced</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">_assert_gat_exists</span><span class="p">(</span><span class="n">rgc</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">],</span> <span class="n">gname</span><span class="o">=</span><span class="n">digest</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">MissingGenomeError</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">create</span><span class="p">:</span>
                <span class="k">raise</span>
            <span class="n">rgc</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">d</span><span class="p">]</span> <span class="o">=</span> <span class="n">PXAM</span><span class="p">()</span>

        <span class="n">sa</span><span class="p">,</span> <span class="n">ra</span> <span class="o">=</span> <span class="n">rgc</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">]</span><span class="o">.</span><span class="n">set_aliases</span><span class="p">(</span>
            <span class="n">aliases</span><span class="o">=</span><span class="n">a</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">d</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="n">overwrite</span><span class="p">,</span> <span class="n">reset_key</span><span class="o">=</span><span class="n">reset_digest</span>
        <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">rgc</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">d</span><span class="p">][</span><span class="n">CFG_ALIASES_KEY</span><span class="p">]</span> <span class="o">=</span> <span class="n">rgc</span><span class="p">[</span>
                <span class="n">CFG_GENOMES_KEY</span>
            <span class="p">]</span><span class="o">.</span><span class="n">get_aliases</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[],</span> <span class="p">[]</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Set genome alias (</span><span class="si">{</span><span class="n">d</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="nb">list</span><span class="p">)</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">a</span><span class="si">}</span><span class="s2">)&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">sa</span><span class="p">,</span> <span class="n">ra</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">digest</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">genome</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Can look up just one digest at a time&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">genome</span> <span class="o">=</span> <span class="n">genome</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">servers</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">servers</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_SERVERS_KEY</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">server</span> <span class="ow">in</span> <span class="n">servers</span><span class="p">:</span>
            <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">url_alias_template</span> <span class="o">=</span> <span class="n">get_json_url</span><span class="p">(</span><span class="n">server</span><span class="o">=</span><span class="n">server</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">url_alias_template</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">url_alias</span> <span class="o">=</span> <span class="n">url_alias_template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="n">genome</span><span class="p">)</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Setting &#39;</span><span class="si">{</span><span class="n">genome</span><span class="si">}</span><span class="s2">&#39; identity with server: </span><span class="si">{</span><span class="n">url_alias</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">digest</span> <span class="o">=</span> <span class="n">send_data_request</span><span class="p">(</span><span class="n">url_alias</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">DownloadJsonError</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">cnt</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">servers</span><span class="p">):</span>
                    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Genome &#39;</span><span class="si">{</span><span class="n">genome</span><span class="si">}</span><span class="s2">&#39; not available on any of the &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;following servers: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">servers</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>
                    <span class="k">return</span> <span class="kc">False</span>
                <span class="k">continue</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Determined digest for local &#39;</span><span class="si">{</span><span class="n">genome</span><span class="si">}</span><span class="s2">&#39; alias: </span><span class="si">{</span><span class="n">digest</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">break</span>

    <span class="c1"># get the symlink mapping before the removal for _remove_symlink_alias</span>
    <span class="n">symlink_mapping</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_symlink_paths</span><span class="p">(</span><span class="n">genome</span><span class="o">=</span><span class="n">digest</span><span class="p">,</span> <span class="n">all_aliases</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">no_write</span><span class="p">:</span>
        <span class="k">with</span> <span class="bp">self</span> <span class="k">as</span> <span class="n">r</span><span class="p">:</span>
            <span class="n">set_aliases</span><span class="p">,</span> <span class="n">removed_aliases</span> <span class="o">=</span> <span class="n">_check_and_set_alias</span><span class="p">(</span>
                <span class="n">rgc</span><span class="o">=</span><span class="n">r</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="n">digest</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="n">genome</span><span class="p">,</span> <span class="n">create</span><span class="o">=</span><span class="n">create_genome</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_remove_symlink_alias</span><span class="p">(</span><span class="n">symlink_mapping</span><span class="p">,</span> <span class="n">removed_aliases</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_symlink_alias</span><span class="p">(</span><span class="n">genome</span><span class="o">=</span><span class="n">digest</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">set_aliases</span><span class="p">,</span> <span class="n">removed_aliases</span> <span class="o">=</span> <span class="n">_check_and_set_alias</span><span class="p">(</span>
            <span class="n">rgc</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="n">digest</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="n">genome</span><span class="p">,</span> <span class="n">create</span><span class="o">=</span><span class="n">create_genome</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">set_aliases</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.subscribe" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">subscribe</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">subscribe</span><span class="p">(</span><span class="n">urls</span><span class="p">,</span> <span class="n">reset</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">no_write</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Add URLs the list of genome_servers.</p>
<p>Use reset argument to overwrite the current list.
Otherwise the current one will be appended to.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>urls</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>urls to update the genome_servers list with</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>reset</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether the current list should be overwritten</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2353</span>
<span class="normal">2354</span>
<span class="normal">2355</span>
<span class="normal">2356</span>
<span class="normal">2357</span>
<span class="normal">2358</span>
<span class="normal">2359</span>
<span class="normal">2360</span>
<span class="normal">2361</span>
<span class="normal">2362</span>
<span class="normal">2363</span>
<span class="normal">2364</span>
<span class="normal">2365</span>
<span class="normal">2366</span>
<span class="normal">2367</span>
<span class="normal">2368</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">subscribe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">urls</span><span class="p">,</span> <span class="n">reset</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">no_write</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add URLs the list of genome_servers.</span>

<span class="sd">    Use reset argument to overwrite the current list.</span>
<span class="sd">    Otherwise the current one will be appended to.</span>

<span class="sd">    :param list[str] | str urls: urls to update the genome_servers list with</span>
<span class="sd">    :param bool reset: whether the current list should be overwritten</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">no_write</span><span class="p">:</span>
        <span class="k">with</span> <span class="bp">self</span> <span class="k">as</span> <span class="n">r</span><span class="p">:</span>
            <span class="n">r</span><span class="o">.</span><span class="n">_update_genome_servers</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">urls</span><span class="p">,</span> <span class="n">reset</span><span class="o">=</span><span class="n">reset</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_genome_servers</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">urls</span><span class="p">,</span> <span class="n">reset</span><span class="o">=</span><span class="n">reset</span><span class="p">)</span>
    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Subscribed to: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">urls</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.tag" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">tag</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">tag</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">new_tag</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Retags the asset selected by the tag with the new_tag.
Prompts if default already exists and overrides upon confirmation.</p>
<p>This method does not override the original asset entry in the RefGenConf
object. It creates its copy and tags it with the new_tag.
Additionally, if the retagged asset has any children their parent will
be retagged as new_tag that was introduced upon this method execution.
By default, the files on disk will be also renamed to reflect the
genome configuration file changes</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of a reference genome assembly of interest</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of particular asset of interest</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tag</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the tag that identifies the asset of interest</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>new_tag</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of particular the new tag</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>files</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether the asset files on disk should be renamed</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a logical indicating whether the tagging was successful</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>when the original tag is not specified</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">tag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">new_tag</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retags the asset selected by the tag with the new_tag.</span>
<span class="sd">    Prompts if default already exists and overrides upon confirmation.</span>

<span class="sd">    This method does not override the original asset entry in the RefGenConf</span>
<span class="sd">    object. It creates its copy and tags it with the new_tag.</span>
<span class="sd">    Additionally, if the retagged asset has any children their parent will</span>
<span class="sd">    be retagged as new_tag that was introduced upon this method execution.</span>
<span class="sd">    By default, the files on disk will be also renamed to reflect the</span>
<span class="sd">    genome configuration file changes</span>

<span class="sd">    :param str genome: name of a reference genome assembly of interest</span>
<span class="sd">    :param str asset: name of particular asset of interest</span>
<span class="sd">    :param str tag: name of the tag that identifies the asset of interest</span>
<span class="sd">    :param str new_tag: name of particular the new tag</span>
<span class="sd">    :param bool files: whether the asset files on disk should be renamed</span>
<span class="sd">    :raise ValueError: when the original tag is not specified</span>
<span class="sd">    :return bool: a logical indicating whether the tagging was successful</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="n">c</span> <span class="ow">in</span> <span class="n">new_tag</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">TAG_NAME_BANNED_CHARS</span><span class="p">]):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The tag name can&#39;t consist of characters: </span><span class="si">{</span><span class="n">TAG_NAME_BANNED_CHARS</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run_plugins</span><span class="p">(</span><span class="n">PRE_TAG_HOOK</span><span class="p">)</span>
    <span class="n">ori_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seek_src</span><span class="p">(</span>
        <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">enclosing_dir</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">strict_exists</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
    <span class="n">alias_ori_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span>
        <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">enclosing_dir</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">strict_exists</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
    <span class="n">new_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ori_path</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">pardir</span><span class="p">,</span> <span class="n">new_tag</span><span class="p">))</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path</span><span class="p">:</span>
        <span class="k">with</span> <span class="bp">self</span> <span class="k">as</span> <span class="n">r</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">r</span><span class="o">.</span><span class="n">cfg_tag_asset</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">new_tag</span><span class="p">,</span> <span class="n">force</span><span class="p">):</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">cfg_tag_asset</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">new_tag</span><span class="p">,</span> <span class="n">force</span><span class="p">):</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">files</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_plugins</span><span class="p">(</span><span class="n">POST_TAG_HOOK</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">new_path</span><span class="p">):</span>
            <span class="n">_remove</span><span class="p">(</span><span class="n">new_path</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">ori_path</span><span class="p">,</span> <span class="n">new_path</span><span class="p">)</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Renamed directory: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">new_path</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_symlink_alias</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">new_tag</span><span class="p">)</span>
        <span class="n">_remove</span><span class="p">(</span><span class="n">alias_ori_path</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;Could not rename original asset tag directory &#39;</span><span class="si">{}</span><span class="s2">&#39;&quot;</span>
            <span class="s2">&quot; to the new one &#39;</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ori_path</span><span class="p">,</span> <span class="n">new_path</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path</span><span class="p">:</span>
            <span class="k">with</span> <span class="bp">self</span> <span class="k">as</span> <span class="n">r</span><span class="p">:</span>
                <span class="n">r</span><span class="o">.</span><span class="n">cfg_remove_assets</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">relationships</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cfg_remove_assets</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">relationships</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Asset &#39;</span><span class="si">{}</span><span class="s2">/</span><span class="si">{}</span><span class="s2">&#39; tagged with &#39;</span><span class="si">{}</span><span class="s2">&#39; has been removed from&quot;</span>
            <span class="s2">&quot; the genome config&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Original asset has been moved from &#39;</span><span class="si">{}</span><span class="s2">&#39; to &#39;</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">ori_path</span><span class="p">,</span> <span class="n">new_path</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run_plugins</span><span class="p">(</span><span class="n">POST_TAG_HOOK</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.unsubscribe" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">unsubscribe</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">unsubscribe</span><span class="p">(</span><span class="n">urls</span><span class="p">,</span> <span class="n">no_write</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Remove URLs the list of genome_servers.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>urls</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>urls to update the genome_servers list with</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2370</span>
<span class="normal">2371</span>
<span class="normal">2372</span>
<span class="normal">2373</span>
<span class="normal">2374</span>
<span class="normal">2375</span>
<span class="normal">2376</span>
<span class="normal">2377</span>
<span class="normal">2378</span>
<span class="normal">2379</span>
<span class="normal">2380</span>
<span class="normal">2381</span>
<span class="normal">2382</span>
<span class="normal">2383</span>
<span class="normal">2384</span>
<span class="normal">2385</span>
<span class="normal">2386</span>
<span class="normal">2387</span>
<span class="normal">2388</span>
<span class="normal">2389</span>
<span class="normal">2390</span>
<span class="normal">2391</span>
<span class="normal">2392</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">unsubscribe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">urls</span><span class="p">,</span> <span class="n">no_write</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Remove URLs the list of genome_servers.</span>

<span class="sd">    :param list[str] | str urls: urls to update the genome_servers list with</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">unsub_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">ori_servers</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_SERVERS_KEY</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">urls</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ori_servers</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
            <span class="n">unsub_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;URL &#39;</span><span class="si">{}</span><span class="s2">&#39; not in genome_servers list: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">ori_servers</span><span class="p">)</span>
            <span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_path</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">no_write</span><span class="p">:</span>
        <span class="k">with</span> <span class="bp">self</span> <span class="k">as</span> <span class="n">r</span><span class="p">:</span>
            <span class="n">r</span><span class="o">.</span><span class="n">_update_genome_servers</span><span class="p">(</span><span class="n">ori_servers</span><span class="p">,</span> <span class="n">reset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_genome_servers</span><span class="p">(</span><span class="n">ori_servers</span><span class="p">,</span> <span class="n">reset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">unsub_list</span><span class="p">:</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Unsubscribed from: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">unsub_list</span><span class="p">)))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.update_assets" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">update_assets</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">update_assets</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force_digest</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Updates the genomes in RefGenConf object at any level.
If a requested genome-asset mapping is missing, it will be created</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>genome to be added/updated</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>asset to be added/updated</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>force_digest</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>digest to force update of. The alias will not be converted to the digest, even if provided.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="collections.abc.Mapping">Mapping</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>data to be added/updated</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>updated object</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2106</span>
<span class="normal">2107</span>
<span class="normal">2108</span>
<span class="normal">2109</span>
<span class="normal">2110</span>
<span class="normal">2111</span>
<span class="normal">2112</span>
<span class="normal">2113</span>
<span class="normal">2114</span>
<span class="normal">2115</span>
<span class="normal">2116</span>
<span class="normal">2117</span>
<span class="normal">2118</span>
<span class="normal">2119</span>
<span class="normal">2120</span>
<span class="normal">2121</span>
<span class="normal">2122</span>
<span class="normal">2123</span>
<span class="normal">2124</span>
<span class="normal">2125</span>
<span class="normal">2126</span>
<span class="normal">2127</span>
<span class="normal">2128</span>
<span class="normal">2129</span>
<span class="normal">2130</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">update_assets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force_digest</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Updates the genomes in RefGenConf object at any level.</span>
<span class="sd">    If a requested genome-asset mapping is missing, it will be created</span>

<span class="sd">    :param str genome: genome to be added/updated</span>
<span class="sd">    :param str asset: asset to be added/updated</span>
<span class="sd">    :param str force_digest: digest to force update of. The alias will</span>
<span class="sd">        not be converted to the digest, even if provided.</span>
<span class="sd">    :param Mapping data: data to be added/updated</span>
<span class="sd">    :return RefGenConf: updated object</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">_check_insert_data</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;genome&quot;</span><span class="p">):</span>
        <span class="n">genome</span> <span class="o">=</span> <span class="n">force_digest</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_genome_alias_digest</span><span class="p">(</span>
            <span class="n">alias</span><span class="o">=</span><span class="n">genome</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
        <span class="n">_safe_setdef</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">],</span> <span class="n">genome</span><span class="p">,</span> <span class="n">PXAM</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">_check_insert_data</span><span class="p">(</span><span class="n">asset</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;asset&quot;</span><span class="p">):</span>
            <span class="n">_safe_setdef</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">],</span> <span class="n">CFG_ASSETS_KEY</span><span class="p">,</span> <span class="n">PXAM</span><span class="p">())</span>
            <span class="n">_safe_setdef</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">],</span> <span class="n">asset</span><span class="p">,</span> <span class="n">PXAM</span><span class="p">()</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">_check_insert_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">):</span>
                <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span><span class="n">asset</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.update_genomes" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">update_genomes</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">update_genomes</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force_digest</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Updates the genomes in RefGenConf object at any level.
If a requested genome is missing, it will be added</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>genome to be added/updated</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>force_digest</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>digest to force update of. The alias will not be converted to the digest, even if provided.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="collections.abc.Mapping">Mapping</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>data to be added/updated</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>updated object</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2312</span>
<span class="normal">2313</span>
<span class="normal">2314</span>
<span class="normal">2315</span>
<span class="normal">2316</span>
<span class="normal">2317</span>
<span class="normal">2318</span>
<span class="normal">2319</span>
<span class="normal">2320</span>
<span class="normal">2321</span>
<span class="normal">2322</span>
<span class="normal">2323</span>
<span class="normal">2324</span>
<span class="normal">2325</span>
<span class="normal">2326</span>
<span class="normal">2327</span>
<span class="normal">2328</span>
<span class="normal">2329</span>
<span class="normal">2330</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">update_genomes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force_digest</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Updates the genomes in RefGenConf object at any level.</span>
<span class="sd">    If a requested genome is missing, it will be added</span>

<span class="sd">    :param str genome: genome to be added/updated</span>
<span class="sd">    :param str force_digest: digest to force update of. The alias will</span>
<span class="sd">        not be converted to the digest, even if provided.</span>
<span class="sd">    :param Mapping data: data to be added/updated</span>
<span class="sd">    :return RefGenConf: updated object</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">_check_insert_data</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;genome&quot;</span><span class="p">):</span>
        <span class="n">genome</span> <span class="o">=</span> <span class="n">force_digest</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_genome_alias_digest</span><span class="p">(</span>
            <span class="n">alias</span><span class="o">=</span><span class="n">genome</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
        <span class="n">_safe_setdef</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">],</span> <span class="n">genome</span><span class="p">,</span> <span class="n">PXAM</span><span class="p">({</span><span class="n">CFG_ASSETS_KEY</span><span class="p">:</span> <span class="n">PXAM</span><span class="p">()}))</span>
        <span class="k">if</span> <span class="n">_check_insert_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.update_relatives_assets" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">update_relatives_assets</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">update_relatives_assets</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>A convenience method which wraps the update assets and uses it to update the
asset relatives of an asset.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>genome to be added/updated</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>asset to be added/updated</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tag</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>tag to be added/updated</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            list (refgenconf.refgenconf.RefGenConf.list)" href="#refgenconf.RefGenConf.list">list</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>asset parents or children to be added/updated</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>children</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a logical indicating whether the relationship to be added is 'children'</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>updated object</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2014</span>
<span class="normal">2015</span>
<span class="normal">2016</span>
<span class="normal">2017</span>
<span class="normal">2018</span>
<span class="normal">2019</span>
<span class="normal">2020</span>
<span class="normal">2021</span>
<span class="normal">2022</span>
<span class="normal">2023</span>
<span class="normal">2024</span>
<span class="normal">2025</span>
<span class="normal">2026</span>
<span class="normal">2027</span>
<span class="normal">2028</span>
<span class="normal">2029</span>
<span class="normal">2030</span>
<span class="normal">2031</span>
<span class="normal">2032</span>
<span class="normal">2033</span>
<span class="normal">2034</span>
<span class="normal">2035</span>
<span class="normal">2036</span>
<span class="normal">2037</span>
<span class="normal">2038</span>
<span class="normal">2039</span>
<span class="normal">2040</span>
<span class="normal">2041</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">update_relatives_assets</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="kc">False</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A convenience method which wraps the update assets and uses it to update the</span>
<span class="sd">    asset relatives of an asset.</span>

<span class="sd">    :param str genome: genome to be added/updated</span>
<span class="sd">    :param str asset: asset to be added/updated</span>
<span class="sd">    :param str tag: tag to be added/updated</span>
<span class="sd">    :param list data: asset parents or children to be added/updated</span>
<span class="sd">    :param bool children: a logical indicating whether the relationship to be</span>
<span class="sd">        added is &#39;children&#39;</span>
<span class="sd">    :return RefGenConf: updated object</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="n">tag</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_default_tag</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">)</span>
    <span class="n">relationship</span> <span class="o">=</span> <span class="n">CFG_ASSET_CHILDREN_KEY</span> <span class="k">if</span> <span class="n">children</span> <span class="k">else</span> <span class="n">CFG_ASSET_PARENTS_KEY</span>
    <span class="k">if</span> <span class="n">_check_insert_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">):</span>
        <span class="c1"># creates/asserts the genome/asset:tag combination</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_tags</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
        <span class="n">tag_data</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span><span class="n">asset</span><span class="p">][</span>
            <span class="n">CFG_ASSET_TAGS_KEY</span>
        <span class="p">][</span><span class="n">tag</span><span class="p">]</span>
        <span class="n">tag_data</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">relationship</span><span class="p">,</span> <span class="nb">list</span><span class="p">())</span>
        <span class="n">tag_data</span><span class="p">[</span><span class="n">relationship</span><span class="p">]</span> <span class="o">=</span> <span class="n">_extend_unique</span><span class="p">(</span>
            <span class="n">tag_data</span><span class="p">[</span><span class="n">relationship</span><span class="p">],</span>
            <span class="n">data</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.update_seek_keys" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">update_seek_keys</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">update_seek_keys</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">keys</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force_digest</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>A convenience method which wraps the updated assets and uses it to
update the seek keys for a tagged asset.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>genome to be added/updated</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>asset to be added/updated</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tag</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>tag to be added/updated</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>force_digest</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>digest to force update of. The alias will not be converted to the digest, even if provided.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>keys</code>
            </td>
            <td>
                  <code><span title="collections.abc.Mapping">Mapping</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>seek_keys to be added/updated</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>updated object</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2043</span>
<span class="normal">2044</span>
<span class="normal">2045</span>
<span class="normal">2046</span>
<span class="normal">2047</span>
<span class="normal">2048</span>
<span class="normal">2049</span>
<span class="normal">2050</span>
<span class="normal">2051</span>
<span class="normal">2052</span>
<span class="normal">2053</span>
<span class="normal">2054</span>
<span class="normal">2055</span>
<span class="normal">2056</span>
<span class="normal">2057</span>
<span class="normal">2058</span>
<span class="normal">2059</span>
<span class="normal">2060</span>
<span class="normal">2061</span>
<span class="normal">2062</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">update_seek_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">keys</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force_digest</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A convenience method which wraps the updated assets and uses it to</span>
<span class="sd">    update the seek keys for a tagged asset.</span>

<span class="sd">    :param str genome: genome to be added/updated</span>
<span class="sd">    :param str asset: asset to be added/updated</span>
<span class="sd">    :param str tag: tag to be added/updated</span>
<span class="sd">    :param str force_digest: digest to force update of. The alias will</span>
<span class="sd">        not be converted to the digest, even if provided.</span>
<span class="sd">    :param Mapping keys: seek_keys to be added/updated</span>
<span class="sd">    :return RefGenConf: updated object</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="n">tag</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_default_tag</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">_check_insert_data</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">,</span> <span class="s2">&quot;keys&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_tags</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">force_digest</span><span class="o">=</span><span class="n">force_digest</span><span class="p">)</span>
        <span class="n">asset</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span><span class="n">asset</span><span class="p">]</span>
        <span class="n">_safe_setdef</span><span class="p">(</span><span class="n">asset</span><span class="p">[</span><span class="n">CFG_ASSET_TAGS_KEY</span><span class="p">][</span><span class="n">tag</span><span class="p">],</span> <span class="n">CFG_SEEK_KEYS_KEY</span><span class="p">,</span> <span class="n">PXAM</span><span class="p">())</span>
        <span class="n">asset</span><span class="p">[</span><span class="n">CFG_ASSET_TAGS_KEY</span><span class="p">][</span><span class="n">tag</span><span class="p">][</span><span class="n">CFG_SEEK_KEYS_KEY</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.update_tags" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">update_tags</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">update_tags</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force_digest</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Updates the genomes in RefGenConf object at any level.
If a requested genome-asset-tag mapping is missing, it will be created</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>genome</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>genome to be added/updated</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>asset</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>asset to be added/updated</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tag</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>tag to be added/updated</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>force_digest</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>digest to force update of. The alias will not be converted to the digest, even if provided.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="collections.abc.Mapping">Mapping</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>data to be added/updated</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>updated object</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2064</span>
<span class="normal">2065</span>
<span class="normal">2066</span>
<span class="normal">2067</span>
<span class="normal">2068</span>
<span class="normal">2069</span>
<span class="normal">2070</span>
<span class="normal">2071</span>
<span class="normal">2072</span>
<span class="normal">2073</span>
<span class="normal">2074</span>
<span class="normal">2075</span>
<span class="normal">2076</span>
<span class="normal">2077</span>
<span class="normal">2078</span>
<span class="normal">2079</span>
<span class="normal">2080</span>
<span class="normal">2081</span>
<span class="normal">2082</span>
<span class="normal">2083</span>
<span class="normal">2084</span>
<span class="normal">2085</span>
<span class="normal">2086</span>
<span class="normal">2087</span>
<span class="normal">2088</span>
<span class="normal">2089</span>
<span class="normal">2090</span>
<span class="normal">2091</span>
<span class="normal">2092</span>
<span class="normal">2093</span>
<span class="normal">2094</span>
<span class="normal">2095</span>
<span class="normal">2096</span>
<span class="normal">2097</span>
<span class="normal">2098</span>
<span class="normal">2099</span>
<span class="normal">2100</span>
<span class="normal">2101</span>
<span class="normal">2102</span>
<span class="normal">2103</span>
<span class="normal">2104</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">update_tags</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">genome</span><span class="p">,</span> <span class="n">asset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force_digest</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Updates the genomes in RefGenConf object at any level.</span>
<span class="sd">    If a requested genome-asset-tag mapping is missing, it will be created</span>

<span class="sd">    :param str genome: genome to be added/updated</span>
<span class="sd">    :param str asset: asset to be added/updated</span>
<span class="sd">    :param str tag: tag to be added/updated</span>
<span class="sd">    :param str force_digest: digest to force update of. The alias will</span>
<span class="sd">        not be converted to the digest, even if provided.</span>
<span class="sd">    :param Mapping data: data to be added/updated</span>
<span class="sd">    :return RefGenConf: updated object</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">_check_insert_data</span><span class="p">(</span><span class="n">genome</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;genome&quot;</span><span class="p">):</span>
        <span class="n">genome</span> <span class="o">=</span> <span class="n">force_digest</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_genome_alias_digest</span><span class="p">(</span>
            <span class="n">alias</span><span class="o">=</span><span class="n">genome</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
        <span class="n">_safe_setdef</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">],</span> <span class="n">genome</span><span class="p">,</span> <span class="n">PXAM</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">_check_insert_data</span><span class="p">(</span><span class="n">asset</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;asset&quot;</span><span class="p">):</span>
            <span class="n">_safe_setdef</span><span class="p">(</span><span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">],</span> <span class="n">CFG_ASSETS_KEY</span><span class="p">,</span> <span class="n">PXAM</span><span class="p">())</span>
            <span class="n">_safe_setdef</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">],</span> <span class="n">asset</span><span class="p">,</span> <span class="n">PXAM</span><span class="p">()</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">_check_insert_data</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;tag&quot;</span><span class="p">):</span>
                <span class="n">_safe_setdef</span><span class="p">(</span>
                    <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span><span class="n">asset</span><span class="p">],</span>
                    <span class="n">CFG_ASSET_TAGS_KEY</span><span class="p">,</span>
                    <span class="n">PXAM</span><span class="p">(),</span>
                <span class="p">)</span>
                <span class="n">_safe_setdef</span><span class="p">(</span>
                    <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span><span class="n">asset</span><span class="p">][</span>
                        <span class="n">CFG_ASSET_TAGS_KEY</span>
                    <span class="p">],</span>
                    <span class="n">tag</span><span class="p">,</span>
                    <span class="n">PXAM</span><span class="p">(),</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="n">_check_insert_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">):</span>
                    <span class="bp">self</span><span class="p">[</span><span class="n">CFG_GENOMES_KEY</span><span class="p">][</span><span class="n">genome</span><span class="p">][</span><span class="n">CFG_ASSETS_KEY</span><span class="p">][</span><span class="n">asset</span><span class="p">][</span>
                        <span class="n">CFG_ASSET_TAGS_KEY</span>
                    <span class="p">][</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refgenconf.RefGenConf.write" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">write</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">write</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Write the contents to a file.
If pre- and post-update plugins are defined, they will be executed automatically</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filepath</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a file path to write to</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the path to the created files</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>OSError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>when the object has been created in a read only mode or other process has locked the file</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>TypeError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>when the filepath cannot be determined. This takes place only if YacAttMap initialized with a Mapping as an input, not read from file.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>OSError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>when the write is called on an object with no write capabilities or when writing to a file that is locked by a different object</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/refgenconf.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2653</span>
<span class="normal">2654</span>
<span class="normal">2655</span>
<span class="normal">2656</span>
<span class="normal">2657</span>
<span class="normal">2658</span>
<span class="normal">2659</span>
<span class="normal">2660</span>
<span class="normal">2661</span>
<span class="normal">2662</span>
<span class="normal">2663</span>
<span class="normal">2664</span>
<span class="normal">2665</span>
<span class="normal">2666</span>
<span class="normal">2667</span>
<span class="normal">2668</span>
<span class="normal">2669</span>
<span class="normal">2670</span>
<span class="normal">2671</span>
<span class="normal">2672</span>
<span class="normal">2673</span>
<span class="normal">2674</span>
<span class="normal">2675</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Write the contents to a file.</span>
<span class="sd">    If pre- and post-update plugins are defined, they will be executed automatically</span>

<span class="sd">    :param str filepath: a file path to write to</span>
<span class="sd">    :raise OSError: when the object has been created in a read only mode or other</span>
<span class="sd">        process has locked the file</span>
<span class="sd">    :raise TypeError: when the filepath cannot be determined.</span>
<span class="sd">        This takes place only if YacAttMap initialized with a Mapping as an input,</span>
<span class="sd">         not read from file.</span>
<span class="sd">    :raise OSError: when the write is called on an object with no write capabilities</span>
<span class="sd">        or when writing to a file that is locked by a different object</span>
<span class="sd">    :return str: the path to the created files</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run_plugins</span><span class="p">(</span><span class="n">PRE_UPDATE_HOOK</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">path</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">RefGenConf</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="n">filepath</span><span class="p">,</span> <span class="n">exclude_case</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">ValidationError</span><span class="p">:</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;The changes were not written to the file&quot;</span><span class="p">)</span>
        <span class="k">raise</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run_plugins</span><span class="p">(</span><span class="n">POST_UPDATE_HOOK</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">path</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h3 id="exceptions">Exceptions</h3>
<p>The package defines several custom exceptions for error handling:</p>


<div class="doc doc-object doc-class">



<h2 id="refgenconf.MissingGenomeError" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">MissingGenomeError</span>


</h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            RefgenconfError (refgenconf.exceptions.RefgenconfError)" href="#refgenconf.RefgenconfError">RefgenconfError</a></code></p>


        <p>Error type for request of unknown genome/assembly.</p>











  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="refgenconf.MissingAssetError" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">MissingAssetError</span>


</h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="            RefgenconfError (refgenconf.exceptions.RefgenconfError)" href="#refgenconf.RefgenconfError">RefgenconfError</a></code></p>


        <p>Error type for request of an unavailable genome asset.</p>











  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="refgenconf.RefgenconfError" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">RefgenconfError</span>


</h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="Exception">Exception</span></code></p>


        <p>Base exception type for this package</p>











  <div class="doc doc-children">












  </div>

    </div>

</div><h3 id="utility-functions">Utility Functions</h3>


<div class="doc doc-object doc-function">


<h2 id="refgenconf.select_genome_config" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">select_genome_config</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">select_genome_config</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">conf_env_vars</span><span class="o">=</span><span class="n">CFG_ENV_VARS</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Get path to genome configuration file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>filename</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name/path of genome configuration file</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>conf_env_vars</code>
            </td>
            <td>
                  <code><span title="typing.Iterable">Iterable</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>names of environment variables to consider; basically, a prioritized search list</p>
              </div>
            </td>
            <td>
                  <code><span title="CFG_ENV_VARS">CFG_ENV_VARS</span></code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to genome configuration file</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refgenconf/helpers.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">select_genome_config</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">conf_env_vars</span><span class="o">=</span><span class="n">CFG_ENV_VARS</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get path to genome configuration file.</span>

<span class="sd">    :param str filename: name/path of genome configuration file</span>
<span class="sd">    :param Iterable[str] conf_env_vars: names of environment variables to</span>
<span class="sd">        consider; basically, a prioritized search list</span>
<span class="sd">    :return str: path to genome configuration file</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">select_config</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">conf_env_vars</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../usage/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Usage">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Usage
              </div>
            </div>
          </a>
        
        
          
          <a href="../../notebooks/refgenconf_usage/" class="md-footer__link md-footer__link--next" aria-label="Next: Refgenconf usage">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Refgenconf usage
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <a class="" href="http://databio.org/">
  <img src="https://databio.org/images/logo/logo_databio_long.svg"
    style="height:60px;"
    alt="Databio logo">
</a>

    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["header.autohide", "navigation.sections", "navigation.footer", "navigation.indexes", "toc.follow", "content.action.edit", "content.action.view", "navigation.tabs", "navigation.top"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>
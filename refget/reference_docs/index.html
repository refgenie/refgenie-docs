
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../changelog/">
      
      
        <link rel="next" href="../models/">
      
      
      <link rel="icon" href="../../img/refgenie_bug.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>Refget Python API - Refgenie: next-generation reference genome management</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.e53b48f4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#refget-python-api-documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Refgenie: next-generation reference genome management" class="md-header__button md-logo" aria-label="Refgenie: next-generation reference genome management" data-md-component="logo">
      
  <img src="../../img/refgenie_bug_light.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Refgenie: next-generation reference genome management
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Refget Python API
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../refgenie/" class="md-tabs__link">
          
  
  
    
  
  Refgenie

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../refgenieserver/" class="md-tabs__link">
          
  
  
    
  
  Refgenie server

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../refgenie1/" class="md-tabs__link">
          
  
  
    
  
  Refgenie 1

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../refgenieserver1/" class="md-tabs__link">
          
  
  
    
  
  Refgenie server 1

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
    
  
  Refget

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Refgenie: next-generation reference genome management" class="md-nav__button md-logo" aria-label="Refgenie: next-generation reference genome management" data-md-component="logo">
      
  <img src="../../img/refgenie_bug_light.svg" alt="logo">

    </a>
    Refgenie: next-generation reference genome management
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Refgenie
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Refgenie
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../refgenie/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_1" id="__nav_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_1">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/demo_videos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Demo videos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install and configure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/notebooks/tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic tutorial
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/manuscripts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Citing refgenie
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2" >
        
          
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    How-to guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            How-to guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/asset_registry_paths/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Refer to assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/pull/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Download pre-built assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/build/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/custom_assets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Add custom assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/seek/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Retrieve paths to assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/tag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use asset tags
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/notebooks/aliases/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use aliases
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/populate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Populate refgenie paths
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/compare/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Compare genomes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/refgenieserver/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Run my own asset server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/refgenconf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use refgenie from Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/code_snippets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use refgenie in your pipeline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/remote/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use refgenie on the cloud
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/igenomes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use refgenie with iGenomes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/notebooks/config_upgrade_03_to_04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Upgrade from config 0.3 to 0.4
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" >
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/uses_refgenie/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Studies using refgenie
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/genome_config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Genome configuration file
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/recipe_specification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Recipe
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/asset_class_specification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Asset class
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/available_assets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Buildable assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/code/refgenconf-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/notebooks/refgenconf_usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Refgenconf usage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/databio/refgenie/issues" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Support
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie/changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../refgenieserver/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Refgenie server
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Refgenie server
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Refgenie 1
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Refgenie 1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../refgenie1/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie1/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie1/install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie1/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie1/manuscripts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Citing refgenie
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    How-to guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            How-to guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie1/asset_registry_paths/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Refer to assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie1/pull/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Download pre-built assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie1/notebooks/refgenie/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use refgenie from Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie1/data_channels/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use data channels
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie1/build/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie1/pull/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Download pre-built assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie1/seek/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Retrieve paths to assets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie1/naming_assets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Managing asset groups and naming
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie1/populate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Populate refgenie paths
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie1/set_up_data_channel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Set up your own data channel
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie1/glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie1/uses_refgenie/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Studies using refgenie
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie1/recipe_specification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Recipe
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenie1/asset_class_specification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Asset class
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../refgenieserver1/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Refgenie server 1
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Refgenie server 1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenieserver1/archive_with_snakemake/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Preparing servable assets at scale
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenieserver1/data_channels/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data channels
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenieserver1/remotes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Remotes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenieserver1/endpoint_hits_collector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persisting asset download stats
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refgenieserver1/pagination_and_search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pagination and search
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Refget
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Refget
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Getting started
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Getting started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    How-to guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            How-to guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notebooks/digests/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Computing digests
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notebooks/refgetstore/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GlobalRefgetStore
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notebooks/sequence-client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sequences Client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notebooks/seqcol-client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sequence Collections Client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notebooks/agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RefgetDB Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fastapi_router/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Adding a fastAPI router
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../compliance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Compliance testing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Command-line interface
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" checked>
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Refget Python API
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Refget Python API
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#package-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Package Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Package Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-features" class="md-nav__link">
    <span class="md-ellipsis">
      Key Features
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#core-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Core Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fasta-processing" class="md-nav__link">
    <span class="md-ellipsis">
      FASTA Processing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.fasta_to_seqcol_dict" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fasta_to_seqcol_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.fasta_to_digest" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fasta_to_digest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fastapi-integration" class="md-nav__link">
    <span class="md-ellipsis">
      FastAPI Integration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.create_refget_router" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;create_refget_router
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#client-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Client Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Client Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sequenceclient" class="md-nav__link">
    <span class="md-ellipsis">
      SequenceClient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.clients.SequenceClient" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SequenceClient
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" SequenceClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#refget.clients.SequenceClient.get_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_metadata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.clients.SequenceClient.get_sequence" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_sequence
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequencecollectionclient" class="md-nav__link">
    <span class="md-ellipsis">
      SequenceCollectionClient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.clients.SequenceCollectionClient" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SequenceCollectionClient
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" SequenceCollectionClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#refget.clients.SequenceCollectionClient.compare" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compare
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.clients.SequenceCollectionClient.get_attribute" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.clients.SequenceCollectionClient.get_collection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_collection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.clients.SequenceCollectionClient.list_attributes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;list_attributes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.clients.SequenceCollectionClient.list_collections" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;list_collections
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.clients.SequenceCollectionClient.service_info" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;service_info
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#agent-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Agent Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Agent Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#refgetdbagent" class="md-nav__link">
    <span class="md-ellipsis">
      RefgetDBAgent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.agents.RefgetDBAgent" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RefgetDBAgent
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" RefgetDBAgent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#refget.agents.RefgetDBAgent.calc_similarities" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;calc_similarities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.agents.RefgetDBAgent.calc_similarities_seqcol_dicts" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;calc_similarities_seqcol_dicts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.agents.RefgetDBAgent.truncate" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;truncate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequencecollectionagent" class="md-nav__link">
    <span class="md-ellipsis">
      SequenceCollectionAgent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.agents.SequenceCollectionAgent" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SequenceCollectionAgent
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" SequenceCollectionAgent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#refget.agents.SequenceCollectionAgent.add" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.agents.SequenceCollectionAgent.add_from_dict" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_from_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.agents.SequenceCollectionAgent.add_from_fasta_file" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_from_fasta_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.agents.SequenceCollectionAgent.add_from_fasta_file_with_name" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_from_fasta_file_with_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.agents.SequenceCollectionAgent.add_from_fasta_pep" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_from_fasta_pep
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.agents.SequenceCollectionAgent.get" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequenceagent" class="md-nav__link">
    <span class="md-ellipsis">
      SequenceAgent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.agents.SequenceAgent" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SequenceAgent
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pydantic models
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#package-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Package Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Package Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-features" class="md-nav__link">
    <span class="md-ellipsis">
      Key Features
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#core-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Core Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fasta-processing" class="md-nav__link">
    <span class="md-ellipsis">
      FASTA Processing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.fasta_to_seqcol_dict" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fasta_to_seqcol_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.fasta_to_digest" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;fasta_to_digest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fastapi-integration" class="md-nav__link">
    <span class="md-ellipsis">
      FastAPI Integration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.create_refget_router" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;create_refget_router
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#client-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Client Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Client Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sequenceclient" class="md-nav__link">
    <span class="md-ellipsis">
      SequenceClient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.clients.SequenceClient" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SequenceClient
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" SequenceClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#refget.clients.SequenceClient.get_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_metadata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.clients.SequenceClient.get_sequence" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_sequence
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequencecollectionclient" class="md-nav__link">
    <span class="md-ellipsis">
      SequenceCollectionClient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.clients.SequenceCollectionClient" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SequenceCollectionClient
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" SequenceCollectionClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#refget.clients.SequenceCollectionClient.compare" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compare
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.clients.SequenceCollectionClient.get_attribute" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.clients.SequenceCollectionClient.get_collection" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_collection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.clients.SequenceCollectionClient.list_attributes" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;list_attributes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.clients.SequenceCollectionClient.list_collections" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;list_collections
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.clients.SequenceCollectionClient.service_info" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;service_info
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#agent-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Agent Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Agent Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#refgetdbagent" class="md-nav__link">
    <span class="md-ellipsis">
      RefgetDBAgent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.agents.RefgetDBAgent" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RefgetDBAgent
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" RefgetDBAgent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#refget.agents.RefgetDBAgent.calc_similarities" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;calc_similarities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.agents.RefgetDBAgent.calc_similarities_seqcol_dicts" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;calc_similarities_seqcol_dicts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.agents.RefgetDBAgent.truncate" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;truncate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequencecollectionagent" class="md-nav__link">
    <span class="md-ellipsis">
      SequenceCollectionAgent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.agents.SequenceCollectionAgent" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SequenceCollectionAgent
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" SequenceCollectionAgent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#refget.agents.SequenceCollectionAgent.add" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.agents.SequenceCollectionAgent.add_from_dict" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_from_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.agents.SequenceCollectionAgent.add_from_fasta_file" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_from_fasta_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.agents.SequenceCollectionAgent.add_from_fasta_file_with_name" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_from_fasta_file_with_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.agents.SequenceCollectionAgent.add_from_fasta_pep" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_from_fasta_pep
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.agents.SequenceCollectionAgent.get" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequenceagent" class="md-nav__link">
    <span class="md-ellipsis">
      SequenceAgent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refget.agents.SequenceAgent" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SequenceAgent
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="refget-python-api-documentation">Refget Python API Documentation</h1>
<h2 id="package-overview">Package Overview</h2>
<p>The <code>refget</code> package provides a Python implementation of the GA4GH refget protocol for accessing reference sequences and sequence collections. It enables standardized access to reference genome sequences using computed identifiers.</p>
<h3 id="key-features">Key Features</h3>
<ul>
<li><strong>Sequence Retrieval</strong>: Fetch reference sequences by computed digests</li>
<li><strong>Sequence Collections</strong>: Manage and query collections of sequences (seqcol)</li>
<li><strong>Multiple Digest Types</strong>: Support for MD5, SHA512, and other digest algorithms</li>
<li><strong>Client/Server Architecture</strong>: Both client libraries and server implementations</li>
<li><strong>FastAPI Integration</strong>: Easy integration with FastAPI applications</li>
<li><strong>Compliance Testing</strong>: Tools for testing refget API compliance</li>
</ul>
<h2 id="core-functions">Core Functions</h2>
<h3 id="fasta-processing">FASTA Processing</h3>
<p>Functions for converting FASTA files to refget-compatible formats:</p>


<div class="doc doc-object doc-function">


<h3 id="refget.fasta_to_seqcol_dict" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">fasta_to_seqcol_dict</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">fasta_to_seqcol_dict</span><span class="p">(</span><span class="n">fasta_file_path</span><span class="p">,</span> <span class="n">digest_function</span><span class="o">=</span><span class="n">sha512t24u_digest</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Convert a FASTA file into a Sequence Collection object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>fasta_file_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to the FASTA file</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>digest_function</code>
            </td>
            <td>
                  <code><span title="refget.digest_functions.DigestFunction">DigestFunction</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Digest function to use. Defaults to sha512t24u_digest.</p>
              </div>
            </td>
            <td>
                  <code><span title="refget.digest_functions.sha512t24u_digest">sha512t24u_digest</span></code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A canonical sequence collection object</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refget/utilities.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fasta_to_seqcol_dict</span><span class="p">(</span>
    <span class="n">fasta_file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">digest_function</span><span class="p">:</span> <span class="n">DigestFunction</span> <span class="o">=</span> <span class="n">sha512t24u_digest</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SeqColDict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert a FASTA file into a Sequence Collection object.</span>

<span class="sd">    Args:</span>
<span class="sd">        fasta_file_path (str): Path to the FASTA file</span>
<span class="sd">        digest_function (DigestFunction, optional): Digest function to use. Defaults to sha512t24u_digest.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (dict): A canonical sequence collection object</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">fasta_seq_digests</span> <span class="o">=</span> <span class="n">fasta_to_seq_digests</span><span class="p">(</span><span class="n">fasta_file_path</span><span class="p">)</span>
    <span class="n">seqcol_dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;lengths&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;names&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;sequences&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;sorted_name_length_pairs&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;sorted_sequences&quot;</span><span class="p">:</span> <span class="p">[],</span>
    <span class="p">}</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">fasta_seq_digests</span><span class="p">:</span>
        <span class="n">seq_name</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">name</span>
        <span class="n">seq_length</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">length</span>
        <span class="n">seq_digest</span> <span class="o">=</span> <span class="s2">&quot;SQ.&quot;</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">sha512t24u</span>
        <span class="n">nlp</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;length&quot;</span><span class="p">:</span> <span class="n">seq_length</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">seq_name</span><span class="p">}</span>  <span class="c1"># for name_length_pairs</span>
        <span class="c1"># snlp_digest = digest_function(canonical_str(nlp)) # for sorted_name_length_pairs</span>
        <span class="n">snlp_digest</span> <span class="o">=</span> <span class="n">canonical_str</span><span class="p">(</span><span class="n">nlp</span><span class="p">)</span>  <span class="c1"># for sorted_name_length_pairs</span>
        <span class="n">seqcol_dict</span><span class="p">[</span><span class="s2">&quot;lengths&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">seq_length</span><span class="p">)</span>
        <span class="n">seqcol_dict</span><span class="p">[</span><span class="s2">&quot;names&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">seq_name</span><span class="p">)</span>
        <span class="c1"># seqcol_dict[&quot;name_length_pairs&quot;].append(nlp)</span>
        <span class="n">seqcol_dict</span><span class="p">[</span><span class="s2">&quot;sorted_name_length_pairs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">snlp_digest</span><span class="p">)</span>
        <span class="n">seqcol_dict</span><span class="p">[</span><span class="s2">&quot;sequences&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">seq_digest</span><span class="p">)</span>
        <span class="n">seqcol_dict</span><span class="p">[</span><span class="s2">&quot;sorted_sequences&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">seq_digest</span><span class="p">)</span>
    <span class="n">seqcol_dict</span><span class="p">[</span><span class="s2">&quot;sorted_name_length_pairs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
    <span class="c1"># seqcol_dict_digest = seqcol_digest(seqcol_dict)</span>
    <span class="c1"># dsc = DigestedSequenceCollection(**seqcol_dict)</span>
    <span class="c1"># dsc.digest = seqcol_digest(seqcol_dict)</span>
    <span class="k">return</span> <span class="n">seqcol_dict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="refget.fasta_to_digest" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">fasta_to_digest</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">fasta_to_digest</span><span class="p">(</span><span class="n">fa_file_path</span><span class="p">,</span> <span class="n">inherent_attrs</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;names&#39;</span><span class="p">,</span> <span class="s1">&#39;sequences&#39;</span><span class="p">])</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Given a fasta file path, return a digest</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>fa_file_path</code>
            </td>
            <td>
                  <code><span title="str">str</span> | <span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to the fasta file</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>inherent_attrs</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="list">list</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Attributes to include in the digest.</p>
              </div>
            </td>
            <td>
                  <code>[&#39;names&#39;, &#39;sequences&#39;]</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The top-level digest for this sequence collection</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refget/utilities.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fasta_to_digest</span><span class="p">(</span>
    <span class="n">fa_file_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span><span class="p">,</span> <span class="n">inherent_attrs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;names&quot;</span><span class="p">,</span> <span class="s2">&quot;sequences&quot;</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Given a fasta file path, return a digest</span>

<span class="sd">    Args:</span>
<span class="sd">        fa_file_path (str | Path): Path to the fasta file</span>
<span class="sd">        inherent_attrs (Optional[list], optional): Attributes to include in the digest.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (str): The top-level digest for this sequence collection</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">seqcol_obj</span> <span class="o">=</span> <span class="n">fasta_to_seqcol_dict</span><span class="p">(</span><span class="n">fa_file_path</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">seqcol_digest</span><span class="p">(</span><span class="n">seqcol_obj</span><span class="p">,</span> <span class="n">inherent_attrs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><h3 id="fastapi-integration">FastAPI Integration</h3>


<div class="doc doc-object doc-function">


<h3 id="refget.create_refget_router" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">create_refget_router</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">create_refget_router</span><span class="p">(</span><span class="n">sequences</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">collections</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">pangenomes</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Create a FastAPI router for the sequence collection API.
This router provides endpoints for retrieving and comparing sequence collections.
You can choose which endpoints to include by setting the sequences, collections,
or pangenomes flags.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>sequences</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Include sequence endpoints</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>collections</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Include sequence collection endpoints</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pangenomes</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Include pangenome endpoints</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.APIRouter">APIRouter</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A FastAPI router with the specified endpoints</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code>app.include_router(create_refget_router(sequences=False, pangenomes=False))
</code></pre></div>


            <details class="quote">
              <summary>Source code in <code>refget/refget_router.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_refget_router</span><span class="p">(</span>
    <span class="n">sequences</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">collections</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">pangenomes</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a FastAPI router for the sequence collection API.</span>
<span class="sd">    This router provides endpoints for retrieving and comparing sequence collections.</span>
<span class="sd">    You can choose which endpoints to include by setting the sequences, collections,</span>
<span class="sd">    or pangenomes flags.</span>

<span class="sd">    Args:</span>
<span class="sd">        sequences (bool): Include sequence endpoints</span>
<span class="sd">        collections (bool): Include sequence collection endpoints</span>
<span class="sd">        pangenomes (bool): Include pangenome endpoints</span>

<span class="sd">    Returns:</span>
<span class="sd">        (APIRouter): A FastAPI router with the specified endpoints</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```</span>
<span class="sd">        app.include_router(create_refget_router(sequences=False, pangenomes=False))</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">refget_router</span> <span class="o">=</span> <span class="n">APIRouter</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">sequences</span><span class="p">:</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Adding sequence endpoints...&quot;</span><span class="p">)</span>
        <span class="n">refget_router</span><span class="o">.</span><span class="n">include_router</span><span class="p">(</span><span class="n">seq_router</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">collections</span><span class="p">:</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Adding collection endpoints...&quot;</span><span class="p">)</span>
        <span class="n">refget_router</span><span class="o">.</span><span class="n">include_router</span><span class="p">(</span><span class="n">seqcol_router</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">pangenomes</span><span class="p">:</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Adding pangenome endpoints...&quot;</span><span class="p">)</span>
        <span class="n">refget_router</span><span class="o">.</span><span class="n">include_router</span><span class="p">(</span><span class="n">pangenome_router</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">refget_router</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div><h2 id="client-classes">Client Classes</h2>
<p>The client module provides interfaces for interacting with refget-compliant servers.</p>
<h3 id="sequenceclient">SequenceClient</h3>
<p>Client for retrieving individual sequences from refget servers:</p>


<div class="doc doc-object doc-class">



<h3 id="refget.clients.SequenceClient" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">SequenceClient</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">SequenceClient</span><span class="p">(</span><span class="n">urls</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;https://www.ebi.ac.uk/ena/cram&#39;</span><span class="p">],</span> <span class="n">raise_errors</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="refget.clients.RefgetClient">RefgetClient</span></code></p>


        <p>A client for interacting with a refget sequences API.</p>

        <p>Initializes the sequences client.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>urls</code>
            </td>
            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of base URLs of the sequences API. Defaults to ["https://www.ebi.ac.uk/ena/cram/sequence/"].</p>
              </div>
            </td>
            <td>
                  <code>[&#39;https://www.ebi.ac.uk/ena/cram&#39;]</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>raise_errors</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to raise errors or log them. Defaults to None, which will guess.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Attributes:
    urls (list): The list of base URLs of the sequences API.</p>








                  <details class="quote">
                    <summary>Source code in <code>refget/clients.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">urls</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;https://www.ebi.ac.uk/ena/cram&quot;</span><span class="p">],</span> <span class="n">raise_errors</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the sequences client.</span>

<span class="sd">    Args:</span>
<span class="sd">        urls (list, optional): A list of base URLs of the sequences API. Defaults to [&quot;https://www.ebi.ac.uk/ena/cram/sequence/&quot;].</span>
<span class="sd">        raise_errors (bool, optional): Whether to raise errors or log them. Defaults to None, which will guess.</span>
<span class="sd">    Attributes:</span>
<span class="sd">        urls (list): The list of base URLs of the sequences API.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Remove trailing slaches from input URLs</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">urls</span> <span class="o">=</span> <span class="p">[</span><span class="n">url</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">urls</span><span class="p">]</span>
    <span class="c1"># If raise_errors is None, set it to True if the client is not being used as a library</span>
    <span class="k">if</span> <span class="n">raise_errors</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">raise_errors</span> <span class="o">=</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">raise_errors</span> <span class="o">=</span> <span class="n">raise_errors</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="refget.clients.SequenceClient.get_metadata" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_metadata</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get_metadata</span><span class="p">(</span><span class="n">digest</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Retrieves metadata for a given sequence digest.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>digest</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The digest of the sequence.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The metadata.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refget/clients.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">digest</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieves metadata for a given sequence digest.</span>

<span class="sd">    Args:</span>
<span class="sd">        digest (str): The digest of the sequence.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (dict): The metadata.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/sequence/</span><span class="si">{</span><span class="n">digest</span><span class="si">}</span><span class="s2">/metadata&quot;</span>
    <span class="k">return</span> <span class="n">_try_urls</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">urls</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">,</span> <span class="n">raise_errors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">raise_errors</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="refget.clients.SequenceClient.get_sequence" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_sequence</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get_sequence</span><span class="p">(</span><span class="n">digest</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Retrieves a sequence for a given digest.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>digest</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The digest of the sequence.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The sequence.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refget/clients.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_sequence</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">digest</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieves a sequence for a given digest.</span>

<span class="sd">    Args:</span>
<span class="sd">        digest (str): The digest of the sequence.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (str): The sequence.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">query_params</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">start</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">query_params</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">start</span>
    <span class="k">if</span> <span class="n">end</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">query_params</span><span class="p">[</span><span class="s2">&quot;end&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">end</span>

    <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/sequence/</span><span class="si">{</span><span class="n">digest</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="n">_try_urls</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">urls</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">query_params</span><span class="p">,</span> <span class="n">raise_errors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">raise_errors</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h3 id="sequencecollectionclient">SequenceCollectionClient</h3>
<p>Client for working with sequence collections (seqcol):</p>


<div class="doc doc-object doc-class">



<h3 id="refget.clients.SequenceCollectionClient" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">SequenceCollectionClient</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">SequenceCollectionClient</span><span class="p">(</span><span class="n">urls</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;https://seqcolapi.databio.org&#39;</span><span class="p">],</span> <span class="n">raise_errors</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="refget.clients.RefgetClient">RefgetClient</span></code></p>


        <p>A client for interacting with a refget sequence collections API.</p>

        <p>Initializes the sequence collection client.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>urls</code>
            </td>
            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of base URLs of the sequence collection API. Defaults to ["https://seqcolapi.databio.org"].</p>
              </div>
            </td>
            <td>
                  <code>[&#39;https://seqcolapi.databio.org&#39;]</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="refget.clients.SequenceCollectionClient.__init__.urls">urls</span></code></td>
            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The list of base URLs of the sequence collection API.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








                  <details class="quote">
                    <summary>Source code in <code>refget/clients.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">urls</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;https://seqcolapi.databio.org&quot;</span><span class="p">],</span> <span class="n">raise_errors</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the sequence collection client.</span>

<span class="sd">    Args:</span>
<span class="sd">        urls (list, optional): A list of base URLs of the sequence collection API. Defaults to [&quot;https://seqcolapi.databio.org&quot;].</span>

<span class="sd">    Attributes:</span>
<span class="sd">        urls (list): The list of base URLs of the sequence collection API.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Remove trailing slaches from input URLs</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">urls</span> <span class="o">=</span> <span class="p">[</span><span class="n">url</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">urls</span><span class="p">]</span>
    <span class="c1"># If raise_errors is None, set it to True if the client is not being used as a library</span>
    <span class="k">if</span> <span class="n">raise_errors</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">raise_errors</span> <span class="o">=</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">raise_errors</span> <span class="o">=</span> <span class="n">raise_errors</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="refget.clients.SequenceCollectionClient.compare" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">compare</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">compare</span><span class="p">(</span><span class="n">digest1</span><span class="p">,</span> <span class="n">digest2</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Compares two sequence collections.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>digest1</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The digest of the first sequence collection.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>digest2</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The digest of the second sequence collection.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The JSON response containing the comparison of the two sequence collections.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refget/clients.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">compare</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">digest1</span><span class="p">,</span> <span class="n">digest2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compares two sequence collections.</span>

<span class="sd">    Args:</span>
<span class="sd">        digest1 (str): The digest of the first sequence collection.</span>
<span class="sd">        digest2 (str): The digest of the second sequence collection.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (dict): The JSON response containing the comparison of the two sequence collections.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/comparison/</span><span class="si">{</span><span class="n">digest1</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">digest2</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="n">_try_urls</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">urls</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="refget.clients.SequenceCollectionClient.get_attribute" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_attribute</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get_attribute</span><span class="p">(</span><span class="n">attribute</span><span class="p">,</span> <span class="n">digest</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Retrieves a specific attribute for a given digest and detail level.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>attribute</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The attribute to retrieve.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>digest</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The digest of the attribute.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The JSON response containing the attribute.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refget/clients.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_attribute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attribute</span><span class="p">,</span> <span class="n">digest</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieves a specific attribute for a given digest and detail level.</span>

<span class="sd">    Args:</span>
<span class="sd">        attribute (str): The attribute to retrieve.</span>
<span class="sd">        digest (str): The digest of the attribute.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (dict): The JSON response containing the attribute.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/attribute/collection/</span><span class="si">{</span><span class="n">attribute</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">digest</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="n">_try_urls</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">urls</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="refget.clients.SequenceCollectionClient.get_collection" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_collection</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get_collection</span><span class="p">(</span><span class="n">digest</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Retrieves a sequence collection for a given digest and detail level.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>digest</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The digest of the sequence collection.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>level</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The level of detail for the sequence collection. Defaults to 2.</p>
              </div>
            </td>
            <td>
                  <code>2</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The JSON response containing the sequence collection.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refget/clients.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_collection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">digest</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieves a sequence collection for a given digest and detail level.</span>

<span class="sd">    Args:</span>
<span class="sd">        digest (str): The digest of the sequence collection.</span>
<span class="sd">        level (int, optional): The level of detail for the sequence collection. Defaults to 2.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (dict): The JSON response containing the sequence collection.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/collection/</span><span class="si">{</span><span class="n">digest</span><span class="si">}</span><span class="s2">?level=</span><span class="si">{</span><span class="n">level</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="n">_try_urls</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">urls</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="refget.clients.SequenceCollectionClient.list_attributes" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">list_attributes</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">list_attributes</span><span class="p">(</span><span class="n">attribute</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">page_size</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Lists all available values for a given attribute with optional paging support.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>attribute</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The attribute to list values for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>page</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The page number to retrieve. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>page_size</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of items per page. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The JSON response containing the list of available values for the attribute.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refget/clients.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attribute</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">page_size</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Lists all available values for a given attribute with optional paging support.</span>

<span class="sd">    Args:</span>
<span class="sd">        attribute (str): The attribute to list values for.</span>
<span class="sd">        page (int, optional): The page number to retrieve. Defaults to None.</span>
<span class="sd">        page_size (int, optional): The number of items per page. Defaults to None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (dict): The JSON response containing the list of available values for the attribute.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">page</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;page&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">page</span>
    <span class="k">if</span> <span class="n">page_size</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;page_size&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">page_size</span>

    <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/list/attributes/</span><span class="si">{</span><span class="n">attribute</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="n">_try_urls</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">urls</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="refget.clients.SequenceCollectionClient.list_collections" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">list_collections</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">list_collections</span><span class="p">(</span><span class="n">page</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">page_size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">attribute_digest</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Lists all available sequence collections with optional paging and attribute filtering support.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>page</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The page number to retrieve. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>page_size</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of items per page. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>attribute</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The attribute to filter by. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>attribute_digest</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The attribute digest to filter by. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The JSON response containing the list of available sequence collections.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refget/clients.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_collections</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">page</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">page_size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">attribute_digest</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Lists all available sequence collections with optional paging and attribute filtering support.</span>

<span class="sd">    Args:</span>
<span class="sd">        page (int, optional): The page number to retrieve. Defaults to None.</span>
<span class="sd">        page_size (int, optional): The number of items per page. Defaults to None.</span>
<span class="sd">        attribute (str, optional): The attribute to filter by. Defaults to None.</span>
<span class="sd">        attribute_digest (str, optional): The attribute digest to filter by. Defaults to None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (dict): The JSON response containing the list of available sequence collections.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">page</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;page&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">page</span>
    <span class="k">if</span> <span class="n">page_size</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">params</span><span class="p">[</span><span class="s2">&quot;page_size&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">page_size</span>

    <span class="k">if</span> <span class="n">attribute</span> <span class="ow">and</span> <span class="n">attribute_digest</span><span class="p">:</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/list/collections/</span><span class="si">{</span><span class="n">attribute</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">attribute_digest</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;/list/collections&quot;</span>

    <span class="k">return</span> <span class="n">_try_urls</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">urls</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="refget.clients.SequenceCollectionClient.service_info" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">service_info</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">service_info</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Retrieves information about the service.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The service information.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refget/clients.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">service_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieves information about the service.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (dict): The service information.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">&quot;/service-info&quot;</span>
    <span class="k">return</span> <span class="n">_try_urls</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">urls</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h2 id="agent-classes">Agent Classes</h2>
<p>Agents provide higher-level abstractions for working with refget data.</p>
<h3 id="refgetdbagent">RefgetDBAgent</h3>
<p>Database agent for managing refget data storage:</p>


<div class="doc doc-object doc-class">



<h3 id="refget.agents.RefgetDBAgent" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">RefgetDBAgent</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">RefgetDBAgent</span><span class="p">(</span><span class="n">engine</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">postgres_str</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">SCHEMA_FILEPATH</span><span class="si">}</span><span class="s1">/seqcol.json&#39;</span><span class="p">,</span> <span class="n">inherent_attrs</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;names&#39;</span><span class="p">,</span> <span class="s1">&#39;lengths&#39;</span><span class="p">,</span> <span class="s1">&#39;sequences&#39;</span><span class="p">])</span>
</code></pre></div>

    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="object">object</span></code></p>


        <p>Primary aggregator agent, interface to all other agents</p>
<p>Parameterized it via these environment variables:
- POSTGRES_HOST
- POSTGRES_DB
- POSTGRES_USER
- POSTGRES_PASSWORD</p>








                  <details class="quote">
                    <summary>Source code in <code>refget/agents.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">engine</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SqlalchemyDatabaseEngine</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">postgres_str</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">schema</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">SCHEMA_FILEPATH</span><span class="si">}</span><span class="s2">/seqcol.json&quot;</span><span class="p">,</span>
    <span class="n">inherent_attrs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;names&quot;</span><span class="p">,</span> <span class="s2">&quot;lengths&quot;</span><span class="p">,</span> <span class="s2">&quot;sequences&quot;</span><span class="p">],</span>
<span class="p">):</span>  <span class="c1"># = &quot;sqlite:///foo.db&quot;</span>
    <span class="k">if</span> <span class="n">engine</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">engine</span> <span class="o">=</span> <span class="n">engine</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">postgres_str</span><span class="p">:</span>
            <span class="c1"># Configure via environment variables</span>
            <span class="n">POSTGRES_HOST</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;POSTGRES_HOST&quot;</span><span class="p">)</span>
            <span class="n">POSTGRES_DB</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;POSTGRES_DB&quot;</span><span class="p">)</span>
            <span class="n">POSTGRES_USER</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;POSTGRES_USER&quot;</span><span class="p">)</span>
            <span class="n">POSTGRES_PASSWORD</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;POSTGRES_PASSWORD&quot;</span><span class="p">)</span>
            <span class="n">postgres_str</span> <span class="o">=</span> <span class="n">URL</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
                <span class="s2">&quot;postgresql&quot;</span><span class="p">,</span>
                <span class="n">username</span><span class="o">=</span><span class="n">POSTGRES_USER</span><span class="p">,</span>
                <span class="n">password</span><span class="o">=</span><span class="n">POSTGRES_PASSWORD</span><span class="p">,</span>
                <span class="n">host</span><span class="o">=</span><span class="n">POSTGRES_HOST</span><span class="p">,</span>
                <span class="n">database</span><span class="o">=</span><span class="n">POSTGRES_DB</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="n">postgres_str</span><span class="p">,</span> <span class="n">echo</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unable to connect to database&quot;</span><span class="p">)</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Please check that you have set the database credentials correctly in the environment variables&quot;</span>
            <span class="p">)</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Database engine string: </span><span class="si">{</span><span class="n">postgres_str</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">e</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">SQLModel</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">create_all</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Unable to create tables in the database&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">e</span>

    <span class="c1"># Read schema</span>
    <span class="k">if</span> <span class="n">schema</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">schema_dict</span> <span class="o">=</span> <span class="n">load_json</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Schema: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">schema_dict</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">inherent_attrs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema_dict</span><span class="p">[</span><span class="s2">&quot;ga4gh&quot;</span><span class="p">][</span><span class="s2">&quot;inherent&quot;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">inherent_attrs</span> <span class="o">=</span> <span class="n">inherent_attrs</span>
            <span class="n">_LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;No &#39;inherent&#39; attributes found in schema; using defaults: </span><span class="si">{</span><span class="n">inherent_attrs</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No schema provided; using defaults&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">schema_dict</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inherent_attrs</span> <span class="o">=</span> <span class="n">inherent_attrs</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">__sequence</span> <span class="o">=</span> <span class="n">SequenceAgent</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__seqcol</span> <span class="o">=</span> <span class="n">SequenceCollectionAgent</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">inherent_attrs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__pangenome</span> <span class="o">=</span> <span class="n">PangenomeAgent</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__attribute</span> <span class="o">=</span> <span class="n">AttributeAgent</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="refget.agents.RefgetDBAgent.calc_similarities" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">calc_similarities</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">calc_similarities</span><span class="p">(</span><span class="n">digestA</span><span class="p">,</span> <span class="n">digestB</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Calculates the Jaccard similarity between two sequence collections.</p>
<p>This method retrieves two sequence collections using their digests and then
computes jaccard similarities for all attributes.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>digestA</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The digest (identifier) for the first sequence collection.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>digestB</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The digest (identifier) for the second sequence collection.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Jaccard similarity score between the two sequence collections for all present and shared attributes.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refget/agents.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">calc_similarities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">digestA</span><span class="p">,</span> <span class="n">digestB</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculates the Jaccard similarity between two sequence collections.</span>

<span class="sd">    This method retrieves two sequence collections using their digests and then</span>
<span class="sd">    computes jaccard similarities for all attributes.</span>

<span class="sd">    Args:</span>
<span class="sd">        digestA (str): The digest (identifier) for the first sequence collection.</span>
<span class="sd">        digestB (str): The digest (identifier) for the second sequence collection.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: The Jaccard similarity score between the two sequence collections for all present and shared attributes.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">A</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seqcol</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">digestA</span><span class="p">,</span> <span class="n">return_format</span><span class="o">=</span><span class="s2">&quot;level2&quot;</span><span class="p">)</span>
    <span class="n">B</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seqcol</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">digestB</span><span class="p">,</span> <span class="n">return_format</span><span class="o">=</span><span class="s2">&quot;level2&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">calc_jaccard_similarities</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="refget.agents.RefgetDBAgent.calc_similarities_seqcol_dicts" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">calc_similarities_seqcol_dicts</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">calc_similarities_seqcol_dicts</span><span class="p">(</span><span class="n">seqcolA</span><span class="p">,</span> <span class="n">seqcolB</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Calculates the Jaccard similarity between two sequence collections.</p>
<p>This method retrieves one sequence collections using a digests and then
computes jaccard similarities versus another input sequence collection dictionary.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>seqcolA</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the first sequence collection in dict format.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>seqcolB</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the second sequence collection in dict format.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Jaccard similarity score between the two sequence collections for all present and shared attributes.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refget/agents.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">calc_similarities_seqcol_dicts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seqcolA</span><span class="p">,</span> <span class="n">seqcolB</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculates the Jaccard similarity between two sequence collections.</span>

<span class="sd">    This method retrieves one sequence collections using a digests and then</span>
<span class="sd">    computes jaccard similarities versus another input sequence collection dictionary.</span>

<span class="sd">    Args:</span>
<span class="sd">        seqcolA (dict): the first sequence collection in dict format.</span>
<span class="sd">        seqcolB (dict): the second sequence collection in dict format.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: The Jaccard similarity score between the two sequence collections for all present and shared attributes.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">calc_jaccard_similarities</span><span class="p">(</span><span class="n">seqcolA</span><span class="p">,</span> <span class="n">seqcolB</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="refget.agents.RefgetDBAgent.truncate" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">truncate</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">truncate</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Delete all records from the database</p>


            <details class="quote">
              <summary>Source code in <code>refget/agents.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">truncate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete all records from the database&quot;&quot;&quot;</span>

    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">statement</span> <span class="o">=</span> <span class="n">delete</span><span class="p">(</span><span class="n">SequenceCollection</span><span class="p">)</span>
        <span class="n">result1</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
        <span class="n">statement</span> <span class="o">=</span> <span class="n">delete</span><span class="p">(</span><span class="n">Pangenome</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
        <span class="n">statement</span> <span class="o">=</span> <span class="n">delete</span><span class="p">(</span><span class="n">NamesAttr</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
        <span class="n">statement</span> <span class="o">=</span> <span class="n">delete</span><span class="p">(</span><span class="n">LengthsAttr</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
        <span class="n">statement</span> <span class="o">=</span> <span class="n">delete</span><span class="p">(</span><span class="n">SequencesAttr</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
        <span class="c1"># statement = delete(SortedNameLengthPairsAttr)</span>
        <span class="c1"># result = session.exec(statement)</span>
        <span class="n">statement</span> <span class="o">=</span> <span class="n">delete</span><span class="p">(</span><span class="n">NameLengthPairsAttr</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
        <span class="n">statement</span> <span class="o">=</span> <span class="n">delete</span><span class="p">(</span><span class="n">SortedSequencesAttr</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>

        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">result1</span><span class="o">.</span><span class="n">rowcount</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h3 id="sequencecollectionagent">SequenceCollectionAgent</h3>
<p>Agent for sequence collection operations:</p>


<div class="doc doc-object doc-class">



<h3 id="refget.agents.SequenceCollectionAgent" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">SequenceCollectionAgent</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">SequenceCollectionAgent</span><span class="p">(</span><span class="n">engine</span><span class="p">,</span> <span class="n">inherent_attrs</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="object">object</span></code></p>


        <p>Agent for interacting with database of sequence collection</p>








                  <details class="quote">
                    <summary>Source code in <code>refget/agents.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">engine</span><span class="p">,</span> <span class="n">inherent_attrs</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">engine</span> <span class="o">=</span> <span class="n">engine</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">inherent_attrs</span> <span class="o">=</span> <span class="n">inherent_attrs</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h4 id="refget.agents.SequenceCollectionAgent.add" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">add</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">add</span><span class="p">(</span><span class="n">seqcol</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Add a sequence collection to the database or update it if it exists</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>seqcol</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            SequenceCollection (refget.models.SequenceCollection)" href="../models/#refget.models.SequenceCollection">SequenceCollection</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The sequence collection to add</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>update</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, update an existing collection if it exists</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            SequenceCollection (refget.models.SequenceCollection)" href="../models/#refget.models.SequenceCollection">SequenceCollection</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The added or updated sequence collection</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>refget/agents.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seqcol</span><span class="p">:</span> <span class="n">SequenceCollection</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SequenceCollection</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add a sequence collection to the database or update it if it exists</span>

<span class="sd">    Args:</span>
<span class="sd">        seqcol: The sequence collection to add</span>
<span class="sd">        update: If True, update an existing collection if it exists</span>

<span class="sd">    Returns:</span>
<span class="sd">        The added or updated sequence collection</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">expire_on_commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">session</span><span class="o">.</span><span class="n">no_autoflush</span><span class="p">:</span>
            <span class="n">existing</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">SequenceCollection</span><span class="p">,</span> <span class="n">seqcol</span><span class="o">.</span><span class="n">digest</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">existing</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">update</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">existing</span>

            <span class="c1"># Process attributes (create if needed)</span>
            <span class="n">attr_map</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;names&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">NamesAttr</span><span class="p">,</span> <span class="n">seqcol</span><span class="o">.</span><span class="n">names</span><span class="p">),</span>
                <span class="s2">&quot;sequences&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">SequencesAttr</span><span class="p">,</span> <span class="n">seqcol</span><span class="o">.</span><span class="n">sequences</span><span class="p">),</span>
                <span class="s2">&quot;sorted_sequences&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">SortedSequencesAttr</span><span class="p">,</span> <span class="n">seqcol</span><span class="o">.</span><span class="n">sorted_sequences</span><span class="p">),</span>
                <span class="s2">&quot;lengths&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">LengthsAttr</span><span class="p">,</span> <span class="n">seqcol</span><span class="o">.</span><span class="n">lengths</span><span class="p">),</span>
                <span class="s2">&quot;name_length_pairs&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">NameLengthPairsAttr</span><span class="p">,</span> <span class="n">seqcol</span><span class="o">.</span><span class="n">name_length_pairs</span><span class="p">),</span>
            <span class="p">}</span>

            <span class="n">processed_attrs</span> <span class="o">=</span> <span class="p">{}</span>

            <span class="c1"># Create or retrieve attributes</span>
            <span class="k">for</span> <span class="n">attr_name</span><span class="p">,</span> <span class="p">(</span><span class="n">attr_class</span><span class="p">,</span> <span class="n">attr_obj</span><span class="p">)</span> <span class="ow">in</span> <span class="n">attr_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">attr</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">attr_class</span><span class="p">,</span> <span class="n">attr_obj</span><span class="o">.</span><span class="n">digest</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">attr</span><span class="p">:</span>
                    <span class="n">attr</span> <span class="o">=</span> <span class="n">attr_class</span><span class="p">(</span><span class="o">**</span><span class="n">attr_obj</span><span class="o">.</span><span class="n">model_dump</span><span class="p">())</span>
                    <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
                <span class="n">processed_attrs</span><span class="p">[</span><span class="n">attr_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">attr</span>

            <span class="k">if</span> <span class="n">existing</span> <span class="ow">and</span> <span class="n">update</span><span class="p">:</span>
                <span class="c1"># Update existing collection</span>

                <span class="n">existing_names</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">name_model</span><span class="o">.</span><span class="n">human_readable_name</span>
                    <span class="k">for</span> <span class="n">name_model</span> <span class="ow">in</span> <span class="n">existing</span><span class="o">.</span><span class="n">human_readable_names</span>
                <span class="p">]</span>

                <span class="k">for</span> <span class="n">name_model</span> <span class="ow">in</span> <span class="n">seqcol</span><span class="o">.</span><span class="n">human_readable_names</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">name_model</span><span class="o">.</span><span class="n">human_readable_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">existing_names</span><span class="p">:</span>

                        <span class="n">new_name</span> <span class="o">=</span> <span class="n">HumanReadableNames</span><span class="p">(</span>
                            <span class="n">human_readable_name</span><span class="o">=</span><span class="n">name_model</span><span class="o">.</span><span class="n">human_readable_name</span><span class="p">,</span>
                            <span class="n">digest</span><span class="o">=</span><span class="n">existing</span><span class="o">.</span><span class="n">digest</span><span class="p">,</span>
                        <span class="p">)</span>

                        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_name</span><span class="p">)</span>

                        <span class="n">existing</span><span class="o">.</span><span class="n">human_readable_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_name</span><span class="p">)</span>

                <span class="k">for</span> <span class="n">attr_name</span><span class="p">,</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">processed_attrs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="c1"># Update attribute reference</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="n">existing</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">attr_name</span><span class="si">}</span><span class="s2">_digest&quot;</span><span class="p">,</span> <span class="n">attr</span><span class="o">.</span><span class="n">digest</span><span class="p">)</span>

                    <span class="c1"># Update relationship - first remove from all existing collections</span>
                    <span class="nb">getattr</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="s2">&quot;collection&quot;</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">existing</span><span class="p">)</span>

                <span class="c1"># Update transient attributes</span>
                <span class="n">existing</span><span class="o">.</span><span class="n">sorted_name_length_pairs_digest</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">seqcol</span><span class="o">.</span><span class="n">sorted_name_length_pairs_digest</span>
                <span class="p">)</span>

                <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
                <span class="k">return</span> <span class="n">existing</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Create new collection</span>
                <span class="n">new_collection</span> <span class="o">=</span> <span class="n">SequenceCollection</span><span class="p">(</span>
                    <span class="n">digest</span><span class="o">=</span><span class="n">seqcol</span><span class="o">.</span><span class="n">digest</span><span class="p">,</span>
                    <span class="n">human_readable_names</span><span class="o">=</span><span class="n">seqcol</span><span class="o">.</span><span class="n">human_readable_names</span><span class="p">,</span>
                    <span class="n">sorted_name_length_pairs_digest</span><span class="o">=</span><span class="n">seqcol</span><span class="o">.</span><span class="n">sorted_name_length_pairs_digest</span><span class="p">,</span>
                <span class="p">)</span>

                <span class="c1"># Link attributes to collection</span>
                <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">processed_attrs</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="nb">getattr</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="s2">&quot;collection&quot;</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_collection</span><span class="p">)</span>

                <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_collection</span><span class="p">)</span>
                <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
                <span class="k">return</span> <span class="n">new_collection</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="refget.agents.SequenceCollectionAgent.add_from_dict" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">add_from_dict</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">add_from_dict</span><span class="p">(</span><span class="n">seqcol_dict</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Add a sequence collection from a seqcol dictionary</p>
<p>Args:
- seqcol_dict (dict): The sequence collection in dictionary form
- update (bool): If True, update an existing collection if it exists</p>
<p>Returns:
- (SequenceCollection): The added or updated sequence collection</p>


            <details class="quote">
              <summary>Source code in <code>refget/agents.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_from_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seqcol_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SequenceCollection</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add a sequence collection from a seqcol dictionary</span>

<span class="sd">    Args:</span>
<span class="sd">    - seqcol_dict (dict): The sequence collection in dictionary form</span>
<span class="sd">    - update (bool): If True, update an existing collection if it exists</span>

<span class="sd">    Returns:</span>
<span class="sd">    - (SequenceCollection): The added or updated sequence collection</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">seqcol</span> <span class="o">=</span> <span class="n">SequenceCollection</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">seqcol_dict</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">inherent_attrs</span><span class="p">)</span>
    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SeqCol: </span><span class="si">{</span><span class="n">seqcol</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">_LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SeqCol name_length_pairs: </span><span class="si">{</span><span class="n">seqcol</span><span class="o">.</span><span class="n">name_length_pairs</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">seqcol</span><span class="p">,</span> <span class="n">update</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="refget.agents.SequenceCollectionAgent.add_from_fasta_file" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">add_from_fasta_file</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">add_from_fasta_file</span><span class="p">(</span><span class="n">fasta_file_path</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Given a path to a fasta file, load the sequences into the refget database.</p>
<p>Args:
- fasta_file_path (str): Path to the fasta file
- update (bool): If True, update an existing collection if it exists</p>
<p>Returns:
- (SequenceCollection): The added or updated sequence collection</p>


            <details class="quote">
              <summary>Source code in <code>refget/agents.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_from_fasta_file</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">fasta_file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SequenceCollection</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Given a path to a fasta file, load the sequences into the refget database.</span>

<span class="sd">    Args:</span>
<span class="sd">    - fasta_file_path (str): Path to the fasta file</span>
<span class="sd">    - update (bool): If True, update an existing collection if it exists</span>

<span class="sd">    Returns:</span>
<span class="sd">    - (SequenceCollection): The added or updated sequence collection</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">CSC</span> <span class="o">=</span> <span class="n">fasta_to_seqcol_dict</span><span class="p">(</span><span class="n">fasta_file_path</span><span class="p">)</span>
    <span class="n">seqcol</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_from_dict</span><span class="p">(</span><span class="n">CSC</span><span class="p">,</span> <span class="n">update</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">seqcol</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="refget.agents.SequenceCollectionAgent.add_from_fasta_file_with_name" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">add_from_fasta_file_with_name</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">add_from_fasta_file_with_name</span><span class="p">(</span><span class="n">fasta_file_path</span><span class="p">,</span> <span class="n">human_readable_name</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Given a path to a fasta file, and a human-readable name, load the sequences into the refget database.</p>
<p>Args:
- fasta_file_path (str): Path to the fasta file
- human_readable_name (str): human_readable_name
- update (bool): If True, update an existing collection if it exists</p>
<p>Returns:
- (SequenceCollection): The added or updated sequence collection</p>


            <details class="quote">
              <summary>Source code in <code>refget/agents.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_from_fasta_file_with_name</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">fasta_file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">human_readable_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">update</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SequenceCollection</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Given a path to a fasta file, and a human-readable name, load the sequences into the refget database.</span>

<span class="sd">    Args:</span>
<span class="sd">    - fasta_file_path (str): Path to the fasta file</span>
<span class="sd">    - human_readable_name (str): human_readable_name</span>
<span class="sd">    - update (bool): If True, update an existing collection if it exists</span>

<span class="sd">    Returns:</span>
<span class="sd">    - (SequenceCollection): The added or updated sequence collection</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">CSC</span> <span class="o">=</span> <span class="n">fasta_to_seqcol_dict</span><span class="p">(</span><span class="n">fasta_file_path</span><span class="p">)</span>
    <span class="n">CSC</span><span class="p">[</span><span class="s2">&quot;human_readable_names&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">human_readable_name</span>
    <span class="n">seqcol</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_from_dict</span><span class="p">(</span><span class="n">CSC</span><span class="p">,</span> <span class="n">update</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">seqcol</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="refget.agents.SequenceCollectionAgent.add_from_fasta_pep" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">add_from_fasta_pep</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">add_from_fasta_pep</span><span class="p">(</span><span class="n">pep</span><span class="p">,</span> <span class="n">fa_root</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Given a path to a PEP file and a root directory containing the fasta files,
load the fasta files into the refget database.</p>
<p>Args:
- pep_path (str): Path to the PEP file
- fa_root (str): Root directory containing the fasta files</p>
<p>Returns:
- (dict): A dictionary of the digests of the added sequence collections</p>


            <details class="quote">
              <summary>Source code in <code>refget/agents.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_from_fasta_pep</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pep</span><span class="p">:</span> <span class="n">peppy</span><span class="o">.</span><span class="n">Project</span><span class="p">,</span> <span class="n">fa_root</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Given a path to a PEP file and a root directory containing the fasta files,</span>
<span class="sd">    load the fasta files into the refget database.</span>

<span class="sd">    Args:</span>
<span class="sd">    - pep_path (str): Path to the PEP file</span>
<span class="sd">    - fa_root (str): Root directory containing the fasta files</span>

<span class="sd">    Returns:</span>
<span class="sd">    - (dict): A dictionary of the digests of the added sequence collections</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">total_files</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pep</span><span class="o">.</span><span class="n">samples</span><span class="p">)</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">pep</span><span class="o">.</span><span class="n">samples</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">fa_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">fa_root</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">fasta</span><span class="p">)</span>
        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Loading </span><span class="si">{</span><span class="n">fa_path</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2"> of </span><span class="si">{</span><span class="n">total_files</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>  <span class="c1"># Record start time</span>
        <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">sample_name</span><span class="p">:</span>
            <span class="n">results</span><span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">fasta</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_from_fasta_file_with_name</span><span class="p">(</span>
                <span class="n">fa_path</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">sample_name</span><span class="p">,</span> <span class="n">update</span>
            <span class="p">)</span><span class="o">.</span><span class="n">digest</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">results</span><span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">fasta</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_from_fasta_file</span><span class="p">(</span><span class="n">fa_path</span><span class="p">,</span> <span class="n">update</span><span class="p">)</span><span class="o">.</span><span class="n">digest</span>
        <span class="n">elapsed_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>  <span class="c1"># Calculate elapsed time</span>

        <span class="n">_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Loaded in </span><span class="si">{</span><span class="n">elapsed_time</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> seconds&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="refget.agents.SequenceCollectionAgent.get" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">get</span><span class="p">(</span><span class="n">digest</span><span class="p">,</span> <span class="n">return_format</span><span class="o">=</span><span class="s1">&#39;level2&#39;</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">itemwise_limit</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get a sequence collection by digest</p>
<p>Args:
- digest (str): The digest of the sequence collection
- return_format (str): The format in which to return the sequence collection
- attribute (str): Name of an attribute to return, if you just want an attribute
- itemwise_limit (int): Limit the number of items returned in itemwise format</p>
<p>Returns:
- (SequenceCollection): The sequence collection (in requested format)</p>


            <details class="quote">
              <summary>Source code in <code>refget/agents.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">digest</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">return_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;level2&quot;</span><span class="p">,</span>
    <span class="n">attribute</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">itemwise_limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SequenceCollection</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get a sequence collection by digest</span>

<span class="sd">    Args:</span>
<span class="sd">    - digest (str): The digest of the sequence collection</span>
<span class="sd">    - return_format (str): The format in which to return the sequence collection</span>
<span class="sd">    - attribute (str): Name of an attribute to return, if you just want an attribute</span>
<span class="sd">    - itemwise_limit (int): Limit the number of items returned in itemwise format</span>

<span class="sd">    Returns:</span>
<span class="sd">    - (SequenceCollection): The sequence collection (in requested format)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">Session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">SequenceCollection</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">SequenceCollection</span><span class="o">.</span><span class="n">digest</span> <span class="o">==</span> <span class="n">digest</span><span class="p">)</span>
        <span class="n">results</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span>
        <span class="n">seqcol</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">one_or_none</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">seqcol</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;SequenceCollection with digest &#39;</span><span class="si">{</span><span class="n">digest</span><span class="si">}</span><span class="s2">&#39; not found&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">attribute</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">seqcol</span><span class="p">,</span> <span class="n">attribute</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
        <span class="k">elif</span> <span class="n">return_format</span> <span class="o">==</span> <span class="s2">&quot;level2&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">seqcol</span><span class="o">.</span><span class="n">level2</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">return_format</span> <span class="o">==</span> <span class="s2">&quot;level1&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">seqcol</span><span class="o">.</span><span class="n">level1</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">return_format</span> <span class="o">==</span> <span class="s2">&quot;itemwise&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">seqcol</span><span class="o">.</span><span class="n">itemwise</span><span class="p">(</span><span class="n">itemwise_limit</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">seqcol</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h3 id="sequenceagent">SequenceAgent</h3>
<p>Agent for individual sequence operations:</p>


<div class="doc doc-object doc-class">



<h3 id="refget.agents.SequenceAgent" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">SequenceAgent</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">SequenceAgent</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="object">object</span></code></p>


        <p>Agent for interacting with database of sequences</p>








                  <details class="quote">
                    <summary>Source code in <code>refget/agents.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">79</span>
<span class="normal">80</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">engine</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">engine</span> <span class="o">=</span> <span class="n">engine</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">












  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../changelog/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Changelog">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Changelog
              </div>
            </div>
          </a>
        
        
          
          <a href="../models/" class="md-footer__link md-footer__link--next" aria-label="Next: Pydantic models">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Pydantic models
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <a class="" href="http://databio.org/">
  <img src="https://databio.org/images/logo/logo_databio_long.svg"
    style="height:60px;"
    alt="Databio logo">
</a>

    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["header.autohide", "navigation.sections", "navigation.footer", "navigation.indexes", "toc.follow", "content.action.edit", "content.action.view", "navigation.tabs", "navigation.top"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>